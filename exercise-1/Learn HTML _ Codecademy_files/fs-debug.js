//!This code is part of the Services provided by FullStory, Inc. For license information, please refer to https://www.fullstory.com/legal/terms-and-conditions/
//!Portions of this code are licensed under the following license:
//!  For license information please see fs.js.LEGAL.txt 
"use strict";!function(){var t=function(n,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(n,i)};function n(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}var i=function(){return i=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},i.apply(this,arguments)};function r(t,n,i,r){return new(i||(i=Promise))(function(e,s){function o(t){try{a(r.next(t))}catch(t){s(t)}}function u(t){try{a(r["throw"](t))}catch(t){s(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(t){t(n)})).then(o,u)}a((r=r.apply(t,n||[])).next())})}function e(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),"throw":u(1),"return":u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(a){return function(u){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(i=1,r&&(e=2&u[0]?r["return"]:u[0]?r["throw"]||((e=r["return"])&&e.call(r),0):r.next)&&!(e=e.call(r,u[1])).done)return e;switch(r=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((e=(e=o.trys).length>0&&e[e.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!e||u[1]>e[0]&&u[1]<e[3])){o.label=u[1];break}if(6===u[0]&&o.label<e[1]){o.label=e[1],e=u;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(u);break}e[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(t,o)}catch(t){u=[6,t],r=0}finally{i=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}function s(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}var o=function(){function t(t,n,i){void 0===n&&(n=function(){}),void 0===i&&(i=!1),this.t=t,this.i=n,this.o=i,this._cookies={},this._cookies=bn(this.t)}return t.prototype.setDomain=function(t){this.v=t},t.prototype.getValue=function(t,n){return this.g(t,n)},t.prototype.setValue=function(t,n,i,r){var e=this;if(null!=this.v&&!this.o){var s=[];this.S(t,r,n,function(){return e.k(t,r,n,i)},s),s.length>0&&this.i(s)}},t.prototype.setCookie=function(t,n,i){this._setCookie(t,n,i)},Object.defineProperty(t.prototype,"cookies",{get:function(){return this._cookies},enumerable:!1,configurable:!0}),t.prototype.clearCookie=function(t,n){this._cookies[t]&&(this.t.cookie=u(this.v,t,"","Thu, 01 Jan 1970 00:00:01 GMT"),delete this._cookies[t]);try{delete localStorage[null!=n?n:t]}catch(t){}},t.prototype._setCookie=function(t,n,i){try{if(this.t.cookie=u(this.v,t,n,i),this.t.cookie&&this.t.cookie.indexOf(n)>-1)return;if(this.t.cookie=u(this.v,t,n,i,"None"),this.t.cookie&&this.t.cookie.indexOf(n)>-1)return}finally{this._cookies=bn(this.t)}},t.prototype.k=function(t,n,i,r){this._setCookie(t,i,r),function(t,n){try{localStorage[t]=n}catch(t){}}(null!=n?n:t,i)},t.prototype.g=function(t,n){var i,r=this._cookies[t];try{i=localStorage[null!=n?n:t]}catch(t){}return{cookieValue:r,localStorageValue:i}},t.prototype.S=function(t,n,i,r,e,s){void 0===s&&(s=3),r();for(var o=!1,u=!1,a=1;a<s;a++){var c=this.g(t,n),h=c.cookieValue;if(u=c.localStorageValue===i,(o=h===i)&&u)return!0;if(o)break;r()}return o||e.push([t,"cookie",i]),u||e.push([null!=n?n:t,"localStorage",i]),!1},t}();function u(t,n,i,r,e){void 0===e&&(e="Strict");var s=n+"="+i,o=function(t){if(t)return"."+encodeURIComponent(t)}(t);return o&&(s+="; domain="+o),r&&(s+="; Expires="+r),s+="; path=/; SameSite="+e,"https:"===location.protocol&&(s+="; Secure"),s}function a(t,n,i,r){var e=i(t),s=i(n);return e?s?r(e,s):e:s}var c=navigator.userAgent,h=c.indexOf("MSIE ")>-1||c.indexOf("Trident/")>-1,f=(h&&c.indexOf("Trident/5"),h&&c.indexOf("Trident/6"),h&&c.indexOf("rv:11")>-1),v=c.indexOf("Edge/")>-1,l=c.indexOf("Opera/")>-1,d=(c.indexOf("CriOS"),c.indexOf("Snapchat")>-1),p=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),g=/^((?!chrome|android).)*(safari)/i.test(window.navigator.userAgent),w=p||g;function m(){var t=window.navigator.userAgent.match(/Version\/(\d+)/);return t&&t[1]?parseInt(t[1],10):-1}function y(t){if(!w)return!1;var n=m();return n>=0&&n===t}function b(t){if(!w)return!1;var n=m();return n>=0&&n<t}y(9),y(10);var S=b(8);function k(t,n){for(var i=0===n.indexOf("on")?function(t){return"on"+t+n.slice(2)}:function(t){return""+t+n.charAt(0).toUpperCase()+n.slice(1)},r=0,e=[function(){return n},function(){return i("webkit")},function(){return i("moz")},function(){return i("ms")}];r<e.length;r++){var s=(0,e[r])();if(s in t)return s}return n}function A(t){window.console&&console.log(t)}function _(t){var n,i;return"function"==typeof(null===(n=null==t?void 0:t.performance)||void 0===n?void 0:n.measure)&&"function"==typeof(null===(i=null==t?void 0:t.performance)||void 0===i?void 0:i.mark)}function I(t){return t+".start"}function E(t){return t+".end"}function C(t,n){_(t)&&t.performance.mark(I(n))}function T(t,n){if(_(t))try{t.performance.mark(E(n)),t.performance.measure(n,I(n),E(n))}catch(t){A(""+t)}}b(10),b(12);var x,R,K="Processing Event Queue: Sample Curves",M="Processing Event Queue: Mutations",j="Event Queue Swansong",P="Event Watcher: Processing Urls",O="Handle RecPage",N="Initialization",U="genInsert",L="POST Bundle",F="Processing Bundle",H="Sending Bundle",D="Snapshot",B="Starting Event Queue Pipeline",W={mutationObserver:function(t){var n;return null===(n=t.MutationObserver)||void 0===n?void 0:n.prototype.observe}};(R=x||(x={}))[R.Unknown=0]="Unknown",R[R.Clean=1]="Clean",R[R.UnrecoverableFailure=2]="UnrecoverableFailure";var z=new(function(){function t(t){this.rebuildFromSnapshot(t)}return t.prototype.rebuildFromSnapshot=function(t){var n=this.snapshot;if(this.snapshot=t,!n||n.functions!==t.functions){var i=t.functions;this.arrayIsArray=i.arrayIsArray,this.clearWindowInterval=$(i.clearWindowInterval),this.clearWindowTimeout=$(i.clearWindowTimeout),this.dateGetTime=$(i.dateGetTime),this.dateNow=i.dateNow,this.docFragQuerySelectorAll=$(i.docFragQuerySelectorAll),this.docQuerySelectorAll=$(i.docQuerySelectorAll),this.elMatches=$(i.elMatches),this.elQuerySelectorAll=$(i.elQuerySelectorAll),this.jsonParse=i.jsonParse,this.jsonStringify=i.jsonStringify,this.matchMedia=V(i.matchMedia),this.mathAbs=i.mathAbs,this.mathFloor=i.mathFloor,this.mathMax=i.mathMax,this.mathMin=i.mathMin,this.mathPow=i.mathPow,this.mathRandom=i.mathRandom,this.mathRound=i.mathRound,this.objectHasOwnProp=$(i.objectHasOwnProp),this.objectKeys=i.objectKeys,this.objectValues=i.objectValues||null,this.requestWindowAnimationFrame=V(i.requestWindowAnimationFrame),this.requestWindowIdleCallback=V(i.requestWindowIdleCallback),this.setWindowInterval=$(i.setWindowInterval),this.setWindowTimeout=$(i.setWindowTimeout),this.mutationObserver=i.mutationObserver||null}},t}())(q(window));function q(t,n){void 0===n&&(n=x.Unknown);var i=n,r=[],e=function(t){return i=x.UnrecoverableFailure,r.push("Snapshot failed: "+t),function(){throw new Error("Invoked failed snapshot")}},s=function(t){try{return t()}catch(t){return e(t.message)}},o=function(t){try{return t()||e("snapshot not found")}catch(t){return e(t.message)}},u={arrayIsArray:s(function(){return t.Array.isArray}),clearWindowInterval:s(function(){return t.clearInterval}),clearWindowTimeout:s(function(){return t.clearTimeout}),dateGetTime:s(function(){return t.Date.prototype.getTime}),dateNow:s(function(){return t.Date.now}),docFragQuerySelectorAll:o(function(){var n;return null===(n=t.DocumentFragment)||void 0===n?void 0:n.prototype.querySelectorAll}),docQuerySelectorAll:o(function(){var n;return null!==(n=t.Document.prototype.querySelectorAll)&&void 0!==n?n:t.document.querySelectorAll}),elMatches:o(function(){return X(t,G)}),elQuerySelectorAll:o(function(){return X(t,Q)}),jsonParse:s(function(){return t.JSON.parse}),jsonStringify:s(function(){return t.JSON.stringify}),matchMedia:s(function(){return t.matchMedia}),mathAbs:s(function(){return t.Math.abs}),mathFloor:s(function(){return t.Math.floor}),mathMax:s(function(){return t.Math.max}),mathMin:s(function(){return t.Math.min}),mathPow:s(function(){return t.Math.pow}),mathRandom:s(function(){return t.Math.random}),mathRound:s(function(){return t.Math.round}),objectHasOwnProp:s(function(){return t.Object.prototype.hasOwnProperty}),objectKeys:s(function(){return t.Object.keys}),objectValues:s(function(){return t.Object.values}),requestWindowAnimationFrame:s(function(){return t.requestAnimationFrame}),requestWindowIdleCallback:s(function(){return t.requestIdleCallback}),setWindowInterval:s(function(){return t.setInterval}),setWindowTimeout:s(function(){return t.setTimeout}),mutationObserver:s(function(){return t.MutationObserver})},a={functionToString:s(function(){return t.Function.prototype.toString}),objectToString:s(function(){return t.Object.prototype.toString})};return{status:i,functions:u,helpers:a,errors:r}}function $(t){return function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return t.apply(n,i)}}function V(t){return t?$(t):null}function G(t){return t.matches||t.webkitMatchesSelector||t.msMatchesSelector||t.mozMatchesSelector}function Q(t){return t.querySelectorAll}function X(t,n){var i,r,e=(null===(i=t.Element)||void 0===i?void 0:i.prototype)?n(null===(r=t.Element)||void 0===r?void 0:r.prototype):void 0,s=t.document?t.document.documentElement:void 0;if(!s||e&&s instanceof t.Element||(e=n(s)),!e)throw new Error("Unabled to find Element proto function");return e}function Y(t,n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];try{return t.apply(this,i)}catch(t){try{n&&n(t)}catch(t){}}}}var J,Z,tt=function(){},nt="_fs_weak_map_key",it=function(){function t(t,n){void 0===n&&(n=!1),this.A=n,this._=new WeakMap(t)}return t.prototype.get=function(t){return this.A||!this._.has(t)?this._.get(rt(t)):this._.get(t)},t.prototype.set=function(t,n){if(!this.A)try{return this._.set(t,n),this}catch(t){}return this.I(t,n)},t.prototype.I=function(t,n){return t[nt]=rt(t),this._.set(t[nt],n),this},t.prototype["delete"]=function(t){return this._["delete"](t)||this._["delete"](rt(t))},t.prototype.has=function(t){return this._.has(t)||this._.has(rt(t))},t}();function rt(t){return Object.prototype.hasOwnProperty.call(t,nt)?t[nt]:{}}function et(t){var n;return(null===(n=t.childNodes)||void 0===n?void 0:n.length)>0}function st(t,n){ut(t.childNodes,n)}function ot(t,n){ut(t.childNodes,n,!0)}function ut(t,n,i){void 0===i&&(i=!1);for(var r=i?t.length-1:0,e=i?-1:t.length;r!==e;){var s=t[r];if(s&&"frag"in s&&!nn(s)&&Array.isArray(s.frag))s.frag.length&&ut(s.childNodes,n,i);else if(n(s)===J.Exit)break;i?--r:++r}}function at(t){var n=t.nextSibling;return n&&t.parentNode&&n===t.parentNode.firstChild?null:n}function ct(t){var n=t.previousSibling;return n&&t.parentNode&&n===t.parentNode.lastChild?null:n}function ht(t){return t.parentNode}function ft(t){return et(t)?t.childNodes[0]:null}function vt(t){try{var n=function(t){var n,i=null!==(n=t.ownerDocument)&&void 0!==n?n:t;return 9===i.nodeType?i:document}(t);ke(9===n.nodeType,"unable to find document");var i=n.createTreeWalker(n,NodeFilter.SHOW_ALL,null,!1);return i.currentNode=t,i}catch(t){return}}function lt(t,n){var i=vt(t);if(i)for(var r=i.firstChild();r;)n(r),r=i.nextSibling()}function dt(t,n){var i=vt(t);if(i)for(var r=i.lastChild();r;)n(r),r=i.previousSibling()}function pt(t){var n=vt(t);return n?n.nextSibling():null}function gt(t){var n=vt(t);return n?n.previousSibling():null}function wt(t){var n=vt(t);return n?n.parentNode():null}function mt(t){var n=vt(t);return n?n.firstChild():null}function yt(t){return!!mt(t)}(Z=J||(J={})).ContinueProcessing=0,Z.Exit=1;var bt=!1;function St(t){return(bt?mt:ft)(t)}function kt(t,n){return(bt?lt:st)(t,n)}function At(t,n){return(bt?dt:ot)(t,n)}function _t(t){return(bt?yt:et)(t)}function It(t){return(bt?pt:at)(t)}function Et(t){return(bt?wt:ht)(t)}function Ct(t){return(bt?gt:ct)(t)}function Tt(t){return z.arrayIsArray(t)}function xt(t,n){for(var i=0,r=t;i<r.length;i++)if(n(r[i]))return!0;return!1}function Rt(t){var n=parseInt(null!=t?t:"",10);return isNaN(n)?void 0:n}function Kt(t){return null!==t&&"object"==typeof t}function Mt(t){return Kt(t)&&!Tt(t)&&t.constructor!==Date}function jt(t){if(null!=t){var n=Pt(t)?t:new Date(t);try{return n.toISOString()}catch(n){if("string"==typeof t)return t}}return null}function Pt(t){return null!=t&&t.constructor===Date}function Ot(t){return"string"==typeof t}var Nt="function"==typeof z.objectKeys?function(t){return z.objectKeys(t)}:function(t){var n=[];for(var i in t)z.objectHasOwnProp(t,i)&&n.push(i);return n};function Ut(t,n){return 0==t.lastIndexOf(n,0)}function Lt(t,n){for(var i in t)z.objectHasOwnProp(t,i)&&n(t[i],i,t)}function Ft(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}function Ht(t,n){var i=0;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&++i>n)return!1;return i==n}function Dt(t,n){var i=0;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&++i>n)return!0;return!1}function Bt(t){var n,i;return"function"==typeof(null===(i=null===(n=t.Zone)||void 0===n?void 0:n.root)||void 0===i?void 0:i.run)}function Wt(t){return function(){for(var n=this,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return Bt(window)?window.Zone.root.run(function(){return t.apply(n,i)}):t.apply(this,i)}}function zt(t,n,i){if(void 0===i&&(i=Wt),!t)return tt;var r=i(t);return Y(n?r.bind(n):r,function(t){A("Unexpected error: "+t)})}function qt(t){var n,i=Object.getOwnPropertyDescriptor(Array.prototype,"toJSON"),r=Object.getOwnPropertyDescriptor(String.prototype,"toJSON");try{i&&i.value&&i.configurable&&delete Array.prototype.toJSON,r&&r.value&&r.configurable&&delete String.prototype.toJSON,n=z.jsonStringify(t)}catch(t){n=$t(t)}finally{(null==i?void 0:i.value)&&Y(function(){return Object.defineProperty(Array.prototype,"toJSON",i)})(),(null==r?void 0:r.value)&&Y(function(){return Object.defineProperty(String.prototype,"toJSON",r)})()}return n}function $t(t){var n="Internal error: unable to determine what JSON error was";try{n=(n=""+t).replace(/[^a-zA-Z0-9.:!, ]/g,"_")}catch(t){}return"\""+n+"\""}function Vt(t){var n=t.doctype;if(!n)return"";var i="<!DOCTYPE ";return i+=n.name,n.publicId&&(i+=" PUBLIC \""+n.publicId+"\""),n.systemId&&(i+=" \""+n.systemId+"\""),i+">"}function Gt(t){return z.jsonParse(t)}var Qt=function(){function t(t,n,i){void 0===i&&(i=!1),this.C=t,this.T=n,this.R=i,this.K=tt,this.M=tt,this.j=tt,this.P=!1}return t.prototype.before=function(t){return this.K=zt(t),this},t.prototype.afterSync=function(t){return this.M=zt(t),this},t.prototype.afterAsync=function(t){return this.j=zt(function(n){z.setWindowTimeout(window,Y(function(){t(n)}),0)}),this},t.prototype.disable=function(){if(this.P=!1,this.O){var t=this.O,n=t.override,i=t["native"];this.C[this.T]===n&&(this.C[this.T]=i,this.O=void 0)}},t.prototype.enable=function(){if(this.P=!0,this.O)return!0;this.O=this.N();try{this.C[this.T]=this.O.override}catch(t){return!1}return!0},t.prototype.getTarget=function(){return this.C},t.prototype.N=function(){var t=this,n=this,i=this.C[this.T],r=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e={that:this,args:t,result:null};n.P&&n.K(e);var s=i.apply(this,t);return e.result=s,n.P&&(n.M(e),n.j(e)),e.result};return this.R&&(r.toString=function(){var n;return"function "+(null!==(n=t.T)&&void 0!==n?n:"")+"() { [native code] }"}),{"native":i,override:r}},t}(),Xt={};function Yt(t,n,i){var r;if(void 0===i&&(i=!1),!t||"function"!=typeof t[n])return null;Xt[n]=null!==(r=Xt[n])&&void 0!==r?r:new it;var e=Xt[n].get(t);return e||(e=new Qt(t,n,i),Xt[n].set(t,e)),e.enable()?e:null}function Jt(t,n,i){return Zt(null==t?void 0:t.prototype,n,i)}function Zt(t,n,r){if(!t)return function(){};var e=Object.getOwnPropertyDescriptor(t,n);if(!e||!e.set)return function(){};var s=e.set,o=zt(r),u=!0;function a(t){s.call(this,t),u&&o(this,t)}return Object.defineProperty(t,n,i(i({},e),{set:a})),function(){u=!1;var r=Object.getOwnPropertyDescriptor(t,n);r&&a===r.set&&Object.defineProperty(t,n,i(i({},r),{set:s}))}}function tn(t){var n=t.navigator.languages;return n&&Tt(n)?n.join(","):t.navigator.userLanguage||t.navigator.language}function nn(t){if(!t)return!1;var n=t.isConnected;return"boolean"==typeof n?n:9===function(t){for(var n=t,i=void 0;n;n=i)if(!(i=Et(n)))return n;return t}(t).nodeType}function rn(){var t=function(){return z.dateNow()};return"number"!=typeof t()&&(t=function(){return z.dateGetTime(new Date)}),t}var en,sn,on,un=(sn=rn(),on=null!==(en=function(){var t;if(function(){var t=window.performance;return!(!t||!t.now)}()){var n=window.performance,i=n.now();if("number"==typeof i&&isFinite(i)&&!(i<=0)){var r=n.timeOrigin;if("number"!=typeof r){var e=rn()()-n.now(),s=null===(t=n.timing)||void 0===t?void 0:t.navigationStart;r=s?Math.min(e,s):e}var o=Math.round(r);if("number"==typeof o&&isFinite(o)&&!(o<=0))return o}}}())&&void 0!==en?en:sn(),{now:sn,timeOrigin:on,msSinceDocumentStart:function(){return sn()-on}});function an(){return un.now()}function cn(){return un.msSinceDocumentStart()}var hn,fn,vn,ln,dn,pn=["","0","1","-1","true","false","n/a","nan","undefined","null","nil","the_id_that_you_use_in_your_app_for_this_user"],gn=["811c9dc5","350ca8af","340ca71c","14cd0a2b","4db211e5","0b069958","3613e041","2f8f13ba","9b61ad43","77074ba4","0da3f8ec","1c750511"],wn=function(){return z.mathFloor(an()/1e3)},mn=function(){return wn()+31536e3};function yn(t){if(!t)return null;var n,i=t.split("#");if(i.length<3)return null;for(var r=2;r<i.length;r++){var e=i[r];if(e.indexOf("/")>=0){var s=e.split("/"),o=s[0],u=s[1];i[r]=o,n=u;break}}var a=function(t){var n=parseInt(null!=t?t:"",10),i=wn(),r=mn();return isNaN(n)?r:n<=i?void 0:n>r?r:n}(n);if(!a)return null;i[0];var c=i[1],h=i[2],f=i[3],v="";f&&(v=decodeURIComponent(f),(pn.indexOf(v)>=0||gn.indexOf(v)>=0)&&(A("Ignoring invalid app key \""+v+"\" from cookie."),v=""));var l=(null!=h?h:"").split(":"),d=l[0],p=l[1],g=l[2];return l[3],{appKeyHash:v,expirationAbsTimeSeconds:a,userId:d,orgId:c,pageCount:Rt(l[4]),sessionId:null!=p?p:"",sessionStartTime:Rt(g)}}function bn(t){var n={};try{for(var i=t.cookie.split(";"),r=0;r<i.length;r++){var e=i[r].replace(/^\s+|\s+$/g,"").split("=");n[e[0]]||(n[e[0]]=e[1])}}catch(t){A("Exception trying to parse cookies: "+t)}return n}function Sn(t){if(hn)return hn;var n=kn(t);return n||(n=t._fs_namespace)?(hn=n,n):hn="FS"}function kn(t){return t._fs_loaded}function An(t){return t[Sn(t)]}function _n(t){return"localhost"==t||"127.0.0.1"==t}(vn=fn||(fn={})).Consent="consent",vn.Log="log",vn.Record="rec",(dn=ln||(ln={})).Event="event",dn.Page="page",dn.Vars="setVars",dn.User="user";var In=/^([^.]+\.)*(fullstory|onfire).[^.]+(\/|$)/;function En(t){return Tn(t,"edge")}var Cn=["rs","rs-2","edge","www","app"];function Tn(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!t)return t;if(!In.test(t))return t;if(n.some(function(n){return 0===t.lastIndexOf(n+".",0)}))return t;for(var r=n[0],e=0,s=Cn;e<s.length;e++){var o=s[e];if(0===t.lastIndexOf(o+".",0))return r+"."+t.slice((o+".").length)}return r+"."+t}function xn(t){return In.test(t)}function Rn(t,n,i){void 0===i&&(i="string");var r=t[n];if(typeof r===i)return r}function Kn(t){return Rn(t,"_fs_script")||qn(Wn(t))}function Mn(t){var n;return null!==(n=Rn(t,"_fs_rec_settings_host"))&&void 0!==n?n:En(Wn(t))}function jn(t){return Rn(t,"_fs_rec_host")||Tn(Wn(t),"rs","rs-2")}function Pn(t){return Rn(t,"_fs_app_host")||zn(Wn(t))}function On(t){return Rn(t,"_fs_ext_org")||Rn(t,"_fs_org")}function Nn(t){var n=Rn(t,"_fs_capture_on_startup","boolean"),i=Rn(t,"_fs_capture_on_start","boolean");return void 0===n?void 0===i||!i:n}function Un(t){return!!Rn(t,"_fs_is_outer_script","boolean")}function Ln(t){return Rn(t,"_fs_transport","object")}function Fn(t){return Rn(t,"_fs_settings","object")}function Hn(t){var n=An(t);if(!n)return[];var i=n.q;return i?(delete n.q,i):[]}function Dn(t,n){var i=An(t);if(i){var r=i.q;r||(r=i.q=[]),r.push(n)}}function Bn(t){var n=An(t);return(null==n?void 0:n._v)||"unknown"}function Wn(t){var n=Rn(t,"_fs_ext_host")||Rn(t,"_fs_host");if(n){var i=function(t){var n,i,r=null!==(i=null===(n=On(t))||void 0===n?void 0:n.split("-"))&&void 0!==i?i:[];if(!(r.length<3)){var e=r[0],s=r[r.length-1];if(!("na1"===s||e.length>1))return s}}(t);if(!i||!xn(n))return n;var r="";return 0===n.indexOf("www.")&&(n=n.slice(4),r="www."),0===n.indexOf(i+".")&&(n=n.slice((i+".").length)),""+r+i+"."+n}}function zn(t){return t?_n(function(t){var n=t,i=n.indexOf(":");return i>=0&&(n=n.slice(0,i)),n}(t))?t:0==t.indexOf("www.")?"app."+t.slice(4):"app."+t:t}function qn(t){var n=En(t);if(n)return n+"/s/fs.js"}var $n,Vn,Gn,Qn,Xn,Yn,Jn,Zn,ti,ni,ii,ri,ei=function(t,n,i){this.name="ProtocolError",this.message=n,this.status=t,this.data=i};function si(t){return t>=400&&502!==t||202==t||206==t}(Vn=$n||($n={})).MUT_INSERT=2,Vn.MUT_REMOVE=3,Vn.MUT_ATTR=4,Vn.MUT_TEXT=6,Vn.MOUSEMOVE=8,Vn.MOUSEMOVE_CURVE=9,Vn.SCROLL_LAYOUT=10,Vn.SCROLL_LAYOUT_CURVE=11,Vn.MOUSEDOWN=12,Vn.MOUSEUP=13,Vn.CLICK=16,Vn.FOCUS=17,Vn.VALUECHANGE=18,Vn.RESIZE_LAYOUT=19,Vn.DOMLOADED=20,Vn.LOAD=21,Vn.PLACEHOLDER_SIZE=22,Vn.UNLOAD=23,Vn.BLUR=24,Vn.SET_FRAME_BASE=25,Vn.TOUCHSTART=32,Vn.TOUCHEND=33,Vn.TOUCHCANCEL=34,Vn.TOUCHMOVE=35,Vn.TOUCHMOVE_CURVE=36,Vn.NAVIGATE=37,Vn.PLAY=38,Vn.PAUSE=39,Vn.RESIZE_VISUAL=40,Vn.RESIZE_VISUAL_CURVE=41,Vn.RESIZE_DOCUMENT_CONTENT=42,Vn.RESIZE_SCROLLABLE_ELEMENT_CONTENT=43,Vn.LOG=48,Vn.ERROR=49,Vn.DBL_CLICK=50,Vn.FORM_SUBMIT=51,Vn.WINDOW_FOCUS=52,Vn.WINDOW_BLUR=53,Vn.HEARTBEAT=54,Vn.WATCHED_ELEM=56,Vn.PERF_ENTRY=57,Vn.REC_FEAT_SUPPORTED=58,Vn.SELECT=59,Vn.CSSRULE_INSERT=60,Vn.CSSRULE_DELETE=61,Vn.FAIL_THROTTLED=62,Vn.AJAX_REQUEST=63,Vn.SCROLL_VISUAL_OFFSET=64,Vn.SCROLL_VISUAL_OFFSET_CURVE=65,Vn.MEDIA_QUERY_CHANGE=66,Vn.RESOURCE_TIMING_BUFFER_FULL=67,Vn.MUT_SHADOW=68,Vn.DISABLE_STYLESHEET=69,Vn.FULLSCREEN=70,Vn.FULLSCREEN_ERROR=71,Vn.ADOPTED_STYLESHEETS=72,Vn.CUSTOM_ELEMENT_DEFINED=73,Vn.MODAL_OPEN=74,Vn.MODAL_CLOSE=75,Vn.SLOW_INTERACTION=76,Vn.LONG_FRAME=77,Vn.TIMING=78,Vn.STORAGE_WRITE_FAILURE=79,Vn.DOCUMENT_PROPERTIES=80,Vn.ENTRY_NAVIGATE=81,Vn.STATS=82,Vn.VIEWPORT_INTERSECTION=83,Vn.COPY=84,Vn.PASTE=85,Vn.URL_SALT=86,Vn.URL_ID=87,Vn.FRAME_STATUS=88,Vn.SCRIPT_COMPILED_VERSION=89,Vn.RESET_CSS_SHEET=90,Vn.ANIMATION_CREATED=91,Vn.ANIMATION_METHOD_CALLED=92,Vn.ANIMATION_PROPERTY_SET=93,Vn.DOCUMENT_TIMELINE_CREATED=94,Vn.KEYFRAME_EFFECT_CREATED=95,Vn.KEYFRAME_EFFECT_METHOD_CALLED=96,Vn.KEYFRAME_EFFECT_PROPERTY_SET=97,Vn.CAPTURE_SOURCE=98,Vn.PAGE_DATA=99,Vn.VISIBILITY_STATE=100,Vn.DIALOG=101,Vn.CSSRULE_UPDATE=102,Vn.CANVAS=103,Vn.CANVAS_DETACHED_DIMENSION=104,Vn.INIT_API=105,Vn.DEFERRED_RESOLVED=106,Vn.DEFERRED_MUT_INSERT=107,Vn.DEFERRED_MUT_SHADOW=108,Vn.ELEMENT_PROP=109,Vn.BFCACHE_STATE=110,Vn.SESSION_INFO=111,Vn.KEEP_ELEMENT=2e3,Vn.KEEP_URL=2001,Vn.KEEP_BOUNCE=2002,Vn.SYS_SETVAR=8193,Vn.SYS_RESOURCEHASH=8195,Vn.SYS_SETCONSENT=8196,Vn.SYS_CUSTOM=8197,Vn.SYS_REPORTCONSENT=8198,Vn.SYS_LETHE_MOBILE_BUNDLE_SEQ=8199,(Qn=Gn||(Gn={})).Animation=0,Qn.CSSAnimation=1,Qn.CSSTransition=2,(Yn=Xn||(Xn={})).Internal=0,Yn.Public=1,(Zn=Jn||(Jn={})).Unknown=0,Zn.Serialization=1,(ni=ti||(ti={})).Unknown=0,ni.DomSnapshot=1,ni.NodeEncoding=2,ni.LzEncoding=3,ni.ApplyRules=4,ni.ProcessMut=5,(ri=ii||(ii={})).Unknown=0,ri.Successful=1,ri.BlocklistedFrame=2,ri.PartiallyLoaded=3,ri.MissingWindowOrDocument=4,ri.MissingDocumentHead=5,ri.MissingBodyOrChildren=6,ri.AlreadyDefined=7,ri.NoNonScriptElement=8,ri.Exception=9;var oi,ui,ai,ci,hi,fi,vi,li,di,pi,gi,wi,mi,yi,bi,Si,ki,Ai,_i,Ii,Ei,Ci,Ti,xi,Ri,Ki,Mi,ji,Pi,Oi,Ni,Ui,Li,Fi,Hi,Di,Bi,Wi,zi,qi,$i,Vi,Gi,Qi,Xi,Yi,Ji,Zi,tr,nr,ir=["print","alert","confirm"];function rr(t){switch(t){case $n.MOUSEDOWN:case $n.MOUSEMOVE:case $n.MOUSEMOVE_CURVE:case $n.MOUSEUP:case $n.TOUCHSTART:case $n.TOUCHEND:case $n.TOUCHMOVE:case $n.TOUCHMOVE_CURVE:case $n.TOUCHCANCEL:case $n.CLICK:case $n.SCROLL_LAYOUT:case $n.SCROLL_LAYOUT_CURVE:case $n.SCROLL_VISUAL_OFFSET:case $n.SCROLL_VISUAL_OFFSET_CURVE:case $n.NAVIGATE:return!0}return!1}(ui=oi||(oi={}))[ui.Unset=0]="Unset",ui[ui.Entering=1]="Entering",ui[ui.Restored=2]="Restored",(ci=ai||(ai={}))[ci.Index=1]="Index",ci[ci.Cached=2]="Cached",(fi=hi||(hi={})).GrantConsent=!0,fi.RevokeConsent=!1,(li=vi||(vi={})).Page=0,li.Document=1,(pi=di||(di={})).Unknown=0,pi.Api=1,pi.FsShutdownFrame=2,pi.Hibernation=3,pi.Reidentify=4,pi.SettingsBlocked=5,pi.Size=6,pi.Unload=7,pi.Hidden=8,(wi=gi||(gi={})).Unknown=0,wi.NotEmpty=1,wi.EmptyBody=2,(yi=mi||(mi={}))[yi.UNSET=0]="UNSET",yi[yi.OK=1]="OK",yi[yi.ABORTED=2]="ABORTED",yi[yi.OPAQUE=3]="OPAQUE",yi[yi.ERROR=4]="ERROR",(Si=bi||(bi={})).Timing=0,Si.Navigation=1,Si.Resource=2,Si.Paint=3,Si.Mark=4,Si.Measure=5,Si.Memory=6,Si.TimeOrigin=7,Si.LayoutShift=8,Si.FirstInput=9,Si.LargestContentfulPaint=10,Si.LongTask=11,Si.EventTiming=12,Si.EventTimingCount=13,(Ai=ki||(ki={})).Timing=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],Ai.Navigation=["name","startTime","duration","initiatorType","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","unloadEventStart","unloadEventEnd","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","type","redirectCount","decodedBodySize","encodedBodySize","transferSize","activationStart"],Ai.Resource=["name","startTime","duration","initiatorType","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","decodedBodySize","encodedBodySize","transferSize"],Ai.Measure=["name","startTime","duration"],Ai.Memory=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"],Ai.TimeOrigin=["timeOrigin"],Ai.LayoutShift=["startTime","value","hadRecentInput"],Ai.FirstInput=["name","startTime","duration","processingStart"],Ai.EventTiming=["name","startTime","duration","processingStart","processingEnd","interactionId"],Ai.LargestContentfulPaint=["name","startTime","duration","renderTime","loadTime","size"],Ai.EventTimingCount=["interactionCount"],(Ii=_i||(_i={})).Performance=0,Ii.PerformanceEntries=1,Ii.PerformanceMemory=2,Ii.Console=3,Ii.Ajax=4,Ii.PerformanceObserver=5,Ii.PerformanceTimeOrigin=7,Ii.WebAnimation=8,Ii.LayoutShift=9,Ii.FirstInput=10,Ii.LargestContentfulPaint=11,Ii.LongTask=12,Ii.HTMLDialogElement=13,Ii.CaptureOnStartupEnabled=14,Ii.CanvasWatcherEnabled=15,Ii.CanvasScreenShotMode=16,Ii.ResizeObserver=17,(Ci=Ei||(Ei={})).Node=1,Ci.Sheet=2,(xi=Ti||(Ti={})).StyleSheetHooks=0,xi.SetPropertyHooks=1,(Ki=Ri||(Ri={})).Document="document",Ki.Event="evt",Ki.Page="page",Ki.User="user",(ji=Mi||(Mi={})).FsId="fsidentity",ji.NewUid="newuid",(Oi=Pi||(Pi={})).Elide=0,Oi.Record=1,Oi.Allowlist=2,(Ui=Ni||(Ni={})).Any=0,Ui.Exclude=1,Ui.Mask=2,(Fi=Li||(Li={})).Erase=0,Fi.MaskText=1,Fi.ScrubUrl=2,Fi.ScrubCss=3,(Di=Hi||(Hi={})).Static=0,Di.Prefix=1,(Wi=Bi||(Bi={})).SignalInvalid=0,Wi.SignalDeadClick=1,Wi.SignalRageClick=2,(qi=zi||(zi={})).ReasonNoSuchOrg=1,qi.ReasonOrgDisabled=2,qi.ReasonOrgOverQuota=3,qi.ReasonBlockedDomain=4,qi.ReasonBlockedIp=5,qi.ReasonBlockedUserAgent=6,qi.ReasonBlockedGeo=7,qi.ReasonBlockedTrafficRamping=8,qi.ReasonInvalidURL=9,qi.ReasonUserOptOut=10,qi.ReasonInvalidRecScript=11,qi.ReasonDeletingUser=12,qi.ReasonNativeHookFailure=13,(Vi=$i||($i={})).Unset=0,Vi.Exclude=1,Vi.Mask=2,Vi.Unmask=3,Vi.Watch=4,Vi.Keep=5,Vi.Defer=6,(Qi=Gi||(Gi={})).Unset=0,Qi.Click=1,(Yi=Xi||(Xi={}))[Yi.Page=1]="Page",Yi[Yi.Bundle=2]="Bundle",(Zi=Ji||(Ji={}))[Zi.Error=3]="Error",Zi[Zi.Page=4]="Page",Zi[Zi.Bundle=5]="Bundle",Zi[Zi.Settings=6]="Settings",(nr=tr||(tr={})).MaxPerfMarksPerPage=16384,nr.MaxLogsPerPage=1024,nr.MaxUrlLength=2048,nr.MutationProcessingInterval=250,nr.CurveSamplingInterval=142,nr.DefaultBundleUploadInterval=5e3,nr.HeartbeatInterval=256200,nr.PageInactivityTimeout=18e5,nr.BackoffMax=3e5,nr.ScrollSampleInterval=nr.MutationProcessingInterval/5,nr.InactivityThreshold=4e3,nr.MaxAjaxPayloadLength=16384,nr.DefaultOrgSettings={MaxPerfMarksPerPage:nr.MaxPerfMarksPerPage,MaxConsoleLogPerPage:nr.MaxLogsPerPage,MaxAjaxPayloadLength:nr.MaxAjaxPayloadLength,MaxUrlLength:nr.MaxUrlLength,RecordPerformanceResourceImg:!0,RecordPerformanceResourceTiming:!0,HttpRequestHeadersAllowlist:[],HttpResponseHeadersAllowlist:[],UrlPrivacyConfig:[{Exclude:{Hash:[{Expression:"#.*"}],QueryParam:[{Expression:"(=)(.*)"}]}}],AttributeBlocklist:[{Target:Ni.Any,Tag:"*",Name:"",Type:Hi.Prefix,Action:Li.Erase}]},nr.DefaultStatsSettings={MaxPayloadLength:8192,MaxEventTypeLength:1024},nr.BlockedFieldValue="__fs__redacted",nr.DefaultRecDisabledMessage="Capture disabled. Turn on debug mode for more information.",nr.ShutdownMessage="Shutdown called.";var er,sr,or,ur,ar,cr,hr,fr,vr="_fs_uid",lr="_fs_cid",dr="_fs_lua";function pr(t){return"function"==typeof t}(sr=er||(er={}))[sr.Shutdown=1]="Shutdown",sr[sr.Starting=2]="Starting",sr[sr.Started=3]="Started",sr[sr.Fatal=4]="Fatal",(ur=or||(or={})).Set=0,ur.Function=1,(cr=ar||(ar={}))[cr.Disabled=0]="Disabled",cr[cr.CaptureCanvasOps=1]="CaptureCanvasOps",cr[cr.ScreenshotCanvas=2]="ScreenshotCanvas",(fr=hr||(hr={})).EndPreviewMode="EndPreviewMode",fr.EvtBundle="EvtBundle",fr.GreetFrame="GreetFrame",fr.InitFrameMobile="InitFrameMobile",fr.RequestFrameId="RequestFrameId",fr.RestartFrame="RestartFrame",fr.SetConsent="SetConsent",fr.SetFrameId="SetFrameId",fr.ShutdownFrame="ShutdownFrame",fr.Unknown="Unknown";var gr,wr,mr,yr,br,Sr=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},kr=0,Ar=function(t,n){_r[kr]=t,_r[kr+1]=n,2===(kr+=2)&&gr()},_r=new Array(1e3);function Ir(){for(var t=0;t<kr;t+=2)(0,_r[t])(_r[t+1]),_r[t]=void 0,_r[t+1]=void 0;kr=0}function Er(t,n){var i=arguments,r=this,e=new this.constructor(xr);void 0===e[Tr]&&zr(e);var s,o=r.U;return o?(s=i[o-1],Ar(function(){return Br(o,e,s,r.L)})):Lr(r,e,t,n),e}function Cr(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var n=new this(xr);return Pr(n,t),n}window.MutationObserver?(mr=0,yr=new MutationObserver(Ir),br=document.createTextNode(""),yr.observe(br,{characterData:!0}),gr=function(){var t=mr=++mr%2;br.data=""+t}):(wr=setTimeout,gr=function(){return wr(Ir,1)});var Tr=Math.random().toString(36).substring(16);function xr(){}var Rr=void 0,Kr=new Hr;function Mr(t){try{return t.then}catch(t){return Kr.error=t,Kr}}function jr(t,n,i){n.constructor===t.constructor&&i===Er&&n.constructor.resolve===Cr?function(t,n){1===n.U?Nr(t,n.L):2===n.U?Ur(t,n.L):Lr(n,void 0,function(n){return Pr(t,n)},function(n){return Ur(t,n)})}(t,n):i===Kr?(Ur(t,Kr.error),Kr.error=null):void 0===i?Nr(t,n):pr(i)?function(t,n,i){Ar(function(t){var r=!1,e=function(i,e,s,o,u){try{i.call(e,function(i){r||(r=!0,n!==i?Pr(t,i):Nr(t,i))},function(n){r||(r=!0,Ur(t,n))})}catch(t){return t}}(i,n,0,0,t.F);!r&&e&&(r=!0,Ur(t,e))},t)}(t,n,i):Nr(t,n)}function Pr(t,n){var i;t===n?Ur(t,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(i=n)||"object"==typeof i&&null!==i?jr(t,n,Mr(n)):Nr(t,n)}function Or(t){t.H&&t.H(t.L),Fr(t)}function Nr(t,n){t.U===Rr&&(t.L=n,t.U=1,0!==t.D.length&&Ar(Fr,t))}function Ur(t,n){t.U===Rr&&(t.U=2,t.L=n,Ar(Or,t))}function Lr(t,n,i,r){var e=t.D,s=e.length;t.H=null,e[s]=n,e[s+1]=i,e[s+2]=r,0===s&&t.U&&Ar(Fr,t)}function Fr(t){var n=t.D,i=t.U;if(0!==n.length){for(var r,e,s=t.L,o=0;o<n.length;o+=3)r=n[o],e=n[o+i],r?Br(i,r,e,s):e(s);t.D.length=0}}function Hr(){this.error=null}var Dr=new Hr;function Br(t,n,i,r){var e,s,o=pr(i),u=!1,a=!1;if(o){if(e=function(t,n){try{return t(n)}catch(t){return Dr.error=t,Dr}}(i,r),e===Dr?(a=!0,s=e.error,e.error=null):u=!0,n===e)return void Ur(n,new TypeError("A promises callback cannot return that same promise."))}else e=r,u=!0;n.U!==Rr||(o&&u?Pr(n,e):a?Ur(n,s):1===t?Nr(n,e):2===t&&Ur(n,e))}var Wr=0;function zr(t){t[Tr]=Wr++,t.U=void 0,t.L=void 0,t.D=[]}function qr(t,n){this.B=t,this.promise=new t(xr),this.promise[Tr]||zr(this.promise),Sr(n)?(this.W=n,this.length=n.length,this.$=n.length,this.L=new Array(this.length),0===this.length?Nr(this.promise,this.L):(this.length=this.length||0,this.V(),0===this.$&&Nr(this.promise,this.L))):Ur(this.promise,new Error("Array Methods must be provided an Array"))}qr.prototype.V=function(){for(var t=this.length,n=this.W,i=0;this.U===Rr&&i<t;i++)this.G(n[i],i)},qr.prototype.G=function(t,n){var i=this.B,r=i.resolve;if(r===Cr){var e=Mr(t);if(e===Er&&t.U!==Rr)this.X(t.U,n,t.L);else if("function"!=typeof e)this.$--,this.L[n]=t;else if(i===$r){var s=new i(xr);jr(s,t,e),this.Y(s,n)}else this.Y(new i(function(n){return n(t)}),n)}else this.Y(r(t),n)},qr.prototype.X=function(t,n,i){var r=this.promise;r.U===Rr&&(this.$--,2===t?Ur(r,i):this.L[n]=i),0===this.$&&Nr(r,this.L)},qr.prototype.Y=function(t,n){var i=this;Lr(t,void 0,function(t){return i.X(1,n,t)},function(t){return i.X(2,n,t)})};var $r=function(t){this[Tr]=Wr++,this.L=this.U=void 0,this.D=[],xr!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof $r?function(t,n){try{n(function(n){Pr(t,n)},function(n){Ur(t,n)})}catch(n){Ur(t,n)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())};$r.all=function(t){return new qr(this,t).promise},$r.race=function(t){var n=this;return Sr(t)?new n(function(i,r){for(var e=t.length,s=0;s<e;s++)n.resolve(t[s]).then(i,r)}):new n(function(t,n){return n(new TypeError("You must pass an array to race."))})},$r.resolve=Cr,$r.reject=function(t){var n=new this(xr);return Ur(n,t),n},$r.J=function(t){Ar=t},$r.Z=Ar,$r.prototype={constructor:$r,then:Er,"catch":function(t){return this.then(null,t)}};var Vr="function"==typeof window.Promise?window.Promise:$r;function Gr(){var t,n;return{promise:new Vr(function(i,r){t=i,n=r}),resolve:t,reject:n}}function Qr(t){return new Vr(function(n){z.setWindowTimeout(window,Y(n),t)})}var Xr=function(){try{var t=new MessageChannel;return t.port1.start(),t}catch(t){return null}}(),Yr=function(){return Xr?new Vr(function(t){var n=Xr.port1,i=Xr.port2,r=function(){t(),n.removeEventListener("message",r)};n.addEventListener("message",r),i.postMessage(void 0)}):Qr(0)},Jr=function(){return r(void 0,void 0,Vr,function(){var t;return e(this,function(n){switch(n.label){case 0:return(t=z.requestWindowAnimationFrame)?[4,new Vr(function(n){return t(window,n)})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[4,Yr()];case 3:return n.sent(),[2]}})})};function Zr(t){void 0===t&&(t=16);var n=an()+t;return{timeRemaining:function(){return Math.max(0,n-an())},didTimeout:!1}}function te(t,n){return r(this,void 0,Vr,function(){var i,r,s,o;return e(this,function(e){switch(e.label){case 0:return(i=t.ResizeObserver)?(r=t.document,s=r.documentElement||r.body||r.head,o=null!=n?n:s,[2,new Vr(function(t){var n=new i(function(){Jr().then(function(){n.unobserve(o),t()})});n.observe(o)})]):[4,Jr()];case 1:return e.sent(),[2]}})})}var ne=function(){function t(t){this.tt=0,this.nt=t.options.scheme,this.it=t.options.cdnHost,this.rt=t}return t.prototype.page=function(t){return r(this,void 0,Vr,function(){return e(this,function(n){switch(n.label){case 0:return[4,ee(this.rt.window,this.nt,ve(this.rt),"/rec/page",{type:"string",data:qt(t)})];case 1:return[2,Gt(n.sent().text)]}})})},t.prototype.settings=function(t){return r(this,void 0,Vr,function(){var n,i,r;return e(this,function(e){switch(e.label){case 0:if(n=Fn(this.rt.window))return[2,n];e.label=1;case 1:return e.trys.push([1,3,,4]),i=t.previewMode?ve(this.rt):this.it,[4,fe(this.rt.window,this.nt,i,t)];case 2:return[2,e.sent()];case 3:if(r=e.sent(),t.previewMode)throw r;return[3,4];case 4:return[2,fe(this.rt.window,this.nt,ve(this.rt),t)]}})})},t.prototype.bundle=function(t){var n;return r(this,void 0,Vr,function(){var i,r,s,o;return e(this,function(e){switch(e.label){case 0:return[4,Yr()];case 1:return e.sent(),C(window,F),i=qt(t.bundle),this.tt+=i.length,A("total bytes written: "+this.tt),T(window,F),i.length>2e6?[4,Yr()]:[3,3];case 2:e.sent(),e.label=3;case 3:return C(window,L),r=re(t.bundle.Seq,t),[4,ee(this.rt.window,this.nt,null!==(n=t.recHost)&&void 0!==n?n:ve(this.rt),r,{type:"string",data:i})];case 4:return s=e.sent().text,o=Gt(s),T(window,L),[2,[this.tt,o]]}})})},t.prototype.bundleBeacon=function(t){var n;return ae(this.nt,null!==(n=t.recHost)&&void 0!==n?n:ve(this.rt),t)},t.prototype.exponentialBackoffMs=function(t,n){var i=z.mathMin(tr.BackoffMax,5e3*z.mathPow(2,t));return n?i+.25*z.mathRandom()*i:i},t}(),ie=function(){function t(t){this.nt=t.options.scheme,this.rt=t}return t.prototype.uploadResource=function(t){return r(this,void 0,Vr,function(){return e(this,function(n){switch(n.label){case 0:return[4,ee(this.rt.window,this.nt,ve(this.rt),"/rec/uploadResource",t)];case 1:return[2,n.sent().text]}})})},t.prototype.queryResources=function(t){return r(this,void 0,Vr,function(){return e(this,function(n){switch(n.label){case 0:return[4,ee(this.rt.window,this.nt,ve(this.rt),"/rec/queryResources",{type:"string",data:qt(t)})];case 1:return[2,Gt(n.sent().text)]}})})},t}();function re(t,n){var i="/rec/bundle"+("v2"===n.version?"/v2":"")+"?OrgId="+n.orgId+"&UserId="+n.userId+"&SessionId="+n.sessionId+"&PageId="+n.pageId+"&Seq="+t;return null!=n.serverPageStart&&(i+="&PageStart="+n.serverPageStart),null!=n.serverBundleTime&&(i+="&PrevBundleTime="+n.serverBundleTime),null!=n.lastUserActivity&&(i+="&LastActivity="+n.lastUserActivity),n.isNewSession&&(i+="&IsNewSession=true"),null!=n.deltaT&&(i+="&DeltaT="+n.deltaT),i}function ee(t,n,i,s,o){return r(this,void 0,Vr,function(){return e(this,function(r){return[2,oe(t,"POST",n,i,le(s),!0,o)]})})}function se(t,n,i,s){return r(this,void 0,Vr,function(){return e(this,function(r){return[2,oe(t,"GET",n,i,le(s),!1)]})})}function oe(t,n,i,s,o,u,a){return r(this,void 0,Vr,function(){var r,c,h,f,v,l,d;return e(this,function(e){switch(e.label){case 0:switch(r=function(t){return Rn(t,"_fs_request","function")}(t)||ue,c="//"+s+o,h={},null==a?void 0:a.type){case"string":case"ArrayBuffer":h["Content-Type"]="text/plain"}e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r(i,n,c,u,h,a)];case 2:return f=e.sent(),[3,4];case 3:throw v=e.sent(),ye.send(v,"error"),v;case 4:if(l={text:f.responseText},200==f.status)return[2,l];try{d=Gt(l.text)}catch(t){}throw new ei(f.status,l.text,d)}})})}function ue(t,n,i,s,o,u){return r(this,void 0,Vr,function(){var r;return e(this,function(e){return r=function(t){switch(null==t?void 0:t.type){case"string":case"ArrayBuffer":return t.data;case"FormData":var n=new FormData;for(var i in t.data){var r=t.data[i];if(void 0!==r)if("string"==typeof r)n.append(i,r);else{var e=new Blob([r.data],{type:r.contentType});n.append(i,e,r.filename)}}return n;default:return}}(u),[2,new Vr(function(e){var u=!1,a=new XMLHttpRequest;for(var c in a.onreadystatechange=function(){4!==a.readyState||u||(u=!0,e({status:a.status,responseText:a.responseText}))},a.open(n,""+t+i,!0),a.withCredentials=s,o)a.setRequestHeader(c,o[c]);a.send(r)})]})})}function ae(t,n,i){return ce(t+"//"+n+re(i.bundle.Seq,i)+"&SkipResponseBody=true",qt(i.bundle))}function ce(t,n){return(Rn(window,"_fs_beacon","function")||he)(t,n)}function he(t,n){if("function"==typeof navigator.sendBeacon)try{return navigator.sendBeacon.bind(navigator)(t,n)}catch(t){}return!1}function fe(t,n,i,s){var o;return r(this,void 0,Vr,function(){var r,u;return e(this,function(e){switch(e.label){case 0:return r=null!==(o=s.version)&&void 0!==o?o:"v1",u=s.previewMode?"?previewMode=true":"",[4,se(t,n,i,"/s/settings/"+s.orgId+"/"+r+"/web"+u)];case 1:return[2,Gt(e.sent().text)]}})})}function ve(t){var n,i=null===(n=t.recording.pageResponse())||void 0===n?void 0:n.GCLBSubdomain,r=t.options.recHost;return i&&xn(r)?r.replace(/^rs\./,i+"."):r}function le(t){if(!window.Zone)return t;var n="?";return t.indexOf(n)>-1&&(n="&"),""+t+n+"ngsw-bypass=true"}var de="[anonymous]",pe=/function\s*([\w\-$]+)?\s*\(/i;function ge(t){return t.stack||t.backtrace||t.stacktrace}function we(){var t,n;try{throw new Error("")}catch(i){t="<generated>\n",n=ge(i)}if(!n){t="<generated-ie>\n";var i=[];try{for(var r=arguments.callee.caller.caller;r&&i.length<10;){var e=pe.test(r.toString())&&RegExp.$1||de;i.push(e),r=r.caller}}catch(t){A(t.toString())}n=i.join("\n")}return t+n}function me(){try{return window.self!==window.top}catch(t){return!0}}var ye=function(){function t(){}return t.wrap=function(n,i){return void 0===i&&(i="error"),Y(n,function(n){return t.send(n,i)})},t.et=15,t.send=function(n,i,r){if(!(t.et<=0)){t.et--;var e=n;"string"==typeof e&&(e=new Error(e));var s=bn(document).fs_uid,o=s?yn(s):void 0;o&&o.orgId!=On(window)&&(o=void 0);var u=new Date(1704278514e3).toISOString(),a={projectRoot:window.location.origin,deviceTime:an(),inIframe:me(),CompiledVersion:"f4c87f3a9eb9197fc451a1867d4d2b41fee48ed1",CompiledTimestamp:1704278514,CompiledTime:u,orgId:On(window),"userId:sessionId":o?o.userId+":"+o.sessionId:"NA",context:document.location&&document.location.pathname,message:e.message,name:"Recording Error",releaseStage:"production "+u,severity:i,language:tn(window),stacktrace:ge(e)||we()},c=function(t,n,i){var r=encodeURIComponent(n)+"="+encodeURIComponent(i);t.push(r)},h=[];for(var f in a)c(h,f,a[f]||"");if(r)for(var f in r)c(h,"aux_"+f,be(r[f]));var v="https://"+jn(window)+"/rec/except?"+h.join("&");ce(v,"")||(new Image().src=v)}},t}();function be(t){try{var n=typeof t+": "+qt(t);return"function"==typeof t.toString&&(n+=" (toString: "+t.toString()+")"),n}catch(t){return"failed to serialize \""+(null==t?void 0:t.message)+"\""}}var Se={};function ke(t,n,i){if(void 0===i&&(i=1),t)return!0;if(Se[n]=Se[n]||0,Se[n]++,Se[n]>i)return!1;var r=new Error("Assertion failed: "+n);return ye.send(r,"error"),t}var Ae={};function _e(t,n,i){var r;Ae[t]=null!==(r=Ae[t])&&void 0!==r?r:0,Ae[t]++,Ae[t]>1||ye.send(n,"error",i)}function Ie(t){var n=t.target,i=t.type,r=t.fn,e=t.options;void 0!==r&&null!=n&&("function"==typeof n.addEventListener?n.addEventListener(i,r,e):"function"==typeof n.addListener?n.addListener(r):A("Target of "+i+" doesn't seem to support listeners"))}function Ee(t){var n=t.target,i=t.type,r=t.fn,e=t.options;void 0!==r&&null!=n&&("function"==typeof n.removeEventListener?n.removeEventListener(i,r,e):"function"==typeof n.removeListener?n.removeListener(r):A("Target of "+i+" doesn't seem to support listeners"))}function Ce(t){t.target&&(Ee(t),t.target=null,t.fn=void 0)}var Te=function(){function t(){var t=this;this.st=[],this.ot=[],this.ut=!0,this.ct=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t.ut={capture:!0,passive:!0},t.ct={capture:!1,passive:!0}}});window.addEventListener("test",tt,n)}catch(t){}}return t.prototype.add=function(t,n,i,r,e){return void 0===e&&(e=!1),this.addCustom(t,n,i,r,e)},t.prototype.addCustom=function(t,n,i,r,e){void 0===e&&(e=!1);var s={target:t,type:n,fn:ye.wrap(Wt(function(t){(e||!1!==t.isTrusted||"message"==n||t._fs_trust_event)&&r(t)})),options:i?this.ut:this.ct,index:this.st.length};return this.st.push(s),Ie(s),s},t.prototype.clear=function(){for(var t=0;t<this.st.length;t++)this.st[t].target&&Ce(this.st[t]);this.st=[]},t.prototype.createChild=function(){var n=new t;return this.ot.push(n),n},t.prototype.refresh=function(){for(var t=0,n=this.st;t<n.length;t++){var i=n[t];i.target&&(Ee(i),Ie(i))}for(var r=0,e=this.ot;r<e.length;r++)e[r].refresh()},t}();function xe(t,n){return n&&t.pageLeft==n.pageLeft&&t.pageTop==n.pageTop}function Re(t,n){return n&&t.width==n.width&&t.height==n.height}function Ke(t){return{pageLeft:t.pageLeft,pageTop:t.pageTop,width:t.width,height:t.height}}var Me=[["@import\\s+\"","\""],["@import\\s+'","'"]].concat([["url\\(\\s*\"","\"\\s*\\)"],["url\\(\\s*'","'\\s*\\)"],["url\\(\\s*","\\s*\\)"]]),je=".*?"+/(?:[^\\](?:\\\\)*)/.source,Pe=new RegExp(Me.map(function(t){var n=t[0],i=t[1];return"("+n+")("+je+")("+i+")"}).join("|"),"g"),Oe=/url\(["']?(.+?)["']?\)/g,Ne=/^\s*\/\//,Ue=/[-\\^$*+?.()|[\]{}]/g,Le=new RegExp(Ue.source);function Fe(t){return"BackCompat"==t.compatMode}function He(t){return t&&t.body&&t.documentElement?Fe(t)?[t.body.clientWidth,t.body.clientHeight]:[t.documentElement.clientWidth,t.documentElement.clientHeight]:[0,0]}var De=function(){function t(t,n){var i,r,e,s;this.hasKnownPosition=!1,this.pageLeft=0,this.pageTop=0,this.width=0,this.height=0,this.clientWidth=0,this.clientHeight=0;var o=t.document;if(o&&o.documentElement&&o.body){i=He(o),this.clientWidth=i[0],this.clientHeight=i[1];var u=t.visualViewport;if(u){this.hasKnownPosition=!0,this.pageTop=u.pageTop-u.offsetTop,this.pageLeft=u.pageLeft-u.offsetLeft,0==this.pageTop&&(this.pageTop=0),0==this.pageLeft&&(this.pageLeft=0);var a=null!==(e=qe(t,"innerWidth"))&&void 0!==e?e:0,c=null!==(s=qe(t,"innerHeight"))&&void 0!==s?s:0;if(a>0&&c>0)return this.width=a,void(this.height=c)}if(void 0!==n&&this.clientWidth==n.clientWidth&&this.clientHeight==n.clientHeight&&n.width>0&&n.height>0)return this.width=n.width,void(this.height=n.height);r=this.ht(t),this.width=r[0],this.height=r[1]}}return t.prototype.ht=function(t){var n=Be(t,"width",this.clientWidth,this.clientWidth+128);void 0===n&&(n=qe(t,"innerWidth")),void 0===n&&(n=this.clientWidth);var i=Be(t,"height",this.clientHeight,this.clientHeight+128);return void 0===i&&(i=qe(t,"innerHeight")),void 0===i&&(i=this.clientHeight),[n,i]},t}();function Be(t,n,i,r){if(z.matchMedia){var e=i,s=r,o=z.matchMedia(t,"(min-"+n+": "+e+"px)");if(null!=o){if(o.matches&&z.matchMedia(t,"(max-"+n+": "+e+"px)").matches)return e;for(;e<=s;){var u=z.mathFloor((e+s)/2);if(z.matchMedia(t,"(min-"+n+": "+u+"px)").matches){if(z.matchMedia(t,"(max-"+n+": "+u+"px)").matches)return u;e=u+1}else s=u-1}}}}function We(t,n){return new De(t,n)}var ze=function(t,n){this.offsetLeft=0,this.offsetTop=0,this.pageLeft=0,this.pageTop=0,this.width=0,this.height=0,this.scale=0;var i=t.document;if(i.body){"pageXOffset"in t?(this.pageLeft=t.pageXOffset,this.pageTop=t.pageYOffset):i.scrollingElement?(this.pageLeft=i.scrollingElement.scrollLeft,this.pageTop=i.scrollingElement.scrollTop):Fe(i)?(this.pageLeft=i.body.scrollLeft,this.pageTop=i.body.scrollTop):i.documentElement&&(i.documentElement.scrollLeft>0||i.documentElement.scrollTop>0)?(this.pageLeft=i.documentElement.scrollLeft,this.pageTop=i.documentElement.scrollTop):(this.pageLeft=i.body.scrollLeft||0,this.pageTop=i.body.scrollTop||0),this.offsetLeft=this.pageLeft-n.pageLeft,this.offsetTop=this.pageTop-n.pageTop;var r=0,e=0;try{r=t.innerWidth,e=t.innerHeight}catch(t){return}if(0!=r&&0!=e){this.scale=n.width/r,this.scale<1&&(this.scale=1);var s=n.width-n.clientWidth,o=n.height-n.clientHeight;this.width=r-s/this.scale,this.height=e-o/this.scale}}};function qe(t,n){try{return t[n]}catch(t){return}}function $e(t){var n=t.tagName;return n?"object"==typeof n?"form":n.toLowerCase():null}var Ve,Ge,Qe,Xe,Ye=new RegExp("[^\\s]"),Je=new RegExp("[\\s]*$");function Ze(t){var n=Ye.exec(t);if(!n)return t;for(var i=n.index,r=(n=Je.exec(t))?t.length-n.index:0,e="\uFFFF",s=t.slice(i,t.length-r).split(/\r\n?|\n/g),o=0;o<s.length;o++)e+=""+s[o].length,o!=s.length-1&&(e+=":");return(i||r)&&(e+=" "+i+" "+r),e}String.prototype,(Ge=Ve||(Ve={}))[Ge.Exclude=2]="Exclude",Ge[Ge.Mask=4]="Mask",Ge[Ge.Unmask=8]="Unmask",Ge[Ge.Watch=16]="Watch",Ge[Ge.Keep=32]="Keep",Ge[Ge.Defer=64]="Defer",(Xe=Qe||(Qe={}))[Xe.Immediate=1]="Immediate",Xe[Xe.Deferred=2]="Deferred";var ts=[Ve.Exclude,Ve.Mask,Ve.Unmask],ns=[Ve.Watch,Ve.Keep,Ve.Defer],is=ts.concat(ns),rs={},es=1;function ss(t,n){var i,r;return void 0===n&&(n=as(t)),null!==(r=null===(i=null==n?void 0:n.watchKind)||void 0===i?void 0:i.hasKinds())&&void 0!==r&&r}function os(t,n){var i,r;return void 0===n&&(n=as(t)),null!==(r=null===(i=null==n?void 0:n.watchKind)||void 0===i?void 0:i.has(Ve.Exclude))&&void 0!==r&&r}function us(t,n){return void 0===n&&(n=as(t)),!!n&&!!n.mask}function as(t){var n=t?t._fs:null;return n?rs[n]:null}function cs(t){return rs[t]}function hs(t){try{return t&&t._fs||0}catch(t){return 0}}function fs(t){return t&&!os(t)?hs(t):0}function vs(t,n){t.parent&&(n(t),t.parent.child==t&&(t.parent.child=t.next),t.parent.lastChild==t&&(t.parent.lastChild=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent=t.prev=t.next=null,delete rs[t.id],t.node._fs==t.id&&(t.node._fs=0),t.id=0,t.child&&ls(t.child,n))}function ls(t,n){for(var i=[t];i.length>0&&i.length<1e4;){var r=i.pop();n(r),delete rs[r.id],r.node._fs==r.id&&(r.node._fs=0),r.id=0,r.next&&i.push(r.next),r.child&&i.push(r.child)}ke(i.length<1e4,"clearIds is fast")}function ds(t,n){void 0===n&&(n=1024);try{var i={tokens:[],opath:[],cyclic:ps(t,n/4)};return ws(t,n,0,i),i.tokens.join("")}catch(t){return $t(t)}}function ps(t,n){var i=0;try{z.jsonStringify(t,function(t,r){if(i++>n)throw"break";if("object"==typeof r)return r})}catch(t){return"break"!=t}return!1}var gs=function(t,n,i){return void 0===i&&(i="..."),t.length<=n?t:t.length<=i.length||n<=i.length?t.substring(0,n):t.substring(0,n-i.length)+i};function ws(t,n,i,r){if(n<1)return 0;var e=function(t){switch(!0){case function(t){return!(!t||t.constructor!=Date)}(t):return n=t,isNaN(n)?"Invalid Date":n.toUTCString();case function(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&t.nodeType>0&&"string"==typeof t.nodeName}(t):return function(t){return t.toString()}(t);case void 0===t:return"undefined";case"object"!=typeof t||null==t:return t;case t instanceof Error:return[t.toString(),t.stack].filter(Boolean).join(",")}var n}(t);if(void 0!==e){var s=function(t,n){var i=z.jsonStringify(t);return i&&"\""==i[0]?gs(i,n,"...\""):i}(e,n);return"string"==typeof s&&s.length<=n?(r.tokens.push(s),s.length):0}if(r.cyclic){r.opath.splice(i);var o=r.opath.lastIndexOf(t);if(o>-1){var u="<Cycle to ancestor #"+(i-o-1)+">";return u="\""+gs(u,n-2)+"\"",r.tokens.push(u),u.length}r.opath.push(t)}var a=n,c=function(t){return a>=t.length&&(a-=t.length,r.tokens.push(t),!0)},h=function(t){var n=r.tokens.length-1;","===r.tokens[n]?r.tokens[n]=t:c(t)};if(a<2)return 0;if(Tt(t)){c("[");for(var f=0;f<t.length&&a>0;f++){var v=ws(t[f],a-1,i+1,r);if(a-=v,0==v&&!c("null"))break;c(",")}h("]")}else{c("{");var l=Nt(t);for(f=0;f<l.length&&a>0;f++){var d=l[f],p=t[d];if(!c("\""+d+"\":"))break;if(0==(v=ws(p,a-1,i+1,r))){r.tokens.pop();break}a-=v,c(",")}h("}")}return n==1/0?1:n-a}var ms,ys,bs=function(){function t(){var n=this;this.ft=ye.wrap(function(){n.vt(),n.lt&&n.lt()}),this.dt=0,this.gt=t.wt++}return t.checkForBrokenSchedulers=function(){return r(this,void 0,Vr,function(){var n,i;return e(this,function(r){switch(r.label){case 0:return!z.requestWindowAnimationFrame||t.yt||(n=an())-t.bt<100?[2,!1]:(t.bt=n,t.yt=!0,[4,new Vr(function(t){return z.requestWindowAnimationFrame(window,t)})]);case 1:return r.sent(),i=[],Lt(t.St,function(t){var r=t.kt(n);r&&i.push(r)}),[4,Vr.all(i)];case 2:return r.sent(),z.requestWindowAnimationFrame(window,ye.wrap(function(){t.yt=!1})),[2,!0]}})})},t.stopAll=function(){Lt(this.St,function(t){return t.stop()})},t.prototype.At=function(t){this.lt=t},t.prototype.stop=function(){this._t(),delete t.St[this.gt]},t.prototype.It=function(n){this.dt=an()+100+1.5*n,t.St[this.gt]=this},t.prototype.Et=function(){return null!=t.St[this.gt]},t.prototype.vt=function(){delete t.St[this.gt]},t.prototype.kt=function(t){if(t>this.dt)return Vr.resolve().then(this.ft)["catch"](function(){})},t.St={},t.wt=0,t.yt=!1,t.bt=0,t}(),Ss=function(t){function i(n){var i=t.call(this)||this;return i.Ct=n,i.Tt=-1,i}return n(i,t),i.prototype.start=function(t){var n=this;-1==this.Tt&&(this.At(function(){t(),n.It(n.Ct)}),this.Tt=z.setWindowInterval(window,this.ft,this.Ct),this.It(this.Ct))},i.prototype._t=function(){-1!=this.Tt&&(z.clearWindowInterval(window,this.Tt),this.Tt=-1,this.At(function(){}))},i}(bs),ks=function(t){function i(n,i,r){void 0===i&&(i=0);for(var e=[],s=3;s<arguments.length;s++)e[s-3]=arguments[s];var o=t.call(this)||this;return o.xt=i,o.Rt=-1,o.At(function(){o.stop(),n.apply(void 0===r?window:r,e)}),o}return n(i,t),i.prototype.start=function(t){return void 0===t&&(t=this.xt),this.xt=t,z.clearWindowTimeout(window,this.Rt),this.Rt=z.setWindowTimeout(window,this.ft,this.xt),this.It(t),this},i.prototype.isRunning=function(){return this.Et()},i.prototype._t=function(){-1!=this.Rt&&(z.clearWindowTimeout(window,this.Rt),this.Rt=-1)},i}(bs),As=function(){function t(t,n,i){this.Kt=t,this.Mt=i,this.$=0,this.jt=new Ss(n),this.open()}return t.prototype.guard=function(t){var n=this;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return 0==n.$?(n.Mt(),void n.$--):n.$<0?void 0:(n.$--,t.apply(this,i))}},t.prototype.close=function(){return this.jt.stop(),this},t.prototype.open=function(){var t=this;return this.$=this.Kt,this.jt.start(function(){t.$=t.Kt}),this},t}(),_s=function(){function t(){this.Pt=0,this.Ot=an()}return t.prototype.wallTime=function(){return an()},t.prototype.now=function(){var t=this.wallTime()-this.Ot;return t<0&&this.Nt("timekeeper now() is negative"),t},t.prototype.startTime=function(){return this.Ot},t.prototype.setStartTime=function(t){var n=this.wallTime();this.Ot=t,t>n&&(this.Pt=t-n,this.Pt>1e3&&this.Nt("timekeeper set with future ts"))},t.prototype.Nt=function(t){A(ds({msg:t,skew:this.Pt,startTime:this.Ot,wallTime:this.wallTime()},1024))},t}();(ys=ms||(ms={})).Indeterminate="indeterminate",ys.Checked="checked",ys.Value="value";var Is=function(){function t(t,n){var i;this.rt=t,this.Ut=n,this.Lt=!1,this.Ft={},this.Ht=((i={})[ms.Checked]={},i[ms.Indeterminate]={},i[ms.Value]={},i),this.Dt={},this.Bt=[],this.Wt={},this.zt=!1,this.qt=!1,this.$t={},this.Vt=null,this.t=t.window.document}return t.prototype.start=function(){this.Gt()||(this.Lt=!0)},t.prototype.hookInstance=function(t,n){if("input"===$e(n))switch(n.type){case"checkbox":case"radio":this.Qt(t,n,"checked");break;default:this.Qt(t,n,"value")}},t.prototype.addInput=function(t){if(t){var n=fs(t);if(n){if("input"===$e(t)){var i=t;this.Xt(n,i),i.indeterminate&&this.Yt(i,!0)}var r=!1;if(function(t){switch(t.type){case"checkbox":return t.checked!=t.hasAttribute("checked");case"radio":return t.checked||t.hasAttribute("checked");default:return(t.value||"")!=function(t){if("select"!=$e(t))return t.getAttribute("value")||"";var n=t,i=n.querySelector("option[selected]")||n.querySelector("option");return i&&i.value||""}(t)}}(t)&&(this.Jt(t),r=!0),this.Lt&&(this.Ft[n]={elem:t}),!r)if(xs(t)){var e=Es(t);t.checked&&(this.Dt[e]=n)}else this.Zt(n,ms.Value,Ts(t))}}},t.prototype.Zt=function(t,n,i){this.Ht[n][t]=i},t.prototype.tn=function(t,n){return this.Ht[n][t]},t.prototype.nn=function(t){for(var n in this.Ht)delete this.Ht[n][t]},t.prototype.Xt=function(t,n){if(this.zt)this.qt&&this.hookInstance(t,n);else{var i="checkbox"===n.type||"radio"===n.type?"checked":"value",r=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,i),e=Object.getOwnPropertyDescriptor(n,i);r&&e&&r!==e&&(this.qt=!0,this.hookInstance(t,n)),this.zt=!0}},t.prototype.rn=function(t,n){void 0===n&&(n=Ts(t));var i=fs(t);if(!t||!i)return!1;if(xs(t)){var r=Es(t);return this.Dt[r]===i!=("true"===n)}return this.tn(i,ms.Value)!==n},t.prototype.onChange=function(t,n,i){void 0===i&&(i=Ts(t));var r=fs(t);t&&r&&(n||this.rn(t,i))&&this.Jt(t,n)},t.prototype.onKeyboardChange=function(t){var n,i=function(t){for(var n=t.activeElement;n&&n.shadowRoot;){var i=n.shadowRoot.activeElement;if(!i)return n;n=i}return n}(this.t);i&&("value"in(n=i)||"checked"in n)&&!os(i)&&this.rn(i)&&this.Jt(i,t)},t.prototype.tick=function(){for(var t in this.Ft){var n=this.Ft[t],i=n.elem;if(fs(i))try{delete this.Ft[t];var r=Ts(i);if(this.rn(i,r))this.Jt(i);else if(n.noFsIdInOption){var e=i;Array.prototype.slice.call(e.options).every(function(t){return fs(t)})&&(n.noFsIdInOption=!1,this.Jt(i))}}finally{this.Lt&&(this.Ft[t]=n)}else delete this.Ft[t],this.nn(t),xs(i)&&delete this.Dt[Es(i)]}},t.prototype.stop=function(){for(var t,n=0,i=this.Bt;n<i.length;n++)(e=i[n])();for(var r in this.Wt){var e;(e=this.Wt[r])&&"function"==typeof e&&e()}this.Ht=((t={})[ms.Checked]={},t[ms.Indeterminate]={},t[ms.Value]={},t),this.Bt=[],this.Wt={},this.zt=!1,this.qt=!1},t.prototype.removeInput=function(t){var n=fs(t);n&&(this.Wt[n]&&(this.Wt[n](),delete this.Wt[n]),this.nn(n))},t.prototype.Jt=function(t,n){var i=this;void 0===n&&(n=!1);var r=fs(t);if(t&&r&&!this.en(r,t)){var e=Ts(t);if(xs(t)){var s=Es(t);"false"===e&&this.Dt[s]===r?delete this.Dt[s]:"true"===e&&(this.Dt[s]=r)}else this.Zt(r,ms.Value,e);this.rt.measurer.enqueue(function(){var s=t.getBoundingClientRect(),o=s.width>0&&s.height>0,u=us(t)?Ze(e):e;i.Ut.enqueue({Kind:$n.VALUECHANGE,Args:[r,u,n,o]})})}},t.prototype.en=function(t,n){if(this.Ft[t])return!0;if("select"!==$e(n))return!1;for(var i=n.options,r=0;r<i.length;r++)if(!fs(i[r]))return this.Ft[t]={elem:n,noFsIdInOption:!0},!0;return!1},t.prototype.Yt=function(t,n){var i=fs(t);i&&this.sn(i,ms.Indeterminate,n)},t.prototype.sn=function(t,n,i){this.tn(t,n)!==i&&(this.Zt(t,n,i),this.Ut.enqueue({Kind:$n.ELEMENT_PROP,Args:[t,n,i]}))},t.prototype.Gt=function(){var t=this,n=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");return!(!n||!n.set||(this.on(HTMLInputElement,"value"),this.on(HTMLInputElement,"checked"),this.on(HTMLSelectElement,"value"),this.on(HTMLTextAreaElement,"value"),this.on(HTMLSelectElement,"selectedIndex"),this.on(HTMLOptionElement,"selected"),this.Bt.push(Jt(HTMLInputElement,ms.Indeterminate,function(n,i){return t.Yt(n,!!i)})),0))},t.prototype.un=function(){try{for(var t in this.$t){var n=this.$t[t],i=n[0],r=n[1];this.onChange(i,!1,r)}}finally{this.Vt=null,this.$t={}}},t.prototype.an=function(t){var n=this;return function(i,r){var e=Cs(i),s=fs(e);if(s){t===ms.Checked&&n.sn(s,ms.Checked,r);var o=e!==i?Ts(e):r;n.rn(e,""+o)&&(n.$t[s]=[e,""+o],n.Vt||(n.Vt=new ks(n.un.bind(n)),n.Vt.start()))}}},t.prototype.on=function(t,n){this.Bt.push(Jt(t,n,this.an(n)))},t.prototype.Qt=function(t,n,i){this.Wt[t]=Zt(n,i,this.an(i))},t}();function Es(t){if(!t)return"";for(var n=t;n&&"form"!==$e(n);)n=Et(n);return(n&&"form"==$e(n)?hs(n):0)+":"+(t.name||"_fs_"+hs(t))}function Cs(t,n){if(void 0===n&&(n=2),n<=0)return t;var i=$e(t),r=Et(t);return"option"!==i&&"optgroup"!==i||1!==(null==r?void 0:r.nodeType)?t:Cs(r,n-1)}function Ts(t){if(!t)return"";switch(t.type){case"checkbox":case"radio":return""+t.checked;default:var n=t.value;return n||(n=""),""+n}}function xs(t){return t&&"radio"==t.type}var Rs=function(){function t(t,n,i){var r=this;this.cn=new WeakMap,this.hn=!1,this.vn=!1,this.wt=1,this.ln=[],this.dn=[],this.pn=ye.wrap(function(t){var n=function(t,n){void 0===n&&(n=window);var i=n.KeyframeEffect,r=t.effect;return r&&(void 0===i||r instanceof i)?r:null}(t,r.gn),i=function(t,n){void 0===n&&(n=window);var i=n.DocumentTimeline,r=t.timeline;return r&&(void 0===i||r instanceof i)?r:null}(t,r.gn),e=Ps(t);if((null==n?void 0:n.target)&&0!==fs(null==n?void 0:n.target)&&i===r.gn.document.timeline&&e===Gn.Animation){var o=hs(n.target);if(r.cn.has(n)){var u=r.cn.get(n)||[],a=(c=u[0],u.slice(1));-1===a.indexOf(o)&&(r.wn(n,o),r.cn.set(n,s(s([c],a),[o])))}else{var c=r.wt++;r.cn.set(n,[c,o]),r.mn.enqueue({Kind:$n.KEYFRAME_EFFECT_CREATED,Args:[c,o,js(n),Ms(n)]})}if(!r.cn.has(t)){var h=r.wt++,f=(c=r.yn(n),r.yn(i));switch(r.cn.set(t,[h]),r.mn.enqueue({Kind:$n.ANIMATION_CREATED,Args:[h,Ps(t),c,f]}),t.playState){case"finished":r.mn.enqueue({Kind:$n.ANIMATION_METHOD_CALLED,Args:[h,["finish",[]]]});break;case"paused":case"running":r.mn.enqueue({Kind:$n.ANIMATION_PROPERTY_SET,Args:[h,["currentTime",t.currentTime]]});var v="paused"===t.playState?"pause":"play";r.mn.enqueue({Kind:$n.ANIMATION_METHOD_CALLED,Args:[h,[v,[]]]})}r.st.add(t,"cancel",!0,function(){r.mn.enqueue({Kind:$n.ANIMATION_METHOD_CALLED,Args:[h,["cancel",[]]]})}),r.st.add(t,"finish",!0,function(){r.mn.enqueue({Kind:$n.ANIMATION_METHOD_CALLED,Args:[h,["finish",[]]]})})}}}),this.mn=n,this.gn=t.window,this.st=i.createChild(),this.vn=function(t){void 0===t&&(t=window);var n=t.Animation,i=t.Document,r=t.Element;return void 0!==n&&void 0!==n.prototype&&"effect"in n.prototype&&"getAnimations"in i.prototype&&"animate"in r.prototype}(this.gn)}return Object.defineProperty(t.prototype,"nextId",{get:function(){return this.wt},enumerable:!1,configurable:!0}),t.prototype.snapshot=function(t){var n;if(this.bn(t))for(var i=0,r=null!==(n=t.getAnimations())&&void 0!==n?n:[];i<r.length;i++){var e=r[i];this.pn(e)}},t.prototype.bn=function(t){return this.hn&&this.vn&&"getAnimations"in t},t.prototype.start=function(t){var n,i=this;t.CaptureAnimations&&(this.mn.enqueue({Kind:$n.REC_FEAT_SUPPORTED,Args:[_i.WebAnimation,this.vn]}),this.vn&&(this.hn=!0,this.Sn(null===(n=Yt(this.gn.Element.prototype,"animate"))||void 0===n?void 0:n.afterSync(function(t){i.pn(t.result)})),this.kn("play"),this.kn("pause"),this.kn("cancel"),this.kn("finish"),this.An("updateTiming"),this.An("setKeyframes"),this.ln.push(Jt(KeyframeEffect,"target",function(t,n){i.wn(t,hs(n))}))))},t.prototype.stop=function(){this.st.clear(),this.hn=!1,this.dn.forEach(function(t){return t&&t.disable()}),this.dn=[],this.ln.forEach(function(t){return t()}),this.ln=[]},t.prototype.wn=function(t,n){var i=this.yn(t);i&&this.mn.enqueue({Kind:$n.KEYFRAME_EFFECT_PROPERTY_SET,Args:[i,["target",n]]})},t.prototype.yn=function(t){return(this.cn.get(t)||[])[0]},t.prototype.Sn=function(t){t&&this.dn.push(t)},t.prototype.kn=function(t){var n,i=this;this.Sn(null===(n=Yt(Animation.prototype,t))||void 0===n?void 0:n.afterSync(function(n){var r=i.yn(n.that);r&&i.mn.enqueue({Kind:$n.ANIMATION_METHOD_CALLED,Args:[r,[t,[]]]})}))},t.prototype.An=function(t){var n,i=this;this.Sn(null===(n=Yt(KeyframeEffect.prototype,t))||void 0===n?void 0:n.afterSync(function(n){var r,e=i.yn(n.that);if(e)switch(t){case"updateTiming":var s=n.args[0];i.mn.enqueue({Kind:$n.KEYFRAME_EFFECT_METHOD_CALLED,Args:[e,["updateTiming",[Ks(s)]]]});break;case"setKeyframes":var o=n.args[0];i.mn.enqueue({Kind:$n.KEYFRAME_EFFECT_METHOD_CALLED,Args:[e,["setKeyframes",[(r=o,(z.arrayIsArray(r)?r:[r]).map(function(t){var n=[];return Lt(t,function(t,i){n.push([i,t])}),[n,null,null,null]}))]]]})}}))},t}();function Ks(t){return[t.delay,t.direction,t.duration,t.easing,t.endDelay,t.fill,t.iterationStart,""+t.iterations]}function Ms(t){var n=t.getTiming(),i=t.composite,r=void 0===i?"replace":i,e=t.iterationComposite,o=void 0===e?"replace":e;return s(s([],Ks(n)),[r,o])}function js(t){return t.getKeyframes().map(function(t){var n=t.composite,i=t.easing,r=t.offset,e=[];return Lt(t,function(t,n){"composite"!==n&&"computedOffset"!==n&&"easing"!==n&&"offset"!==n&&e.push([n,t])}),[e,n,i,r]})}function Ps(t){return"animationName"in t?Gn.CSSAnimation:"transitionProperty"in t?Gn.CSSTransition:Gn.Animation}function Os(t){return"function"==typeof(n=t.constructor)&&Function.prototype.toString.call(n).indexOf("[native code]")>-1;var n}var Ns,Us,Ls,Fs,Hs="#polyfillshadow";function Ds(t,n,i,r){var e;try{var s="invalid: no sanitizers";if(!ke(t.length>0,s))throw s;for(var o=0,u=t;o<u.length;o++)u[o].sanitize(i)}catch(t){i[Ls.Attrs]=void 0,i[Ls.Text]=void 0,A("sanitizer failed: "+t),ye.send("sanitizer failed: "+t,"error",{err:t})}var a=i;if(r)try{r(a)}catch(t){A("visitorPipeline action failed: "+t),ye.send("visitorPipeline action failed: "+t,"error",{err:t})}if(!(null===(e=i[Ls.Mirror].watchKind)||void 0===e?void 0:e.has(Ve.Exclude)))for(var c=0,h=n;c<h.length;c++){var f=h[c];try{f.visit(a)}catch(t){A("visitor failed: "+t),ye.send("visitor failed: "+t,"error",{err:t})}}}(Us=Ns||(Ns={}))[Us.New=0]="New",Us[Us.Update=1]="Update",(Fs=Ls||(Ls={}))[Fs.Context=0]="Context",Fs[Fs.Mirror=1]="Mirror",Fs[Fs.Attrs=2]="Attrs",Fs[Fs.Text=3]="Text";var Bs=function(){function t(){this._n=0,this.In={},this.In.next=this.In.prev=this.In}return t.prototype.first=function(){return this.In.next.value},t.prototype.last=function(){return this.In.prev.value},t.prototype.size=function(){return this._n},t.prototype.push=function(t){this._n++,Ws(this.In.prev,{value:t})},t.prototype.unshift=function(t){this._n++,Ws(this.In,{value:t})},t.prototype.pop=function(){return this._n>0&&this._n--,zs(this.In.prev)},t.prototype.shift=function(){return this._n>0&&this._n--,zs(this.In.next)},t}();function Ws(t,n){var i=t.next;n.next=i,n.prev=t,t.next=i.prev=n}function zs(t){var n=t.prev,i=t.next;return n.next=i,i.prev=n,t.value}var qs,$s,Vs={timeRemaining:function(){return 1},didTimeout:!1};($s=qs||(qs={}))[$s.Idle=0]="Idle",$s[$s.Scheduled=1]="Scheduled",$s[$s.Processing=2]="Processing";var Gs=function(){function t(t){void 0===t&&(t=8),this.En=t,this.wt=1,this.Cn=qs.Idle,this.Tn=new Bs,this.xn={},this.Rn=1}return t.prototype.enqueue=function(t,n){var i=this;if(void 0===n&&(n=!1),!(this.Cn===qs.Processing&&this.Rn>16)){var r={id:this.wt++,isCompleted:!1,process:t,depth:this.Rn,store:n};return this.Tn.push(r),this.Kn(),n?function(){return i.Mn(r)}:void 0}_e("recursive","deep recursive task found")},t.prototype.Mn=function(t){try{var n=t.id,i=this.xn[n];return i?(delete this.xn[n],[i.result,i.err]):(Qs(Vs,t),ke(t.isCompleted,"failed to complete task"),[t.result,t.err])}finally{t.result=void 0,t.err=void 0}},t.prototype.flush=function(){this.jn(Vs)},t.prototype.Kn=function(){this.Cn===qs.Idle&&(this.Cn=qs.Scheduled,this.Pn())},t.prototype.jn=function(t){if(this.Cn===qs.Scheduled){var n=0;this.Cn=qs.Processing;for(var i=this.Tn.first();i&&Xs(n,this.En,t);)this.Rn=i.depth+1,Qs(t,i),i.isCompleted&&(this.Tn.shift(),!i.store||void 0===i.result&&void 0===i.err||(this.xn[i.id]=i)),i=this.Tn.first(),n++;this.Cn=qs.Idle,this.Rn=1,this.Tn.size()>0&&this.Kn()}},t}();function Qs(t,n){if(!n.isCompleted)try{var i=n.process(t)||{done:!0};i.done&&(n.isCompleted=!0,n.result=i.result)}catch(t){n.isCompleted=!0,n.err=t}}function Xs(t,n,i){return t<n||i.timeRemaining()>0}var Ys,Js=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return n(i,t),i.prototype.Pn=function(){var t=this;Yr().then(function(){t.jn(Zr(12))})},i}(Gs),Zs={INPUT:!0,TEXTAREA:!0,NOSCRIPT:!0},to=function(){function t(t,n,i,r){this.On=t,this.Nn=n,this.Un=i,this.Ln=r,this.Fn=!1,rs={},es=1,Ys=new WeakMap,this.Tn=new Js}return t.prototype.setUseTreeWalker=function(t){this.Fn=t},t.prototype.tokenizeNode=function(t,n,i,r,e,s,o){var u=this,a=as(n),c=as(i),h=[];return function(n){var i=es;try{return u.Hn(t,a,c,r,h,e,s,o),!0}catch(t){return es=i,!1}}()||(h=[]),h},t.prototype.Hn=function(t,n,i,r,e,s,o,u){for(var a,c,h=[{parentMirror:n,nextMirror:i,node:r}],f=function(t,n){return function(i){i&&t.push({parentMirror:n,nextMirror:null,node:i})}};h.length;){var v=h.pop();if(v)if("string"!=typeof v){var l=v.node,d=this.Dn(t,v,e,s,o);if(null!=d&&!(null===(a=d.watchKind)||void 0===a?void 0:a.has(Ve.Exclude))){var p=1===d.type?l.shadowRoot:null,g=!this.Fn&&d.shadowRootType===Hs&&window.HTMLSlotElement&&"slot"===d.tag&&l.assignedNodes();if(p||g||_t(l))if(null===(c=d.watchKind)||void 0===c?void 0:c.has(Ve.Defer))u(d.node,Qe.Deferred);else{if(h.push("]"),At(l,f(h,d)),p)h.push({parentMirror:d,nextMirror:null,node:p});else if(g&&g.length>0){for(var w=[],m=!1,y=0,b=g;y<b.length;y++){var S=b[y],k=hs(S);if(!k){var A=Et(S);if(A&&!function(t,n){var i=!1;return ut(t.childNodes,function(t){return t===n?(i=!0,J.Exit):J.ContinueProcessing}),i}(A,S)){w.push({parentMirror:d,nextMirror:null,node:S});continue}m=!0;break}var _="<$"+k;w.push(_)}if(m)Ys.get(l)||(Ys.set(l,!0),u(l,Qe.Immediate));else{h.push("]");for(var I=w.length-1;I>=0;I--)h.push(w[I]);h.push("[","<#assigned-nodes")}}h.push("[")}}}else"<"===v[0]&&++es,e.push(v)}},t.prototype.Dn=function(t,n,i,r,e){var s,o,u,a,c=n.node,h=n.parentMirror,f=n.nextMirror,l=$e(c),d=c.nodeName,p=c.nodeType;if("script"===l||8===p)return null;var g=function(t){if(t.constructor===window.ShadowRoot)return Os(t)?"#shadow":Hs}(c);if(this.Fn&&g===Hs)return null;var w,m,y,b,S,k=function(t,n,i,r){void 0===n&&(n=t.nodeName),void 0===i&&(i=t.nodeType),void 0===r&&(r=$e(t));var e={id:es++,node:t,name:n,type:i,tag:r};return rs[e.id]=e,t._fs=e.id,e}(c,d,p,l);k.shadowRootType=g||(null==h?void 0:h.shadowRootType),h&&(g?(h.shadow=k,k.parent=h):(w=h,y=f,vs(m=k,this.Ln.bind(this)),m.parent=w,m.next=y,y&&(m.prev=y.prev,y.prev=m),null==m.next?(m.prev=w.lastChild,w.lastChild=m):m.next.prev=m,null==m.prev?w.child=m:m.prev.next=m)),k.mask=null===(s=k.parent)||void 0===s?void 0:s.mask;try{switch(p){case 3:if(void 0===k.mask&&(k.mask=!k.parent||k.parent.mask),k.mask){var _=Et(c);1===(null==_?void 0:_.nodeType)&&this.Nn.observe(_)}S=null!==(o=c.textContent)&&void 0!==o?o:"";break;case 1:var I=c,E=this.getWatchState(I,d,!!k.shadowRootType,t);if(null!=E){k.watchKind=E;var C=!1;E.has(Ve.Watch)&&(C=!0,null===(u=this.Un)||void 0===u||u.observe(I)),E.has(Ve.Unmask)&&(k.mask=!1),E.has(Ve.Mask)&&(k.mask=!0),(E.has(Ve.Exclude)||E.has(Ve.Defer))&&(C=!0),C&&this.Nn.observe(I)}b=function(t,n){var i,r,e;if(!v||"output"!==n){var s={};try{if(t.hasAttributes())if(void 0!==t.getAttributeNames)for(var o=0,u=null!==(i=t.getAttributeNames())&&void 0!==i?i:[];o<u.length;o++){var a=u[o];null!=a&&null!=(f=t.getAttribute(a))&&(s[a]=""+f)}else for(var c=null!==(e=null===(r=t.attributes)||void 0===r?void 0:r.length)&&void 0!==e?e:0,h=0;h<c;h++){var f,l=t.attributes[h];null!=l&&null!=(f=l.value)&&(s[l.name]=""+f)}}catch(t){A("get attrs failed: "+t),ye.send("get attrs failed: "+t,"error",{err:t})}return s}}(I,l)}}catch(t){ye.send(t,"error")}if(!(null===(a=k.watchKind)||void 0===a?void 0:a.has(Ve.Exclude)))for(var T=0,x=e;T<x.length;T++){var R=x[T];try{R.preVisit&&R.preVisit(k)}catch(t){A("pre-visitor failed: "+t),ye.send("per-visitor failed: "+t,"error",{err:t})}}var K=[Ns.New,k,b,S],M=this.Tn.enqueue(function(t){var n=[];return Ds(r,e,K,function(t){!function(t,n){var i=n[1],r=n[2],e=n[3],s=i.shadowRootType,o=i.node,u=i.watchKind,a=i.name;switch(i.type){default:t.push("<"+a);break;case 10:var c=o;t.push("<!DOCTYPE",":name",c.name,":publicId",c.publicId||"",":systemId",c.systemId||"");break;case 11:case 9:var h=void 0;h=s||a,t.push("<"+h);break;case 3:t.push("<"+a,null!=e?e:"");break;case 1:if(h=a,"http://www.w3.org/2000/svg"===o.namespaceURI&&(h="svg:"+h),t.push("<"+h),u&&(u.has(Ve.Exclude)&&t.push(":_fs_excluded","true"),u.has(Ve.Defer)&&t.push(":_fs_deferred","true")),i.mask&&t.push(":_fs_masked","true"),r)for(var f in r)t.push(":"+f),t.push(r[f])}}(n,t)}),{done:!0,result:n}},!0);return ke("function"==typeof M,"failed to queue visitor"),M&&i.push(function(){var t=M();return t&&t[0]||[]}),k},t.prototype.getWatchState=function(t,n,i,r){return i||null==r||Zs[n]?this.On.isWatched(t):r.get(t)},t}(),no=[{Selector:"input[type=password]",Consent:!1,Type:1},{Selector:"input[type=hidden]",Consent:!1,Type:1},{Selector:"[autocomplete^=cc-]",Consent:!1,Type:1},{Selector:"object:not([type^=\"image/\"])",Consent:!1,Type:1},{Selector:"embed:not([type^=\"image/\"])",Consent:!1,Type:1},{Selector:"noscript",Consent:!1,Type:1},{Selector:".fs-hide",Consent:!1,Type:1},{Selector:".fs-exclude",Consent:!1,Type:1},{Selector:".fs-exclude-without-consent",Consent:!0,Type:1},{Selector:".fs-mask",Consent:!1,Type:2},{Selector:".fs-mask-without-consent",Consent:!0,Type:2},{Selector:".fs-unmask",Consent:!1,Type:3},{Selector:".fs-unmask-with-consent",Consent:!0,Type:3},{Selector:".fs-block",Consent:!1,Type:1},{Selector:".fs-record-with-consent",Consent:!0,Type:1}],io=function(t,n){return t|n},ro=ns.reduce(io,0),eo=ts.reduce(io,0),so=function(){function t(t){void 0===t&&(t=0),this.Bn=t}return t.prototype.has=function(t){return!!(this.Bn&t)},t.prototype.set=function(n){if(this.Bn&eo&&n&eo){var i=this.Bn|n,r=t.Wn(i);this.Bn=t.zn(r,this.Bn)}else this.Bn|=n},t.prototype.hasKinds=function(){return 0!==this.Bn},t.areEqual=function(t,n){return null==t&&null==n||null!=t&&null!=n&&t.equals(n)},t.prototype.getStrictestPrivacyKind=function(){return t.Wn(this.Bn)},t.Wn=function(t){for(var n=0,i=ts;n<i.length;n++){var r=i[n];if(t&r)return r}return null},t.needsToObserve=function(t,n){var i,r,e=null!==(i=null==t?void 0:t.Bn)&&void 0!==i?i:0;return!!((null!==(r=null==n?void 0:n.Bn)&&void 0!==r?r:0)&~e&ro)},t.combineKindsPreservePrivacy=function(n,i){var r,e,s=t.zn(null!==(r=null==n?void 0:n.Bn)&&void 0!==r?r:0,null!==(e=null==i?void 0:i.Bn)&&void 0!==e?e:0);return new t(s)},t.zn=function(t,n){return t&eo|n&ro},t.prototype.equals=function(t){return!!t&&this.Bn===t.Bn},t}();function oo(t,n){throw void 0===n&&(n="Reached unexpected case in exhaustive switch"),new Error(n)}function uo(t){var n=document.documentElement||document.createElement("div");try{return z.elMatches(n,t),!0}catch(n){return ye.send("Browser rejected rule","warning",{selector:t,error:n.toString()}),!1}}var ao={1:"exclude",2:"mask",3:"unmask",4:"watch",5:"keep",6:"defer"},co=function(){function t(){this.qn=ho(),this.$n=ho()}return t.prototype.forConsentState=function(t){return t?this.qn:this.$n},t.prototype.addElementBlockRules=function(t){var n=this,i=ho(),r=ho();t.map(vo).filter(function(t){return fo(t.selector)}).forEach(function(t){if(t.consent)return t.kind===Ve.Unmask?void i[t.kind].push(t):void r[t.kind].push(t);i[t.kind].push(t),r[t.kind].push(t)});for(var e=document.documentElement||document.createElement("div"),s=function(t,i){try{if(0===t.length)return;var r=t.map(function(t){return t.selector}).join(", ");z.elMatches(e,r),i.push(r)}catch(i){ye.send("Browser rejected optimistic merge rule","warning"),n.Lt(t)}},o=0,u=is;o<u.length;o++){var a=u[o];s(i[a],this.qn[a]),s(r[a],this.$n[a])}},t.prototype.addRule=function(t,n,i){if(this.Vn(t,n,i))return!0;switch(t){case Ve.Watch:case Ve.Unmask:case Ve.Keep:case Ve.Defer:break;case Ve.Mask:case Ve.Exclude:default:this.qn[t]=["*"],this.$n[t]=["*"]}return!1},t.prototype.Vn=function(t,n,i){try{return!fo(i)||(n?lo(t,this.Gn(t),i):lo(t,this.$n,i)&&lo(t,this.qn,i))}catch(t){return ye.send("Error adding block rule","error",{selector:i,error:t.toString()}),!1}},t.prototype.addElementBlock=function(t){var n=vo(t),i=n.kind,r=n.consent,e=n.selector;return this.addRule(i,r,e)},t.prototype.Lt=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n],e=r.kind,s=r.consent,o=r.selector;this.addRule(e,s,o)}},t.prototype.Gn=function(t){var n=t===Ve.Unmask;return this.forConsentState(n)},t}();function ho(){for(var t=Object.create?Object.create(null):{},n=0,i=is;n<i.length;n++)t[i[n]]=[];return t}function fo(t){return!t.match(Ne)&&""!=t.trim()}function vo(t){var n=Ve.Exclude;switch(t.Type){case $i.Unset:case $i.Exclude:n=Ve.Exclude;break;case $i.Mask:n=Ve.Mask;break;case $i.Unmask:n=Ve.Unmask;break;case $i.Watch:n=Ve.Watch;break;case $i.Keep:n=Ve.Keep;break;case $i.Defer:n=Ve.Defer;break;default:oo(t.Type,"Unexpected block type: "+t.Type)}return{kind:n,consent:t.Consent,selector:t.Selector}}function lo(t,n,i){var r=document.documentElement||document.createElement("div"),e=t;switch(e){case Ve.Exclude:case Ve.Mask:case Ve.Unmask:case Ve.Watch:case Ve.Keep:case Ve.Defer:break;default:e=Ve.Exclude}if(0==n[e].length)return!!uo(i)&&(n[e].push(i),!0);var s=n[e].length-1,o=n[e][s].concat(", ",i);try{z.elMatches(r,o)}catch(t){return!!uo(i)&&(n[e].push(i),ye.send("Browser rejected merged rule","warning",{kind:ao[e],selector:i,error:t.toString()}),!0)}return n[e][s]=o,!0}function po(t){if(!(null==t?void 0:t.hasKinds()))return 0;var n=t.getStrictestPrivacyKind();return null===n?0:ts.length-ts.indexOf(n)}var go=function(){function t(){this.Qn=new co,this.Xn=!d}return t.prototype.initialize=function(t){var n=t.blocks,i=t.deferreds,r=t.keeps,e=t.watches,o=t.canvasWatcherMode,u=s([],no);if(n)for(var a=0,c=n;a<c.length;a++){var h=c[a];u.push(h)}if((null!=o?o:ar.Disabled)===ar.Disabled&&u.push({Consent:!1,Selector:"canvas",Type:$i.Exclude}),e)for(var f=0,v=e;f<v.length;f++){var l=v[f];u.push({Type:$i.Watch,Consent:hi.RevokeConsent,Selector:l.Selector})}if(i)for(var d=0,p=i;d<p.length;d++){var g=p[d];u.push({Type:$i.Defer,Consent:hi.RevokeConsent,Selector:g.Selector})}if(this.Qn.addElementBlockRules(u),r)for(var w=0,m=r;w<m.length;w++){var y=m[w];this.addElementKeep(y)}},t.prototype.isWatched=function(t){var n,i=new so,r=this.Qn.forConsentState(null!==(n=this.Yn)&&void 0!==n?n:hi.RevokeConsent),e=function(t,n,i){return wo(t,n,i,!0)}(t,ts,r),s=e|wo(t,ns,r);return i.set(s),i.hasKinds()?i:null},t.prototype.addElementBlock=function(t){return this.Qn.addElementBlock(t)},t.prototype.addElementKeep=function(t){var n=Ve.Keep;return t.Type===Gi.Click&&this.Jn(n,t.Consent,t.Selector)},t.prototype.Jn=function(t,n,i){return this.Qn.addRule(t,n,i)},t.prototype.getConsent=function(){return this.Yn},t.prototype.initializeConsent=function(t){void 0===this.Yn&&this.Zn(t,!1)},t.prototype.setConsent=function(t){this.Zn(t,!0)},t.prototype.Zn=function(t,n){void 0===n&&(n=!0),this.Yn!==t&&(this.Yn=t,n&&this.onConsentChange&&this.onConsentChange())},t.prototype.allWatchedElements=function(t){var n;if(!this.Xn)return null;for(var i=new WeakMap,r=!1,e=function(t,n){var e,s=null!==(e=i.get(t))&&void 0!==e?e:new so;s.set(n),i.set(t,s),r=!0},s=this.Qn.forConsentState(null!==(n=this.Yn)&&void 0!==n&&n),o=0,u=is;o<u.length;o++)for(var a=u[o],c=0,h=s[a];c<h.length;c++){var f=h[c];yo(t)&&z.elMatches(t,f)&&e(t,a);for(var v=mo(t,f),l=0;l<v.length;l++)e(v[l],a)}return r?i:null},t}();function wo(t,n,i,r){void 0===r&&(r=!1);for(var e=0,s=0,o=n;s<o.length;s++){for(var u=o[s],a=!1,c=0,h=i[u];c<h.length;c++){var f=h[c];if(z.elMatches(t,f)){e|=u,a=!0;break}}if(a&&r)break}return e}function mo(t,n){return yo(t)?z.elQuerySelectorAll(t,n):function(t){return 9===t.nodeType}(t)?z.docQuerySelectorAll(t,n):function(t){return 11===t.nodeType}(t)?z.docFragQuerySelectorAll(t,n):t.querySelectorAll(n)}function yo(t){return 1===t.nodeType}var bo=function(){function t(t){this.rt=t,this.ti={},this.ni={}}return t.create=function(t){var n,i=So.isSupported(t.window);return null===(n=t.queue())||void 0===n||n.enqueue({Kind:$n.REC_FEAT_SUPPORTED,Args:[_i.ResizeObserver,i]}),i?new So(t):new ko(t)},t.prototype.collect=function(t){var n=[];for(var i in this.ni)this.ii(t,n,parseInt(i,10));return this.ni={},n},t.prototype.isObserved=function(t){return!!this.ti[t]},t.prototype.ri=function(t,n){try{var i=hs(t);if(!i)return;if(1!=t.nodeType)return;var r=function(t,n){if(1!==(null==t?void 0:t.nodeType))return{width:0,height:0};if(!n||z.arrayIsArray(n)&&0===n.length)return t.getBoundingClientRect();var i=Array.isArray(n)?n[0]:n;switch(getComputedStyle(t).writingMode){case"horizontal-tb":return{width:i.inlineSize,height:i.blockSize};case"vertical-lr":case"vertical-rl":return{width:i.blockSize,height:i.inlineSize};default:return t.getBoundingClientRect()}}(t,n);this.ni[i]=r;var e=this.rt.queue();if(!this.ti[i]&&void 0!==e)for(var s=this.ei(i),o=0,u=s;o<u.length;o++){var a=u[o];e.enqueue(a)}}catch(t){}},t.prototype.ii=function(t,n,r){for(var e=0,s=this.ei(r);e<s.length;e++){var o=s[e];n.push(i(i({},o),{When:t}))}},t.prototype.ei=function(t){var n=this.ni[t];if(!n)return[];var i=cs(t);if(!i)return[];var r=i.watchKind,e=n.width,s=n.height,o=this.ti[t];if(o&&o.w==e&&o.h==s)return[];this.ti[t]={w:e,h:s};var u=[];if(null==r?void 0:r.has(Ve.Watch)){var a=0!=e&&0!=s;(!!o&&0!=o.w&&0!=o.h)!=a&&u.push({Kind:$n.WATCHED_ELEM,Args:[t,a]})}var c=i.node,h=("scrollLeft"in c);return((null==r?void 0:r.has(Ve.Exclude))||(null==r?void 0:r.has(Ve.Defer))||i.mask||h)&&(u.push({Kind:$n.PLACEHOLDER_SIZE,Args:[t,e,s]}),h&&u.push({Kind:$n.RESIZE_SCROLLABLE_ELEMENT_CONTENT,Args:[t,c.scrollWidth,c.scrollHeight]})),u},t}(),So=function(t){function i(n){var i=t.call(this,n)||this;return i.si=new WeakMap,i.oi=new WeakMap,i.ui=new n.window.ResizeObserver(function(t){Jr().then(function(){for(var n=0,r=t;n<r.length;n++){var e=r[n],s=e.target,o=e.borderBoxSize;i.ri(s,o)}})}),i.ai=new n.window.ResizeObserver(function(t){Jr().then(function(){for(var n=0,r=t;n<r.length;n++){var e=r[n].target;i.ci(e)}})}),i}return n(i,t),i.isSupported=function(t){return"function"==typeof t.ResizeObserver},i.prototype.observe=function(t){var n=this;if(t&&1==t.nodeType){var i=t;this.ui.unobserve(i),this.ui.observe(i),this.rt.measurer.enqueue(function(){n.hi(i)})}},i.prototype.unobserveSubtree=function(t){try{t&&1===t.nodeType&&(this.ui.unobserve(t),this.ai.unobserve(t))}catch(t){}},i.prototype.nodeChanged=function(t){var n=this,i=this.oi.get(t);"number"==typeof i&&hs(t)===i&&this.rt.measurer.enqueue(function(){n.ri(t)})},i.prototype.ci=function(t){var n=this.si.get(t);if(n)for(var i in n){var r=cs(n[i]);r?this.ri(r.node):delete n[i]}},i.prototype.hi=function(t){var n=this,i=hs(t);if(i){var r=function(t){for(var n=0,i=t;;){if(n++>1e3)return null;if(!i||1!=i.nodeType)return null;var r=i;if(getComputedStyle(r).display.indexOf("inline")<0)return r;i=Et(i)}}(t);if(r&&r!==t){this.oi.set(t,i),this.ri(t);var e=this.si.get(r);e||(e=Object.create(null),this.si.set(r,e)),e[i]=i,z.setWindowTimeout(this.rt.window,Y(function(){n.ai.unobserve(r),n.ai.observe(r)}),0)}}},i}(bo),ko=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return n(i,t),i.prototype.observe=function(t){var n=this;if(t&&1==t.nodeType){var i=t;!function(t){if(t&&ss(t.node))for(var n=t,i=t.parent;i;i=i.parent){if(Ao(i)||(i.watchedChildren={}),Ao(n))for(var r in Ao(n))delete Ao(i)[r];if(Ao(i)[n.id]=n,Ht(Ao(i),2))n=i;else if(Dt(Ao(i),2))break}}(as(t)),this.rt.measurer.enqueue(function(){n.ri(i)})}},i.prototype.unobserveSubtree=function(t){var n=as(t);n&&function(t){if(Dt(Ao(t),0)||ss(t.node))for(var n=Ao(t)&&Dt(Ao(t),1)||ss(t.node)?t.id:function(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))return n}(Ao(t)),i=n?t.parent:null;i&&Ao(i)&&Ao(i)[n];){if(delete Ao(i)[n],Ht(Ao(i),1)){var r=i.id,e=Ft(Ao(i));for(i=i.parent;i&&Ao(i)&&Ao(i)[r];)delete Ao(i)[r],Ao(i)[e.id]=e,i=i.parent;break}i=i.parent}}(n)},i.prototype.nodeChanged=function(t){var n=this,i=function(t){var n=[],i=as(t);if(i)for(var r=[i],e=0;r.length&&++e<1e3;){var s=r.pop();ss(s.node)&&n.push(s.node),Ao(s)&&Lt(Ao(s),function(t){r.push(t)})}else{for(var o=t;o&&!hs(o);)o=Et(o);o&&ss(o)&&n.push(o)}return n}(t);this.rt.measurer.enqueue(function(){for(var t=0,r=i;t<r.length;t++){var e=r[t];n.ri(e)}})},i}(bo);function Ao(t){return t.watchedChildren}var _o=function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i],s={Exclude:Io(e.Exclude)};if(e.If){s.If=[];for(var o=0,u=e.If;o<u.length;o++){var a=u[o];s.If.push(Io(a,!0))}}n.push(s)}return n};function Io(t,n){return void 0===n&&(n=!1),{Hash:Eo(t.Hash,n),Host:Eo(t.Host,n),Path:Eo(t.Path,n),QueryParam:Eo(t.QueryParam,n),Query:Eo(t.Query,n)}}function Eo(t,n){return t?n?[new RegExp(t.map(function(t){return t.Expression}).join("|"),"ig")]:t.map(function(t){return new RegExp(t.Expression,"ig")}):[]}var Co="--blocked--",To=function(t,n,i,r){if(void 0===i&&(i=Co),!n||0===t.length)return n;for(var e=[],s=0,o=t;s<o.length;s++)for(var u=o[s],a=0,c=xo(u,n,r);a<c.length;a++){var h=c[a];e.push(h)}if(0===e.length)return n;for(var f="",v=0,l=0,d=e=Ro(e);l<d.length;l++){var p=d[l],g=p[0],w=p[1];f+=""+n.substring(v,g)+i,v=w}return f+n.slice(v)},xo=function(t,n,i){var r,e=[];for(t.lastIndex=0;null!==(r=t.exec(n));)if(r){if(""===r[0])return".*"!==t.source&&i&&i("detected possible infinite loop when matching zero-length characters",{re:t.source}),[[0,n.length]];if(1!==r.length)for(var s=r.index,o=0,u=1;u<r.length;u++){var a=r[u];if(a&&0!==a.length)if(u%2!=1){var c=s+o,h=c+a.length;e.push([c,h]),o+=a.length}else o+=a.length}else e.push([r.index,t.lastIndex])}return e},Ro=function(t){if(t.length<=1)return t;t.sort(function(t,n){return t[0]-n[0]});for(var n=[],i=t[0],r=1;r<t.length;r++){var e=t[r];i[1]<=e[0]?(n.push(i),i=e):i[1]<e[1]&&(i[1]=e[1])}return n.push(i),n},Ko={},Mo="__default";function jo(t){void 0===t&&(t=Mo);var n=Ko[t];return n||(n=function(){var t=document.implementation.createHTMLDocument("");return t.head||t.documentElement.appendChild(t.createElement("head")),t.body||t.documentElement.appendChild(t.createElement("body")),t}(),t!==Mo&&(n.open(),n.write(t),n.close()),Ko[t]=n),n}var Po=new(function(){function t(){var t=jo(),n=t.getElementById("urlresolver-base");n||((n=t.createElement("base")).id="urlresolver-base",t.head.appendChild(n));var i=t.getElementById("urlresolver-parser");i||((i=t.createElement("a")).id="urlresolver-parser",t.head.appendChild(i)),this.base=n,this.parser=i}return t.prototype.parseUrl=function(t,n){var i=t;if("undefined"!=typeof URL)try{i||(i=document.baseURI);var r=i?new URL(n,i):new URL(n);if(r.href)return r}catch(t){}return this.parseUrlUsingBaseAndAnchor(i,n)},t.prototype.parseUrlUsingBaseAndAnchor=function(t,n){this.base.setAttribute("href",t),this.parser.setAttribute("href",n);var i=document.createElement("a");return i.href=this.parser.href,i},t.prototype.resolveUrl=function(t,n){return this.parseUrl(t,n).href},t.prototype.resolveToDocument=function(t,n){var i=No(t);return null==i?n:this.resolveUrl(i,n)},t}());function Oo(t,n){return Po.parseUrl(t,n)}function No(t){var n=t.document,i=t.location.href;if("string"==typeof n.baseURI)i=n.baseURI;else{var r=n.getElementsByTagName("base")[0];r&&r.href&&(i=r.href)}return"about:blank"==i&&t.parent!=t?No(t.parent):i}var Uo=function(t,n){if(0===t.length||!n)return!0;for(var i=0,r=n.split("?");i<r.length;i++)for(var e=0,s=r[i].replace("?","").split("&");e<s.length;e++){var o=s[e];if(Fo(t,o))return!0}return!1},Lo=function(t,n){if(!t)return!0;for(var i=Do(n.pathname,n.host),r=0,e=t;r<e.length;r++){var s=e[r];if(Fo(s.Hash,n.hash)&&Fo(s.Host,n.host)&&Fo(s.Path,i)&&Uo(s.QueryParam,n.search)&&Fo(s.Query,n.search))return!0}return!1},Fo=function(t,n){return 0===t.length||!n||t.every(function(t){return t.lastIndex=0,t.test(n)})},Ho=function(t,n){var i,r,e,s,o;(i=t.Hash).push.apply(i,n.Hash),(r=t.Host).push.apply(r,n.Host),(e=t.Path).push.apply(e,n.Path),(s=t.QueryParam).push.apply(s,n.QueryParam),(o=t.Query).push.apply(o,n.Query)};function Do(t,n){return n&&"/"!==t.charAt(0)?"/"+t:t}var Bo=["allowReorder","attributeName","attributeType","autoReverse","baseFrequency","baseProfile","calcMode","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","referrerPolicy","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].reduce(function(t,n){return t[n]=n,t[n.toUpperCase()]=n,t},{}),Wo=16e6,zo=/^\s*((prefetch|preload|prerender)\s*)+$/i,qo=/^\s*.*((worklet|script|worker|font|fetch)\s*)+$/i;function $o(t,n,i){var r,e,s=t.node,o=t.tag;if(null===o||""===n)return null;if("link"===o&&zo.test(null!==(r=s.getAttribute("rel"))&&void 0!==r?r:"")&&!qo.test(null!==(e=s.getAttribute("as"))&&void 0!==e?e:""))return null;var u,a="style"===n?Go(i):i,c=function(t,n,i){var r,e,s,o,u,a,c,h,f,v,l,d,p,g=void 0;(null===(r=null==n?void 0:n.watchKind)||void 0===r?void 0:r.has(Ve.Exclude))?g=Ni.Exclude:(null==n?void 0:n.mask)&&(g=Ni.Mask);var w=[],m=null===(o=null===(s=null===(e=au.blocklist[Ni.Any])||void 0===e?void 0:e[t])||void 0===s?void 0:s["static"])||void 0===o?void 0:o[i],y=null===(c=null===(a=null===(u=au.blocklist[Ni.Any])||void 0===u?void 0:u["*"])||void 0===a?void 0:a["static"])||void 0===c?void 0:c[i];if(void 0!==m&&w.push(m),void 0!==y&&w.push(y),g){var b=null===(v=null===(f=null===(h=au.blocklist[g])||void 0===h?void 0:h[t])||void 0===f?void 0:f["static"])||void 0===v?void 0:v[i],S=null===(p=null===(d=null===(l=au.blocklist[g])||void 0===l?void 0:l["*"])||void 0===d?void 0:d["static"])||void 0===p?void 0:p[i];void 0!==b&&w.push(b),void 0!==S&&w.push(S)}if(au.hasPrefix){var k=fu(Ni.Any,t,i),A=fu(Ni.Any,"*",i);if(void 0!==k&&w.push(k),void 0!==A&&w.push(A),g){var _=fu(g,t,i),I=fu(g,"*",i);void 0!==_&&w.push(_),void 0!==I&&w.push(I)}}return function(t){if(0!==t.length)return z.mathMin.apply(z,t)}(w)}(o,t,n);if(void 0===c&&!t)return null;switch(c){case void 0:return a;case Li.Erase:return null;case Li.MaskText:return Ze(a);case Li.ScrubCss:return u=function(t,n,i){return""+t+cu+i},a.replace(Pe,function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=n[0]||n[3]||n[6]||n[9]||n[12],e=(n[1]||n[4]||n[7]||n[10]||n[13],n[2]||n[5]||n[8]||n[11]||n[14]);return n[15],u(r,0,e)});case Li.ScrubUrl:var h=Xo(a,{source:"dom",type:o});if("#"===a[0]){var f=h.indexOf("#");if(f>-1)return h.substring(f)}return h;default:return oo()}}var Vo={},Go=function(t,n){void 0===n&&(n=window);try{var i=n.location,r=""+i.origin+i.pathname+i.search,e=Vo[r];return e?e.lastIndex=0:(e=new RegExp((s=r,(Le.test(s)?s.replace(Ue,"\\$&"):s)+"/?(#)"),"g"),Vo[r]=e),t.replace(e,"https://fs-currenturl.invalid$1")}catch(n){return _e("cleanCSS",n),t}var s},Qo=/^data:/i;function Xo(t,n){if(Qo.test(t))return t;switch(n.source){case"dom":switch(n.type){case"frame":case"iframe":return ru(t);default:return Yo(t)}case"event":switch(n.type){case $n.AJAX_REQUEST:case $n.NAVIGATE:return Yo(t);case $n.SET_FRAME_BASE:return ru(t);default:return oo()}case"log":return ru(t);case"page":switch(n.type){case"base":return ru(t);case"referrer":case"url":return Yo(t);default:return oo()}case"perfEntry":switch(n.type){case"frame":case"iframe":case"navigation":case"other":return ru(t);default:return Yo(t)}default:return oo()}}function Yo(t){return eu(tu,t)}var Jo=tr.DefaultOrgSettings.MaxUrlLength,Zo=_o(tr.DefaultOrgSettings.UrlPrivacyConfig),tu=_o(tr.DefaultOrgSettings.UrlPrivacyConfig);function nu(t,n){Zo=_o(tr.DefaultOrgSettings.UrlPrivacyConfig.concat(t)),tu=_o(t),Jo=n||tr.DefaultOrgSettings.MaxUrlLength}function iu(t,n){ye.send(t,"error",n)}function ru(t){return eu(Zo,t)}function eu(t,n){return function(t,n,i,r){void 0===i&&(i=Co);for(var e,s,o=Oo("",n),u={Hash:[],Host:[],Path:[],QueryParam:[],Query:[]},a=0,c=t;a<c.length;a++){var h=c[a];Lo(h.If,o)&&Ho(u,h.Exclude)}if(o.host){var f=To(u.Host,o.host,i,r);o.host=f,o.port&&(e=f,s=o.port,e.substring(e.length-s.length)!==s)&&(o.port="")}if(o.pathname=To(u.Path,Do(o.pathname,o.host),i),o.hash&&(o.hash=To(u.Hash,o.hash,i)),o.search){var v=function(t,n,i){return void 0===i&&(i=Co),n.split("?").map(function(n){return n.replace("?","").split("&").map(function(n){return To(t,n,i)}).join("&")}).join("?")}(u.QueryParam,o.search,i);o.search=To(u.Query,v,i)}return o.href}(t,n,Co,iu).substring(0,Jo)}var su=/([a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+)/gi,ou=/(?:(http)|(ftp)|(ws)|(blob)|(file))[s]?:\/\/(?:[a-zA-Z]|[0-9]|[$-_@.&+#]|[!*(),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+/gi;function uu(t){return t.replace(su,"<email>").replace(ou,function(t){return Xo(t,{source:"log",type:"debug"})})}var au,cu="https://fs-excluded.invalid";function hu(t){var n,i,r,e,s,o,u,a,c,h,f,v,l,d,p,g;try{for(var w=(au={blocklist:{},hasPrefix:!1}).blocklist,m=(null!==(r=null==t?void 0:t.length)&&void 0!==r?r:0)>0?t:tr.DefaultOrgSettings.AttributeBlocklist,y={},b=0,S=m;b<S.length;b++){var k=S[b],A=k.Action;switch(A){case Li.Erase:case Li.MaskText:case Li.ScrubCss:case Li.ScrubUrl:break;default:ye.send("Detected unexpected attribute block action "+A,"warning"),A=Li.Erase}if(null!==(e=w[h=k.Target])&&void 0!==e||(w[h]={}),null!==(s=(f=w[k.Target])[v=k.Tag])&&void 0!==s||(f[v]={"static":{},regex:{}}),k.Type===Hi.Prefix)null!==(o=y[l=k.Target])&&void 0!==o||(y[l]={}),null!==(u=(d=y[k.Target])[p=k.Tag])&&void 0!==u||(d[p]={}),null!==(a=(g=y[k.Target][k.Tag])[A])&&void 0!==a||(g[A]=[]),y[k.Target][k.Tag][A].push(null!==(c=k.Name)&&void 0!==c?c:"");else{if(!k.Name){ye.send("Detected an empty named static attribute "+JSON.stringify(k),"warning");continue}w[k.Target][k.Tag]["static"][k.Name]=A}}for(var _ in y)for(var I in y[_])for(var E in y[_][I]){var C=y[_][I][E];w[_][I].regex[E]=new RegExp("^(?:"+C.join("|")+")","i"),au.hasPrefix=!0}}catch(t){ye.send(t,"warning"),au={blocklist:(n={},n[Ni.Any]={"*":{"static":{},regex:(i={},i[Li.Erase]=/.*/,i)}},n),hasPrefix:!0}}}function fu(t,n,i){var r,e,s=null===(e=null===(r=au.blocklist[t])||void 0===r?void 0:r[n])||void 0===e?void 0:e.regex;if(s)for(var o in s)if(s[o].test(i))return Number(o)}hu();var vu={target:{any:Ni.Any,exclude:Ni.Exclude,mask:Ni.Mask},action:{erase:Li.Erase,maskText:Li.MaskText,scrubUrl:Li.ScrubUrl,scrubCss:Li.ScrubCss},type:{"static":Hi.Static,prefix:Hi.Prefix}};function lu(t){var n;return{Tag:t.tag,Name:t.name,Target:vu.target[t.target],Action:vu.action[t.action],Type:vu.type[null!==(n=t.type)&&void 0!==n?n:"static"]}}var du={attributeName:null,attributeNamespace:null,addedNodes:[],removedNodes:[],nextSibling:null,previousSibling:null,oldValue:null};function pu(t){return i(i(i({},du),t),{type:"childList"})}function gu(t,n){return 0===n.length?pu({target:t}):pu({addedNodes:n,nextSibling:It(n[n.length-1]),previousSibling:Ct(n[0]),target:t})}function wu(t){var n=[];return kt(t,function(t){n.push(t)}),gu(t,n)}var mu,yu={sanitize:function(t){var n,i=t[1],r=t[2],e=t[3];if(r){var s={},o=i.tag;for(var u in r)if("dialog"!==o||"open"!==u){var a=r[u],c=Bo[n=u]||n.toLowerCase(),h=$o(i,c,a);null!==h&&(s[c]=h)}t[Ls.Attrs]=s}if(e){var f=function(t,n){if(!n)return"";var i=n.length;return i>Wo?(ye.send("Ignoring huge text node","warning",{length:i}),""):t.parent&&"style"===t.parent.tag?n:t.mask?Ze(n):n}(i,e);t[Ls.Text]=f}}},bu=function(){function t(t,n,i,r,e){var s=this;void 0===i&&(i=function(){}),void 0===e&&(e=function(){}),this.rt=t,this.On=n,this.Un=r,this.fi=e,this.vi=!1,this.li=[],this.di=[],this.pi=[],this.gi=[],this.wi=[],this.mi=!1,this.yi=[],this.bi=[],this.Fn=!1,this.Si=this.rt.window,this.acceptSanitizer(yu),this.acceptVisitor(this),this.Nn=bo.create(this.rt),this.Ln=function(t){s.Nn.unobserveSubtree(t.node),i(t)},this.ki=new to(n,this.Nn,this.Un,this.Ln.bind(this)),ke(!this.On.onConsentChange,"This is the only consent change listener."),this.On.onConsentChange=function(){return s.updateConsent()}}return t.prototype.start=function(t){void 0===t&&(t=this.Si.document),this.In=t,this.vi=!1,this.Fn=!!this.rt.recording.flags().UseTreeWalker,this.ki.setUseTreeWalker(this.Fn);var n=!0;if(h)try{this.Ai()}catch(t){A("Error setting up IE workarounds for mutation watcher: "+t),n=!1}if(n){var i=this.Fn?z.mutationObserver:MutationObserver;this._i=new i(this.Ii.bind(this))}},t.prototype.Ii=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.wi.push(r)}},t.prototype.resizer=function(){return this.Nn},t.prototype.stop=function(){this._i&&this._i.disconnect();var t=as(this.In);t&&ls(t,this.Ln.bind(this)),this.wi=[],h&&this.Ei(),this.On.onConsentChange=null,this.Ci&&(this.Ci.disable(),this.Ci=null)},t.prototype.processMutations=function(t){var n=this;if(!this.In)return[];var i=[],r=!1,e=null,o=function(){return r||(e=n.Ti(t,i,n.In),r=!0),e};if(this.xi(t,i,o),this.mi&&(i.push({Kind:$n.FAIL_THROTTLED,Args:[Ti.SetPropertyHooks],When:t}),this.mi=!1),this.wi.length>0||this.di.length>0){var u=this.Ri(t,i,o),a=u[0],c=u[1];for(var h in c)i.push({Kind:$n.MUT_ATTR,Args:c[h],When:t});for(var h in a)i.push({Kind:$n.MUT_TEXT,Args:a[h],When:t})}var f=this.li;this.li=[];for(var v=0;v<f.length;v++){var l=f[v].shadowRoot;l&&0!=hs(f[v])&&0==hs(l)&&(this.Ki(l),this.Mi(null,t,i,f[v],l))}if(i.push.apply(i,this.Nn.collect(t)),this.wi=[],this.gi.length>0&&(i.push({Kind:$n.DEFERRED_RESOLVED,Args:s([],this.gi),When:t}),this.gi=[]),this.pi.length>0){for(var d=0,p=this.pi;d<p.length;d++){var g=p[d];this.gi.push(hs(g)),_t(g)&&this.wi.push(wu(g))}this.pi=[]}return i},t.prototype.recordingIsDetached=function(){return!!this.In&&this.In!=this.Si.document},t.prototype.xi=function(t,n,i){if(!this.vi&&this.In){C(window,D);var r=i();this.ji(r,t,n,null,this.In,null),this.Nn.nodeChanged(this.In),this._i&&this.Ki(this.In),this.Pi(),this.vi=!0,T(window,D)}},t.prototype.Ti=function(t,n,i){if(!i)return null;var r=an(),e=this.On.allWatchedElements(i),s=an()-r;return n.push({Kind:$n.TIMING,Args:[[Xn.Internal,Jn.Serialization,ti.ApplyRules,t,s]],When:t}),e},t.prototype.Pi=function(){var t=this;this.Ci=Yt(Element.prototype,"attachShadow",!0),this.Ci&&this.Ci.before(function(n){n.that.shadowRoot||t.li.push(n.that)})},t.prototype.Ki=function(t){var n;try{null===(n=this._i)||void 0===n||n.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0})}catch(t){}},t.prototype.Ri=function(t,n,i){for(var r,e,s,o=this,u={},a={},c={},h={},f=function(i){if(as(i)){o.Oi(t,n,as(i));var r=as(Et(i));r&&(h[r.id]=r.node)}},v=function(i){var o,v,d;try{var p=l.wi[i];if(!l.Fn&&"childList"===p.type&&1===(null===(r=p.target)||void 0===r?void 0:r.nodeType)&&"SLOT"===p.target.tagName){var g=function(t){for(var n=new WeakMap,i=t;i=Et(i);){if(n.has(i))return null;if(n.set(i,!0),11===i.nodeType)break}if(!i)return null;var r=as(i);return(null==r?void 0:r.shadowRootType)===Hs&&(null==r?void 0:r.parent)?[r.parent.id,r.parent.node]:null}(p.target);if(g){var w=g[0],m=g[1];h[w]=m}}var y=hs(p.target);if(!y)return"continue";switch(c[y]=p.target,p.type){case"childList":if(p.removedNodes.length>0)for(var b=0;b<p.removedNodes.length;++b)(T=as(p.removedNodes[b]))&&T.id&&l.Oi(t,n,T);if(p.addedNodes.length>0&&(h[y]=p.target,!l.Fn)){var S=!(null==(d=p.target)?void 0:d.shadowRoot)||Os(d.shadowRoot)?null:as(d.shadowRoot);S&&(h[S.id]=S.node)}break;case"characterData":if((T=as(p.target))&&!os(p.target,T)){var k=p.target.textContent;if(p.oldValue!==k){var A=[Ns.Update,T,void 0,null!=k?k:void 0];Ds(l.yi,l.bi,A,function(t){var n;u[y]=[y,null!==(n=t[Ls.Text])&&void 0!==n?n:""]})}}break;case"attributes":var _=p.target;if("link"===$e(_)&&"rel"===p.attributeName&&zo.test(null!==(e=p.oldValue)&&void 0!==e?e:"")){f(_);break}var I=function(t,n){return void 0===n&&(n=as(t)),null==n?void 0:n.watchKind}(_),E=l.On.isWatched(_);if(po(E)>po(I)){f(_);break}if(so.needsToObserve(I,E)){l.Nn.observe(_),(null==E?void 0:E.has(Ve.Watch))&&(null===(s=l.Un)||void 0===s||s.observe(_));var C=as(_);C&&(C.watchKind=so.combineKindsPreservePrivacy(I,E))}var T,x=(void 0===(v=p.attributeNamespace)&&(v=""),(null===v?"":{"http://www.w3.org/1999/xlink":"xlink:","http://www.w3.org/XML/1998/namespace":"xml:","http://www.w3.org/2000/xmlns/":"xmlns:"}[v]||"")+(p.attributeName||"")),R=p.target.getAttribute(x);(T=as(p.target))&&p.oldValue!=R&&(A=[Ns.Update,T,(o={},o[x]=R||"",o),void 0],Ds(l.yi,l.bi,A,function(t){var n,i=null!==(n=t[Ls.Attrs])&&void 0!==n?n:{};for(var r in i){var e=i[r];_.hasAttribute(r)||(e=null),a[y+" "+r]=[y,r,e]}}))}}catch(t){}},l=this,d=0;d<this.wi.length;++d)v(d);for(var p=0,g=this.di;p<g.length;p++){var w=g[p];try{f(w)}catch(t){ye.send(t,"error")}}for(var m in this.di=[],h){var y=as(b=h[m]);y&&y.id&&this.Ni(i,t,n,b,y)}for(var m in c){var b=c[m];this.Nn.nodeChanged(b)}return[u,a]},t.prototype.Ui=function(t){return this.vi&&t&&this.In?(this.Li(this.In),[]):[]},t.prototype.Li=function(t){var n=this,i=Et(t);hs(t)||!i?kt(t,function(t){n.Li(t)}):this.wi.push(gu(i,[t]))},t.prototype.Ni=function(t,n,i,r,e){var s=[],o=e.child;for(kt(r,function(t){if(o)for(var n=as(t);o;){if(!hs(t)){s.push({insert:[r,t,o.node]});break}if(n&&o.id==n.id){o=o.next;break}s.push({remove:o}),o=o.next}else s.push({insert:[r,t,null]})});o;o=o.next)s.push({remove:o});for(var u=!1,a=0;a<s.length;a++){var c=s[a];if(c.insert){var h=Rn(this.Si,"_fs_use_watched_el_cache","boolean")?t():null;this.ji(h,n,i,c.insert[0],c.insert[1],c.insert[2])}else c.remove&&(u=!0,this.Oi(n,i,c.remove))}ke(!u,"All remove events should have been generated earlier, in MutationWatcher.processMutations")},t.prototype.Mi=function(t,n,i,r,e){var s=hs(r),o=an(),u=this.Fi(t,r,e,null),a=an()-o;u.length>0&&i.push({Kind:$n.DEFERRED_MUT_SHADOW,Args:[s,u],When:n},{Kind:$n.TIMING,Args:[[Xn.Internal,Jn.Serialization,ti.NodeEncoding,n,a]],When:n})},t.prototype.ji=function(t,n,i,r,e,s){var o=hs(r)||-1,u=hs(s)||-1,a=-1===o&&-1===u,c=an();C(window,U);var h=this.Fi(t,r,e,s);T(window,U);var f=an()-c;h.length>0&&(i.push({Kind:$n.DEFERRED_MUT_INSERT,Args:[o,u,h],When:n},{Kind:$n.TIMING,Args:[[Xn.Internal,Jn.Serialization,a?ti.DomSnapshot:ti.NodeEncoding,n,f]],When:n}),this.fi())},t.prototype.Fi=function(t,n,i,r){var e=this;return n&&os(n)?[]:this.ki.tokenizeNode(t,n,r,i,this.yi,this.bi,function(t,n){switch(n){case Qe.Immediate:e.refreshElement(t);break;case Qe.Deferred:e.pi.push(t)}})},t.prototype.Oi=function(t,n,i){var r=i.id;if(vs(i,this.Ln.bind(this)),n.length>0){var e=n[n.length-1];if(e.Kind==$n.MUT_REMOVE)return void e.Args.push(r)}n.push({Kind:$n.MUT_REMOVE,Args:[r],When:t})},t.prototype.Ai=function(){var n=this;if(f){var r=Object.getOwnPropertyDescriptor(Node.prototype,"textContent"),e=r&&r.set;if(!r||!e)throw new Error("Missing textContent setter -- not safe to record mutations.");Object.defineProperty(Element.prototype,"textContent",i(i({},r),{set:function(t){try{for(var n=void 0;n=St(this);)this.removeChild(n);if(null===t||""==t)return;var i=(this.ownerDocument||document).createTextNode(t);this.appendChild(i)}catch(n){e&&e.call(this,t)}}}))}this.Hi=new As(t.ThrottleMax,t.ThrottleInterval,function(){return new ks(function(){n.mi=!0,n.Ei()}).start()});var s=this.Hi.guard(function(t){var n=t.cssText;t.cssText=n});this.Hi.open(),this.Di=Yt(CSSStyleDeclaration.prototype,"setProperty"),this.Di&&this.Di.afterSync(function(t){s(t.that)}),this.Bi=Yt(CSSStyleDeclaration.prototype,"removeProperty"),this.Bi&&this.Bi.afterSync(function(t){s(t.that)})},t.prototype.Ei=function(){this.Hi&&this.Hi.close(),this.Di&&this.Di.disable(),this.Bi&&this.Bi.disable()},t.prototype.updateConsent=function(){var t=this;this.In&&kt(this.In,function(n){return t.refreshElement(n)})},t.prototype.refreshElement=function(t){hs(t)&&this.di.push(t)},t.prototype.acceptSanitizer=function(t){this.yi.push(t)},t.prototype.acceptVisitor=function(t){this.bi.push(t)},t.prototype.visit=function(t){},t.prototype.preVisit=function(t){var n=this,i=t.node,r=t.name;if(1===t.type&&!os(i,t)){var e=i;if(e.shadowRoot&&this.Ki(e.shadowRoot),"SLOT"===r){var s=as(i);(null==s?void 0:s.shadowRootType)===Hs&&i.addEventListener("slotchange",ye.wrap(function(t){var r;n.di.push(null!==(r=t.target)&&void 0!==r?r:i)}))}}},t.ThrottleMax=1024,t.ThrottleInterval=1e4,t}(),Su=function(t,n,r){try{if(-1!==PerformanceObserver.supportedEntryTypes.indexOf(t)){var e=new PerformanceObserver(function(t){Vr.resolve().then(function(){n(t.getEntries())})}),s=i({type:t,buffered:!0},r);return e.observe(s),e}}catch(t){}},ku=0,Au=1/0,_u=0;function Iu(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];r.interactionId&&(Au=z.mathMin(Au,r.interactionId),_u=z.mathMax(_u,r.interactionId),ku=_u?(_u-Au)/7+1:0)}}var Eu="first-input",Cu="largest-contentful-paint",Tu="layout-shift",xu="longtask",Ru="event",Ku="mark",Mu="measure",ju="navigation",Pu="paint",Ou="resource",Nu=function(){function t(t,n,i,r){this.rt=t,this.Ut=n,this.Wi=r,this.zi=!1,this.qi=!1,this.$i=tr.DefaultOrgSettings.MaxPerfMarksPerPage,this.Vi=0,this.Gi=0,this.Qi=!1,this.Xi=[],this.Yi=!1,window.performance&&(this.st=i.createChild())}return t.prototype.initialize=function(t){var n=t.resourceUploader,i=t.recTimings,r=t.recImgs,e=t.maxPerfMarksPerPage;this.Ji=n,this.qi=i,this.zi=r,this.$i=e||tr.DefaultOrgSettings.MaxPerfMarksPerPage},t.prototype.start=function(){var t=this;this.Vi=0;var n=this.Zi();this.tr(n);var i=window.performance;i&&("interactionCount"in performance||mu||(mu=Su("event",Iu,{type:"event",buffered:!0,durationThreshold:0})),this.Xi.length>0&&i.addEventListener&&i.removeEventListener&&this.st&&this.st.add(i,"resourcetimingbufferfull",!0,function(){t.Ut.enqueue({Kind:$n.RESOURCE_TIMING_BUFFER_FULL,Args:[]})}),this.nr(),this.ir())},t.prototype.onLoad=function(){if(!this.Qi){this.Qi=!0;var t=window.performance;t&&t.timing&&this.rr(bi.Timing,t.timing,ki.Timing)}},t.prototype.tick=function(){this.nr()},t.prototype.stop=function(){this.st&&this.st.clear(),this.Ji=void 0;var t=[];if(this.Xi.length>0){for(var n=0,i=this.Xi;n<i.length;n++){var r=i[n];t.push.apply(t,Uu(r))}this.Xi=[]}else window.performance&&"function"==typeof window.performance.getEntries&&(t=window.performance.getEntries());t.length>300&&(t=t.slice(0,300),this.Ut.enqueue({Kind:$n.RESOURCE_TIMING_BUFFER_FULL,Args:[]})),this.nr(),this.Pn(t),this.rt.taskQueue.flush()},t.prototype.Pn=function(t){for(var n=this,i=function(t){r.rt.taskQueue.enqueue(function(){return n.er(t)})},r=this,e=0,s=t;e<s.length;e++)i(s[e])},t.prototype.Zi=function(){var t=this;if(!window.PerformanceObserver||!window.performance)return[];"function"==typeof window.performance.getEntries&&this.Pn(performance.getEntries());var n=[];return[Ru,Eu,Cu,Tu,xu,Ku,Mu,ju,Pu,Ou].forEach(function(i){var r={buffered:!1};switch(i){case Ru:r.durationThreshold=40,r.buffered=!0;break;case Cu:r.buffered=!0}var e=Su(i,t.Pn.bind(t),r);e&&t.Xi.push(e),n.push([i,!!e])}),n},t.prototype.nr=function(){var t=window.performance;if(!this.rt.recording.inFrame&&t){var n=t.memory;if(n){var i=n.usedJSHeapSize-this.Gi;(0==this.Gi||z.mathAbs(i/this.Gi)>.2)&&(this.rr(bi.Memory,n,ki.Memory),this.Gi=n.usedJSHeapSize)}}},t.prototype.ir=function(){var t={timeOrigin:un.timeOrigin};this.rr(bi.TimeOrigin,t,ki.TimeOrigin)},t.prototype.er=function(t){switch(t.entryType){case Ru:this.sr(),this.rr(bi.EventTiming,t,ki.EventTiming);break;case Eu:this.rr(bi.FirstInput,t,ki.FirstInput);break;case Cu:this.rr(bi.LargestContentfulPaint,t,ki.LargestContentfulPaint);break;case Tu:this.rr(bi.LayoutShift,t,ki.LayoutShift);break;case xu:this.rr(bi.LongTask,t,ki.Measure);break;case Ku:this.rr(bi.Mark,t,ki.Measure);break;case Mu:this.rr(bi.Measure,t,ki.Measure);break;case ju:this.rr(bi.Navigation,t,ki.Navigation,{name:ju});break;case Pu:this.rr(bi.Paint,t,ki.Measure);break;case Ou:this.ur(t)}},t.prototype.ur=function(t){if(this.qi){var n=t.initiatorType;(this.zi||"img"!==n&&"image"!==n)&&this.rr(bi.Resource,t,ki.Resource,{name:n})}},t.prototype.rr=function(t,n,i,r){if(void 0===r&&(r={}),!this.atLimit(t)){for(var e=[t],s=0,o=i;s<o.length;s++){var u=o[s],a=n[u];if(void 0===a&&(a=-1),u in r){var c=Xo(a,{source:"perfEntry",type:r[u]}),h=a!==c;a=this.ar(t,n,c,h)}e.push(a)}this.Ut.enqueue({Kind:$n.PERF_ENTRY,Args:e})}},t.prototype.ar=function(t,n,i,r){if(t!==bi.Resource)return i;switch(n.initiatorType){case"":case"xmlhttprequest":case"fetch":case"script":case"beacon":return i;case"css":if(this.Ji&&!r){var e=Oo("",i);this.Ji.uploadIfNeeded(this.rt.window,e,"css")}return this.Wi.obfuscateUrl(i,"css");default:return this.Wi.obfuscateUrl(i)}},t.prototype.atLimit=function(t){switch(t){case bi.Mark:case bi.Measure:if(this.Vi>=this.$i)return!0;this.Vi++}return!1},t.prototype.tr=function(t){if(!this.rt.recording.inFrame){for(var n=window.performance,i=[_i.Performance,n&&!!n.timing,_i.PerformanceEntries,n&&"function"==typeof n.getEntries,_i.PerformanceMemory,n&&!!n.memory,_i.PerformanceObserver,!!window.PerformanceObserver,_i.PerformanceTimeOrigin,n&&!!n.timeOrigin],r=0,e=t;r<e.length;r++){var s=e[r],o=s[0],u=s[1];switch(o){case Tu:i.push(_i.LayoutShift,u);break;case Eu:i.push(_i.FirstInput,u);break;case Cu:i.push(_i.LargestContentfulPaint,u);break;case xu:i.push(_i.LongTask,u)}}this.Ut.enqueue({Kind:$n.REC_FEAT_SUPPORTED,Args:i})}},t.prototype.sr=function(){var t=this;this.Yi||(this.Yi=!0,this.rt.taskQueue.enqueue(function(){var n=mu?ku:performance.interactionCount||0;t.Ut.enqueue({Kind:$n.PERF_ENTRY,Args:[bi.EventTimingCount,n]}),t.Yi=!1}))},t}();function Uu(t){var n=[];return t.takeRecords&&(n=t.takeRecords()),t.disconnect(),n}function Lu(t){var n=0,i={id:n++,edges:{}};return t.split("\n").forEach(function(t){var r=t.trim();if(""!=r){if(0==r.indexOf("/")||r.lastIndexOf("/")==r.length-1)throw new Error("Leading and trailing slashes are not supported");var e=i,s=r.split("/");s.forEach(function(t,i){var r=t.trim();if(""===r)throw new Error("Empty elements are not allowed");if("**"!=r&&"*"!=r&&-1!=r.indexOf("*"))throw new Error("Embedded wildcards are not supported");var o=null;r in e.edges&&(o=e.edges[r]),o||(o={id:n++,edges:{}},e.edges[r]=o),i==s.length-1&&(o.term=!0),e=o})}}),i}var Fu=Lu("**");function Hu(t,n,i){if(!ta(i)){try{for(var r=[],e=0,s=i;e<s.length;e++){var o=s[e];if(!o)return;var u=new Du(!0===o?Fu:o);r.push(u)}var a=function(t,n){for(var i={},r=function(n){i[n]=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];for(var e=0,s=t;e<s.length;e++){var o=s[e];o[n].apply(o,i)}}},e=0,s=["push","pop"];e<s.length;e++)r(s[e]);return i}(r),c=0,h=[1],f=!1;return z.jsonStringify(t,function(t,i){var e=i,s=typeof e,o=e&&"object"===s;if(""===t&&1===h.length)return h[0]--,o&&h.push(z.objectKeys(e).length),e;if(a.push(t),r.some(function(t){return t.isRedacted(!o)})&&(e=tr.BlockedFieldValue,o=!1),c+=t.length+2,o)c+=2;else if(function(t,n){return null!=t&&"symbol"!==n&&"function"!==n}(e,s))try{c+=e.toString().length}catch(t){}else c+=4;for(c>=n&&(f?e=void 0:(e="_fs_trimmed_values",f=!0)),h[h.length-1]--,o&&e&&e!==tr.BlockedFieldValue?h.push(z.objectKeys(e).length):a.pop();h[h.length-1]<=0;)h.pop(),a.pop();for(var u=0,v=r;u<v.length;u++){var l=v[u].depth();if(void 0!==l&&h.length>0&&l!==h.length-1)throw new Error("Property matcher depth out of sync")}return e})}catch(t){ye.send(t,"error")}return"[error serializing "+t.constructor.name+"]"}}var Du=function(){function t(t){this.cr=1;var n=[t];t.edges["**"]&&n.push(t.edges["**"]),this.hr=[n]}return t.prototype.vr=function(){if(this.hr.length<=0)return[];var t=this.hr.length-1,n=this.hr[t];return"number"==typeof n?this.hr[t-1]:n},t.prototype.depth=function(){return this.cr},t.prototype.isRedacted=function(t){var n=this.vr();return 0===n.length||t&&!n.some(function(t){return t.term})},t.prototype.push=function(t){var n;this.cr++;var i=this.vr(),r=[];function e(n){n.edges["**"]&&(r.push(n.edges["**"],Bu(n)),e(n.edges["**"])),n.edges["*"]&&r.push(n.edges["*"]),n.edges[t]&&r.push(n.edges[t])}for(var s=0,o=i;s<o.length;s++){var u=o[s];if(null===(n=u.edges["**"])||void 0===n?void 0:n.term){r=[Bu(u),u.edges["**"]];break}e(u)}var a=!1;if(r.length!==i.length)a=!0;else for(var c=0;c<r.length;c++)if(r[c].id!==i[c].id){a=!0;break}a?this.hr.push(r):("number"!=typeof this.hr[this.hr.length-1]&&this.hr.push(0),this.hr[this.hr.length-1]++)},t.prototype.pop=function(){this.cr>0&&this.cr--;var t=this.hr[this.hr.length-1];"number"==typeof t&&t>1?this.hr[this.hr.length-1]--:this.hr.pop()},t}();function Bu(t){var n=t.edges["**"];if(!n)throw new Error("Node must have double-wildcard edge.");return Dt(t.edges,1)?{id:-n.id,edges:{"**":n}}:t}var Wu=function(){function t(t){this.lr=t,this.dr=null}return t.prototype.disable=function(){this.dr&&(this.dr.disable(),this.dr=null)},t.prototype.enable=function(t){var n,i=this,s=An(t),o=null===(n=null==s?void 0:s._w)||void 0===n?void 0:n.fetch;(o||t.fetch)&&(this.dr=Yt(o?s._w:t,"fetch"),this.dr&&this.dr.afterSync(function(t){var n=t.result;t.result=r(i,void 0,void 0,function(){return e(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.pr(n,t.args[0],t.args[1])];case 1:case 2:return i.sent(),[3,3];case 3:return[2,n]}})})}))},t.prototype.pr=function(t,n,i){return r(this,void 0,Vr,function(){var s,o,u,a,c,h;return e(this,function(f){switch(f.label){case 0:return s="GET",o="",c=!1,"string"==typeof n?o=n:"url"in n?(o=n.url,s=n.method,u=n.body,a=n.headers,c=!!n.signal):o=""+n,o?(i&&(s=i.method||s,a=ha(i.headers),u=i.body||u,c=!!i.signal||c),h=function(t){return r(this,void 0,Vr,function(){var n,i,r,s,o,u;return e(this,function(e){switch(e.label){case 0:return e.trys.push([0,6,,7]),[4,t];case 1:switch(n=e.sent(),u=n.ok?mi.OK:mi.ERROR,n.type){case"opaque":case"opaqueredirect":u=mi.OPAQUE;break;case"error":u=mi.ERROR}if(i=n.headers,r=(i.get("content-type")||"default").split(";")[0],!(["default","text/plain","text/json","application/json"].indexOf(r)>-1))return[2,qu(u,n.status,{headers:i,body:null})];s=null,e.label=2;case 2:return e.trys.push([2,4,,5]),[4,n.clone().text()];case 3:return s=e.sent(),[3,5];case 4:return e.sent(),u=mi.ABORTED,[3,5];case 5:return[2,qu(u,n.status,{headers:i,body:s})];case 6:return o=e.sent(),[2,qu(u=(a=o)&&"AbortError"===a.name?mi.ABORTED:mi.ERROR,0,{headers:{forEach:function(){}},body:void 0})];case 7:return[2]}var a})})}(t),c&&o.search(/\/(?:graph|graphql|gql)/i)>-1?[4,Vr.race([h,Qr(5e3)])]:[3,2]):[2];case 1:f.sent(),f.label=2;case 2:return this.lr.startRequest(s,o,{body:function(){return u},headers:a},h),[2]}})})},t}(),zu=function(){function t(t){this.lr=t,this.gr=new WeakMap}return t.prototype.disable=function(){this.wr&&(this.wr.disable(),this.wr=null),this.mr&&(this.mr.disable(),this.mr=null),this.yr&&(this.yr.disable(),this.yr=null)},t.prototype.br=function(t){var n=this.gr.get(t);if(n)return n;var i={};return this.gr.set(t,i),i},t.prototype.enable=function(t){var n,i,s,o,u=this,a=An(t),c=(null===(n=null==a?void 0:a._w)||void 0===n?void 0:n.XMLHttpRequest)||t.XMLHttpRequest;if(c){var h=c.prototype;this.wr=null===(i=Yt(h,"open"))||void 0===i?void 0:i.before(function(t){var n=u.br(t.that);n.method=t.args[0],n.url=t.args[1]}),this.yr=null===(s=Yt(h,"setRequestHeader"))||void 0===s?void 0:s.before(function(t){var n=t.that,i=t.args[0],r=t.args[1],e=u.br(n);e.headers||(e.headers=[]),e.headers.push([i,r])}),this.mr=null===(o=Yt(h,"send"))||void 0===o?void 0:o.before(function(t){var n=t.that,i=t.args[0],s=u.br(n),o=s.url,a=s.method,c=s.headers;void 0!==o&&void 0!==a&&(u.gr["delete"](n),u.lr.startRequest(a,o,{headers:ha(c),body:i},function(t){return r(this,void 0,Vr,function(){var n,i;return e(this,function(r){switch(r.label){case 0:return[4,new Vr(function(n){t.addEventListener("load",function(){return n(mi.OK)}),t.addEventListener("abort",function(){return n(mi.ABORTED)}),t.addEventListener("readystatechange",function(){t.readyState===XMLHttpRequest.DONE&&0!==t.status&&(t.status<400?n(mi.OK):n(mi.ERROR))}),t.addEventListener("error",function(){t.readyState===t.UNSENT?n(mi.ABORTED):n(mi.ERROR)})})];case 1:return n=r.sent(),i=function(t){if(t)return{forEach:function(n){for(var i,r=/([^:]*):\s+(.*)(?:\r\n|$)/g;i=r.exec(t);)n(i[2],i[1])}}}(t.getAllResponseHeaders()),[2,qu(n,t.status,{headers:i,body:function(){return"text"===t.responseType?t.responseText:t.response}})]}})})}(n)))})}},t}();function qu(t,n,i){return{state:t,status:n,data:i}}var $u,Vu,Gu,Qu,Xu,Yu=/^data:/i,Ju=function(){function t(t,n){this.rt=t,this.Ut=n,this.hn=!1,this.Sr=new Zu(t,n),this.kr=new zu(this.Sr),this.Ar=new Wu(this.Sr)}return t.prototype.isEnabled=function(){return this.hn},t.prototype.start=function(t){t.AjaxWatcher&&(this.hn||(this.hn=!0,this.Ut.enqueue({Kind:$n.REC_FEAT_SUPPORTED,Args:[_i.Ajax,!0]}),this.kr.enable(this.rt.window),this.Ar.enable(this.rt.window)))},t.prototype.stop=function(){this.hn&&(this.hn=!1,this.kr.disable(),this.Ar.disable())},t.prototype.tick=function(){this.Sr.tick()},t.prototype.setWatches=function(t){this.Sr.setWatches(t)},t.prototype.initialize=function(t){this.Sr.initialize(t)},t}(),Zu=function(){function t(t,n){this.rt=t,this.Ut=n,this._r=[],this.Ir={},this.Er={},this.Cr=[],this.Tr=0;var i=tr.DefaultOrgSettings;this.initialize({requests:i.HttpRequestHeadersAllowlist,responses:i.HttpResponseHeadersAllowlist,maxAjaxPayloadLength:i.MaxAjaxPayloadLength})}return t.prototype.Rr=function(t){for(var n=!1,i=!1,r=[],e=[],s=0,o=this._r;s<o.length;s++){var u=o[s],a=u.urlPattern,c=u.reqFields,h=u.rspFields;if(n&&i)break;a.test(t)&&(!1===c&&(r=[!1],n=!0),n||r.push(c),!1===h&&(e=[!1],i=!0),i||e.push(h))}return[r,e]},t.prototype.Kr=function(t){this.Cr.push(t)},t.prototype.setWatches=function(t){this._r=t.map(function(t){return{urlPattern:new RegExp(t.URLRegex),reqFields:ua(t.RecordReq,t.ReqAllowlist),rspFields:ua(t.RecordRsp,t.RspAllowlist)}})},t.prototype.initialize=function(t){var n=this,i=t.requests,r=t.responses,e=t.maxAjaxPayloadLength;this.Ir={},this.Er={},null==i||i.forEach(function(t){return n.Ir[t]=!0}),null==r||r.forEach(function(t){return n.Er[t]=!0}),this.Tr=e||tr.DefaultOrgSettings.MaxAjaxPayloadLength},t.prototype.addHeaderAllowlist=function(t,n){var i=this;null==t||t.forEach(function(t){return i.Ir[t]=!0}),null==n||n.forEach(function(t){return i.Er[t]=!0})},t.prototype.tick=function(){for(var t=0;t<this.Cr.length;t++)this.Ut.enqueue({Kind:$n.AJAX_REQUEST,Args:this.Cr[t]});this.Cr=[]},t.prototype.startRequest=function(t,n,i,s){var o,u;return r(this,void 0,Vr,function(){var r,a,c,h,f,v,l,d,p,g,w,m,y;return e(this,function(e){switch(e.label){case 0:return Yu.test(n)?[2]:(r=an(),a=function(t,n){return Po.resolveToDocument(t,n)}(this.rt.window,n),c=this.Rr(a),h=c[0],f=c[1],[4,this.Mr(h,i)]);case 1:return v=e.sent(),[4,s["catch"](function(){return qu(mi.ERROR,0,{headers:{forEach:function(){}},body:void 0})})];case 2:return l=e.sent(),d=l.state,p=l.status,g=l.data,w=an()-r,[4,this.jr(f,g)];case 3:return m=e.sent(),y=[t,Xo(a,{source:"event",type:$n.AJAX_REQUEST}),w,p,v.headers,m.headers,r,v.size,m.size,null!==(o=v.text)&&void 0!==o?o:null,null!==(u=m.text)&&void 0!==u?u:null,v.legibility,m.legibility,d],this.Kr(y),[2]}})})},t.prototype.Mr=function(t,n){return aa(this.Ir,t,this.Tr,n)},t.prototype.jr=function(t,n){return aa(this.Er,t,this.Tr,n)},t}();function ta(t){return 0===t.length||t.indexOf(!1)>-1}function na(t,n,i){return[t.length,oa(t,n,i)]}function ia(t,n,i){var r=void 0;return ta(n)||(r=Hu(t,i,n)),[sa(t),r]}function ra(t,n){var i=t.byteLength,r=void 0;return ta(n)||(r="[ArrayBuffer]"),[i,r]}function ea(t,n,i){return r(this,void 0,Vr,function(){var r,s,o,u,a;return e(this,function(e){switch(e.label){case 0:if(s=(r=t).size,ta(n))return[2,[s,void 0]];switch(r.type){case"application/json":case"application/vnd.api+json":case"text/plain":return[3,1]}return[3,4];case 1:return e.trys.push([1,3,,4]),[4,r.text()["catch"](function(t){ye.send(t,"warning")})];case 2:return(o=e.sent())&&(u=oa(o,n,i))?[2,[s,u]]:[3,4];case 3:return a=e.sent(),ye.send(a,"warning"),[3,4];case 4:return[2,[s,"[Blob]"]]}})})}function sa(t){try{return z.jsonStringify(t).length}catch(t){}return 0}function oa(t,n,i){if(!ta(n))try{return Hu(z.jsonParse(t),i,n)}catch(r){return n.length>0&&n.every(function(t){return!0===t})?t.slice(0,i):void 0}}function ua(t,n){switch(t){default:case Pi.Elide:return!1;case Pi.Record:return!0;case Pi.Allowlist:try{return Lu(n)}catch(t){return A("error parsing field allowlist ("+n+": "+t),!1}}}function aa(t,n,i,s){var o;return r(this,void 0,Vr,function(){var r,u,a,c,h,f,v;return e(this,function(e){switch(e.label){case 0:return r="",null===(o=s.headers)||void 0===o||o.forEach(function(n,i){var e=i.toLowerCase(),s=t[e];r+=e+(s?": "+n:"")+"\r\n"}),"function"!=typeof(u=null==s?void 0:s.body)?[3,2]:[4,u()];case 1:return a=e.sent(),[3,3];case 2:a=u,e.label=3;case 3:return[4,ca(n,a,i)];case 4:return c=e.sent(),h=c[0],f=c[1],v=0!==h||f?gi.NotEmpty:gi.Unknown,[2,{headers:r,text:f,size:h,legibility:v}]}})})}function ca(t,n,i){return void 0===i&&(i=tr.DefaultOrgSettings.MaxAjaxPayloadLength),r(this,void 0,Vr,function(){var r;return e(this,function(e){if(null==n)return[2,[0,void 0]];switch(typeof n){default:return[2,[-1,ta(t)?void 0:"[unknown]"]];case"string":return[2,na(n,t,i)];case"object":switch(r=n.constructor){case Object:default:return[2,ia(n,t,i)];case Blob:return[2,ea(n,t,i)];case ArrayBuffer:return[2,ra(n,t)];case Document:case FormData:case URLSearchParams:case ReadableStream:return[2,[-1,ta(t)?void 0:""+r.name]]}}return[2]})})}function ha(t){return t?Tt(t)?{forEach:function(n){for(var i=0,r=t;i<r.length;i++){var e=r[i],s=e[0];n(e[1],s)}}}:"function"==typeof t.forEach?t:{forEach:function(n){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n(t[i],i)}}:t}function fa(t){return t?t.sheet:void 0}function va(t){try{return t?t.cssRules||t.rules:void 0}catch(t){return}}(Vu=$u||($u={}))[Vu.CSS_INHERIT=0]="CSS_INHERIT",Vu[Vu.CSS_PRIMITIVE_VALUE=1]="CSS_PRIMITIVE_VALUE",Vu[Vu.CSS_VALUE_LIST=2]="CSS_VALUE_LIST",Vu[Vu.CSS_CUSTOM=3]="CSS_CUSTOM",(Qu=Gu||(Gu={}))[Qu.CSS_UNKNOWN=0]="CSS_UNKNOWN",Qu[Qu.CSS_NUMBER=1]="CSS_NUMBER",Qu[Qu.CSS_PERCENTAGE=2]="CSS_PERCENTAGE",Qu[Qu.CSS_EMS=3]="CSS_EMS",Qu[Qu.CSS_EXS=4]="CSS_EXS",Qu[Qu.CSS_PX=5]="CSS_PX",Qu[Qu.CSS_CM=6]="CSS_CM",Qu[Qu.CSS_MM=7]="CSS_MM",Qu[Qu.CSS_IN=8]="CSS_IN",Qu[Qu.CSS_PT=9]="CSS_PT",Qu[Qu.CSS_PC=10]="CSS_PC",Qu[Qu.CSS_DEG=11]="CSS_DEG",Qu[Qu.CSS_RAD=12]="CSS_RAD",Qu[Qu.CSS_GRAD=13]="CSS_GRAD",Qu[Qu.CSS_MS=14]="CSS_MS",Qu[Qu.CSS_S=15]="CSS_S",Qu[Qu.CSS_HZ=16]="CSS_HZ",Qu[Qu.CSS_KHZ=17]="CSS_KHZ",Qu[Qu.CSS_DIMENSION=18]="CSS_DIMENSION",Qu[Qu.CSS_STRING=19]="CSS_STRING",Qu[Qu.CSS_URI=20]="CSS_URI",Qu[Qu.CSS_IDENT=21]="CSS_IDENT",Qu[Qu.CSS_ATTR=22]="CSS_ATTR",Qu[Qu.CSS_COUNTER=23]="CSS_COUNTER",Qu[Qu.CSS_RECT=24]="CSS_RECT",Qu[Qu.CSS_RGBCOLOR=25]="CSS_RGBCOLOR",Qu[Qu.CSS_VW=26]="CSS_VW",Qu[Qu.CSS_VH=27]="CSS_VH",Qu[Qu.CSS_VMIN=28]="CSS_VMIN",Qu[Qu.CSS_VMAX=29]="CSS_VMAX";var la,da,pa,ga,wa="EventQueue not defined for 'withEventQueueFor', likely caused by holding ref to callback",ma=(da=(la=window.navigator).vendor,pa=void 0!==window.opr,ga=la.userAgent.indexOf("Edge")>-1,!!la.userAgent.match("CriOS")||"Google Inc."===da&&!pa&&!ga),ya=/Firefox/.test(window.navigator.userAgent);function ba(t){if(!ya)return!1;var n=window.navigator.userAgent.match(/Firefox\/(\d+)/);return!(!n||!n[1])&&parseInt(n[1],10)<t}function Sa(t){if(!ma)return!1;var n=window.navigator.userAgent.match(/Chrome\/(\d+)/);return!(!n||!n[1])&&parseInt(n[1],10)<t}ba(28),ba(27),Sa(23),Sa(38),Sa(57),Sa(60);var ka="_fs_stylesheet_hooked",Aa=["CSSMediaRule","CSSSupportsRule"],_a=function(){function t(t,n,i){var r=this;void 0===i&&(i=ks),this.rt=t,this.Ut=n,this.dn=[],this.Bt=[],this.Pr=1,this.Or=!1,this.Nr=new Map,this.Ur=new it,this.Lr=new it,this.Fr=0,this.Hr=new it(void 0,w),this.Dr=new As(1e4,1e4,function(){return setTimeout(function(){r.Ut.enqueue({Kind:$n.FAIL_THROTTLED,Args:[Ti.StyleSheetHooks]}),r.stop()})}),this.addInsert=this.Dr.guard(this.addInsert),this.addDelete=this.Dr.guard(this.addDelete),this.Br=new i(function(){r.Wr()},50),this.zr=zt(function(t,n){var i,e;if(!(null===(i=t.parentRule)||void 0===i?void 0:i.parentStyleSheet)||!r.Or)return!0;var s=t.parentRule;return r.Nr.has(s)||r.Nr.set(s,new Set),null===(e=r.Nr.get(s))||void 0===e||e.add(n),r.Br.isRunning()||r.Br.start(),!0})}return t.prototype.start=function(){var t=this;this.Dr.open();var n=this.rt.window;if(n.CSSStyleSheet&&n.StyleSheet){var i=n.CSSStyleSheet.prototype;this.dr(i),this.qr(n),this.$r(),this.Bt.push(Jt(n.StyleSheet,"disabled",function(n,i){return t.onDisableSheet(n,i)}),Jt(n.Document,"adoptedStyleSheets",function(n){return t.onSetAdoptedStyleSheets(n)}),Jt(n.ShadowRoot,"adoptedStyleSheets",function(n){return t.onSetAdoptedStyleSheets(n)})),this.Or=!0}},t.prototype.qr=function(t){var n,i,r=this,e=function(t){var n=Yt(t,"insertRule");n&&(n.afterSync(function(t){r.Vr(t.that,t.args[0],t.args[1])}),r.dn.push(n)),(n=Yt(t,"deleteRule"))&&(n.afterSync(function(t){r.Gr(t.that,t.args[0])}),r.dn.push(n))};if("function"==typeof(null===(n=t.CSSGroupingRule)||void 0===n?void 0:n.prototype.insertRule))e(t.CSSGroupingRule.prototype);else for(var s=0,o=Aa;s<o.length;s++){var u=null===(i=t[o[s]])||void 0===i?void 0:i.prototype;u&&e(u)}},t.prototype.$r=function(){var t=this;if(!this.Or){var n=Yt(CSSStyleDeclaration.prototype,"setProperty");n&&(n.afterSync(function(n){t.zr(n.that,n.args[0])}),this.dn.push(n));var r=CSSStyleRule.prototype,e=Object.getOwnPropertyDescriptor(r,"style");this.Qr||(this.Qr=null==e?void 0:e.get);var s=this;this.Xr=function(){var t,n=null===(t=null==e?void 0:e.get)||void 0===t?void 0:t.apply(this);return zt(function(){n=s.Yr(n)})(),n};try{Object.defineProperty(r,"style",i(i({},e),{get:s.Xr}))}catch(t){}}},t.prototype.Yr=function(t){var n=this.Ur.get(t);if(n)return n;var i=function(t,n,i){if("function"!=typeof t.Proxy)return n;var r=new t.Proxy(n,{get:function(t,n){var i=t[n];return"function"!=typeof i?i:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var s=this;return s===r&&(s=t),i.apply(s,n)}},set:function(t,n,r){var e=t[n];return t[n]=r,"function"==typeof e||"symbol"==typeof n||i(t,n),!0}});return r}(this.rt.window,t,Y(this.zr));return this.Ur.set(t,i),i},t.prototype.Wr=function(){var t=this,n=this.Nr;this.Nr=new Map,n.forEach(function(n,i){var r=i.parentStyleSheet;if(r){var e=t.Jr(r,i);if(void 0!==e){var s={};n.forEach(function(t){s[t]=i.style[t]}),t.Zr(r,function(t){t.enqueue({Kind:$n.CSSRULE_UPDATE,Args:[e,s]})})}}})},t.prototype.Vr=function(t,n,i){var r=Ma(t);this.addInsert(t.parentStyleSheet,n,i,r)},t.prototype.Gr=function(t,n){var i=Ma(t);this.addDelete(t.parentStyleSheet,n,i)},t.prototype.dr=function(t){var n,i=this;(n=Yt(t,"insertRule"))&&(n.afterSync(function(t){i.addInsert(t.that,t.args[0],t.args[1])}),this.dn.push(n)),(n=Yt(t,"addRule"))&&(n.afterSync(function(t){i.addInsert(t.that,t.args[0]+" {"+t.args[1]+"}",t.args[2])}),this.dn.push(n)),(n=Yt(t,"deleteRule"))&&(n.afterSync(function(t){i.addDelete(t.that,t.args[0])}),this.dn.push(n)),(n=Yt(t,"removeRule"))&&(n.afterSync(function(t){i.addDelete(t.that,t.args[0])}),this.dn.push(n)),(n=Yt(t,"replaceSync"))&&(n.afterSync(function(t){i.snapshotConstructedStylesheet(t.that,!0)}),this.dn.push(n)),(n=Yt(t,"replace"))&&(n.afterSync(function(t){return r(i,void 0,Vr,function(){return e(this,function(n){switch(n.label){case 0:return"object"!=typeof t.result||"function"!=typeof t.result.then?[2]:[4,t.result];case 1:return n.sent(),this.snapshotConstructedStylesheet(t.that,!0),[2]}})})}),this.dn.push(n)),Object.defineProperty(t,ka,{value:!0,configurable:!0})},t.prototype.onSetAdoptedStyleSheets=function(t){if(hs(t)){var n=t.adoptedStyleSheets;if(n){for(var i=[],r=0,e=n;r<e.length;r++){var s=e[r],o=this.snapshotConstructedStylesheet(s);i.push(o),!0===s.disabled&&this.onDisableSheet(s,!0)}this.Ut.enqueue({Kind:$n.ADOPTED_STYLESHEETS,Args:[hs(t),i]})}}},t.prototype.snapshotEl=function(t,n){void 0===n&&(n=0);var i=hs(t);if(i){var r=fa(t);r&&this.te([Ei.Node,i],r,n)}},t.prototype.snapshotConstructedStylesheet=function(t,n){void 0===n&&(n=!1);var i=xa(this.Hr,t);return n||void 0===i?(void 0===i&&(i=this.Pr++,function(t,n,i){t.set(n,i)}(this.Hr,t,i)),this.te([Ei.Sheet,i],t),i):i},t.prototype.te=function(t,n,i){void 0===i&&(i=0),this.Ut.enqueue({Kind:$n.RESET_CSS_SHEET,Args:[t]});var r=va(n);if(r){for(var e=[],s=i;s<r.length;s++)try{var o=Ra(Ea(r[s]));e.push(o)}catch(t){e.push("html {}")}this.Ut.enqueue({Kind:$n.CSSRULE_INSERT,Args:[t,e,i]})}},t.prototype.addInsert=function(t,n,i,r){var e=Ta(this.Hr,t,Ei.Node);if(e&&"string"==typeof n){var s=[e,[Ra(n)]];void 0!==i&&(s[2]=i),void 0!==r&&(s[3]=r),this.Zr(t,function(t){return t.enqueue({Kind:$n.CSSRULE_INSERT,Args:s})})}},t.prototype.addDelete=function(t,n,i){var r=Ta(this.Hr,t,Ei.Node);r&&this.Zr(t,function(t){return t.enqueue({Kind:$n.CSSRULE_DELETE,Args:i?[r,n,i]:[r,n]})})},t.prototype.onDisableSheet=function(t,n){var i=Ta(this.Hr,t,Ei.Node);i&&this.Zr(t,function(t){return t.enqueue({Kind:$n.DISABLE_STYLESHEET,Args:[i,!!n]})})},t.prototype.Zr=function(t,n){if(t.ownerNode)return i=this.rt,r=t.ownerNode,e=n,void((s=An(function(t){var n=t.ownerDocument;return n&&n.defaultView}(r)||i.window))&&"function"==typeof s._withEventQueue&&s._withEventQueue(i.recording.pageSignature(),function(t){var n=t;e({enqueue:function(t){ke(null!=n,wa)&&n.enqueue(t)},enqueueFirst:function(t){ke(null!=n,wa)&&n.enqueueFirst(t)}}),n=null}));var i,r,e,s;n(this.Ut)},t.prototype.Jr=function(t,n){var i;if(this.Lr.has(n))return[ai.Cached,this.Lr.get(n)];var r,e=void 0;window.CSSGroupingRule&&n.parentRule&&n.parentRule instanceof CSSGroupingRule?(e=Ma(n.parentRule),r=n.parentRule.cssRules):r=t.cssRules;var s=Array.prototype.indexOf.call(r,n);if(-1!==s){var o=Ta(this.Hr,t,Ei.Node);if(o){var u=this.Fr++;return this.Lr.set(n,u),(null!==(i=null==e?void 0:e.length)&&void 0!==i?i:0)>0?[ai.Index,o,s,e]:[ai.Index,o,s]}}},t.prototype.stop=function(){this.Or=!1,this.Dr.close();for(var t=0,n=this.dn;t<n.length;t++){var r=n[t];r.disable(),Object.defineProperty(r.getTarget(),ka,{value:!1,configurable:!0})}this.dn=[];for(var e=0,s=this.Bt;e<s.length;e++)(0,s[e])();if(this.Bt=[],this.Qr){this.Br.stop();try{var o=CSSStyleRule.prototype,u=Object.getOwnPropertyDescriptor(o,"style");if((null==u?void 0:u.get)!==this.Xr)return;Object.defineProperty(o,"style",i(i({},u),{get:this.Qr}))}catch(t){}}},t.prototype.ensureHook=function(t){this.ne(t)||t[ka]||this.dr(t)},t.prototype.removeHook=function(t){if(!this.ne(t))for(var n=0;n<this.dn.length;n++){var i=this.dn[n],r=i.getTarget();if(t===r){i.disable(),this.dn.splice(n,1),Object.defineProperty(r,ka,{value:!1,configurable:!0});break}}},t.prototype.ne=function(t){return Object.getPrototypeOf(t)===this.rt.window.CSSStyleSheet},t}(),Ia=document.createElement("div");Ia.style.width="initial";var Ea=""!=Ia.style.cssText?function(t){return t.cssText}:function t(n,i){if(void 0===i&&(i=0),!ke(i<=20,"No deep recursion for CSS rules"))return"html { /* Depth limit exceeded! */ }";var r=function(t){switch(t.type){case CSSRule.PAGE_RULE:var n=t.selectorText||"";return n&&Ut(n,"@page")?n:"@page "+n;case CSSRule.KEYFRAME_RULE:return t.keyText;case CSSRule.STYLE_RULE:return t.selectorText;case CSSRule.MEDIA_RULE:return"@media "+t.media.mediaText;case CSSRule.KEYFRAMES_RULE:return"@keyframes "+t.name;case CSSRule.SUPPORTS_RULE:return"@supports "+t.conditionText;default:return null}}(n);if(null==r)return n.cssText;var e=function(n,i){var r,e,s,o,u=n,a=u.style;if(a){for(var c="",h=0;h<a.length;h++){var f=a[h],v=void 0!==(o=function(t,n){var i=t;if("function"==typeof i.getPropertyCSSValue){var r=i.getPropertyCSSValue(n);if(null!=r){var e;switch(r.cssValueType){case $u.CSS_PRIMITIVE_VALUE:e=r;break;case $u.CSS_VALUE_LIST:if(1!==r.length)return;var s=r.item(0);if(null==s)return;if(s.cssValueType!==$u.CSS_PRIMITIVE_VALUE)return;e=s;break;default:return}if(e.primitiveType===Gu.CSS_STRING){var o=jo();Xu||(Xu=o.createElement("div"));var u=e.cssText;try{Xu.style.cssText=n+": \""+u+"\";";var a=Xu.style.getPropertyCSSValue(n);if(null==a)return;if(u!==a.cssText)return}catch(t){return}finally{Xu.style.cssText=""}return"\""+u+"\""}}}}(e=a,s=f))?o:e.getPropertyValue(s);("initial"===v||("\""===(r=v)[0]||"'"===r[0])&&r[r.length-1]===r[0])&&(c+=f+": "+v,"important"===a.getPropertyPriority(f)&&(c+=" !important"),c+="; ")}return[a.cssText,c].filter(Boolean).join("\n")}var l=u.cssRules;if(!l)return null;var d="";for(h=0;h<l.length;h++)d+=t(l[h],i+1);return d}(n,i);return null==e?n.cssText:r+" { "+e+"} "},Ca=/^\s*$/;function Ta(t,n,i){var r=function(t,n){var i=xa(t,n);if(i)return[Ei.Sheet,i];var r=hs(n.ownerNode);return r?[Ei.Node,r]:void 0}(t,n);if(r){var e=r[0],s=r[1];return e===i?s:r}}function xa(t,n){return t.get(n)}function Ra(t){return t.length<=Wo?t:(A("CSSRule too large, inserting dummy instead: "+t.length),":root { --fs-dropped-large-rule: 0 }")}function Ka(t,n){for(var i=0;i<t.length;i++)if(t[i]===n)return i;return-1}function Ma(t){for(var n=[],i=t;i.parentRule||i.parentStyleSheet;){var r;if(!(null==(r=i.parentRule?i.parentRule:i.parentStyleSheet)?void 0:r.cssRules))return ye.send("Could not find a path to target rule","warning"),n;var e=Ka(r.cssRules,i);if(e>-1){if(n.unshift(e),r instanceof CSSStyleSheet)break;i=r}else ye.send("Could not find intermediate rule in parent","warning")}return n}var ja=function(){function t(t,n,i){this.rt=t,this.ie=n,this.st=i.createChild()}return t.prototype.start=function(){var t=this,n=this.rt.window.document;this.st.addCustom(n,this.ee(),!0,function(n){t.onFullscreenChange(n)}),this.st.addCustom(n,this.se(),!0,function(n){t.onFullscreenError(n)})},t.prototype.stop=function(){this.st&&this.st.clear()},t.prototype.onFullscreenChange=function(t){var n=this.oe();if(n){var i=hs(n);null==this.ue&&A("Error: Received fullscreen signal but we think we are already in fullscreen?"),this.ie.enqueue({Kind:$n.FULLSCREEN,Args:[i,!0]}),this.ue=i}else null!=this.ue&&A("Error: Received fullscreen exit signal but have no previous fullscreen event?"),this.ie.enqueue({Kind:$n.FULLSCREEN,Args:[this.ue,!1]}),this.ue=void 0},t.prototype.onFullscreenError=function(t){this.ie.enqueue({Kind:$n.FULLSCREEN_ERROR,Args:[]})},t.prototype.oe=function(){var t=this.rt.window.document;return t[k(t,"fullscreenElement")]},t.prototype.ee=function(){return k(this.rt.window.document,"onfullscreenchange").slice(2)},t.prototype.se=function(){return k(this.rt.window.document,"onfullscreenerror").slice(2)},t}(),Pa=function(){function t(t,n){this.Ut=n,this.St=null,this.ae={};var i=t.window;"customElements"in i&&null!=i.customElements&&"get"in i.customElements&&"whenDefined"in i.customElements&&(this.St=i.customElements)}return t.prototype.start=function(){},t.prototype.stop=function(){},t.prototype.onCustomNodeVisited=function(t){return r(this,void 0,Vr,function(){var n,i;return e(this,function(r){switch(r.label){case 0:if(!this.St)return[2];if(n=t.nodeName.toLowerCase(),Object.prototype.hasOwnProperty.call(this.ae,n))return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),i=!!this.St.get(n),this.ae[n]=i,[4,this.St.whenDefined(n)];case 2:return r.sent(),this.Ut.enqueue({Kind:$n.CUSTOM_ELEMENT_DEFINED,Args:[n]}),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}})})},t}(),Oa=function(){function t(t,n){this.ce=!1,this.dn=[],this.mn=n,this.gn=t.window,this.ce=Na(this.gn)}return t.prototype.start=function(){this.mn.enqueue({Kind:$n.REC_FEAT_SUPPORTED,Args:[_i.HTMLDialogElement,this.ce]}),this.ce&&(this.Sn("show"),this.Sn("showModal"),this.Sn("close"))},t.prototype.stop=function(){this.dn.forEach(function(t){return t.disable()}),this.dn=[]},t.prototype.Sn=function(t){var n=this,i=Yt(this.gn.HTMLDialogElement.prototype,t);null==i||i.afterSync(function(i){var r=hs(i.that),e="close"!==t,s="showModal"===t;n.mn.enqueue({Kind:$n.DIALOG,Args:[r,e,s]})}),i&&this.dn.push(i)},t}(),Na=function(t){return void 0!==t.HTMLDialogElement},Ua=function(t){try{return z.elMatches(t,"dialog:modal")}catch(t){return!0}},La=function(){function t(){}return t.prototype.now=function(){return Date.now()},t}(),Fa=function(){function t(t,n,i,r){void 0===i&&(i=n),void 0===r&&(r=new La),this.he=t,this.fe=n,this.ve=r,this.le=r.now(),this.de=i}return t.prototype.hasCapacityFor=function(t){var n=this.ve.now(),i=(n-this.le)*this.he;return this.de=Math.min(this.fe,this.de+i),this.le=n,this.de>=t?(this.de-=t,[!0,0]):[!1,(t-this.de)/this.he]},t}(),Ha=new Fa(2,2e5),Da=new Set(["measureText","getImageData","getError","getTransform","isContextLost","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"]),Ba=new Set(["fillText"]),Wa=function(){function t(t,n,i,r){this.Ut=n,this.Ji=i,this.Wi=r,this.pe=ar.CaptureCanvasOps,this.ge=[],this.we=[],this.me=new WeakMap,this.ye=new WeakMap,this.be=new Set,this.Se=0,this.ke=new WeakMap,this.Ae=!1,this._e=new WeakMap,this.Ie=new Set,this.Ee=new WeakMap,this.Ce=new WeakMap,this.Te=1,this.xe=new WeakMap,this.Re=1,this.Ke=new WeakMap,this.Me=0,this.je=!1}return t.prototype.start=function(t){var n,i=this;if(t.CanvasWatcherMode&&(this.Ut.enqueue({Kind:$n.REC_FEAT_SUPPORTED,Args:[_i.CanvasWatcherEnabled,!0,_i.CanvasScreenShotMode,t.CanvasWatcherMode===ar.ScreenshotCanvas]}),this.Ae=!0,this.pe=null!==(n=t.CanvasWatcherMode)&&void 0!==n?n:ar.CaptureCanvasOps,this.dr("2d",CanvasRenderingContext2D),this.dr("webgl",WebGLRenderingContext),this.pe===ar.ScreenshotCanvas)){if(!HTMLCanvasElement.prototype.toDataURL)return;this.Se=setInterval(function(){return i.screenshotConnectedCanvases()},1e3)}},t.prototype.Pe=function(t,n){return"object"!=typeof n?[void 0,0]:(this.xe.has(n)||this.xe.set(n,[t,this.Re++]),this.xe.get(n))},t.prototype.dr=function(t,n){var i=this;if(n)for(var r=n.prototype,e=function(e){if(Da.has(e))return"continue";var o=Object.getOwnPropertyDescriptor(r,e);if("function"==typeof(null==o?void 0:o.value)){var u=Yt(r,e);u&&(u.afterSync(function(n){return i.Oe(t,e,n.that,n.args,n.result)}),s.ge.push(u))}else"function"==typeof(null==o?void 0:o.set)&&s.we.push(Jt(n,e,s.Ne(t,e)))},s=this,o=0,u=Object.keys(r);o<u.length;o++)e(u[o])},t.prototype.Ue=function(t,n){var i;this.Ie.add(t),this.Ee.has(t)||this.Ee.set(t,an()+5e3),this._e.has(t)||this._e.set(t,[]),null===(i=this._e.get(t))||void 0===i||i.push.apply(i,n)},t.prototype.Le=function(t){var n,i=null!==(n=this._e.get(t))&&void 0!==n?n:[];return this.Ie["delete"](t),this.Ee["delete"](t),i},t.prototype.Fe=function(t){var n=t instanceof HTMLCanvasElement?hs(t):0;if(n)return n;if(this.Ce.has(t))return{id:this.Ce.get(t)};var i={id:this.Te};return this.He(t,i),this.Ce.set(t,this.Te),++this.Te,i},t.prototype.He=function(t,n){this.Ut.enqueue({Kind:$n.CANVAS_DETACHED_DIMENSION,Args:[n,t.width,t.height]})},t.prototype.flush=function(t,n){var i;if(this.Ae){if(this.Ke.has(t))return this.Ke.get(t);this.pe===ar.ScreenshotCanvas&&t instanceof HTMLCanvasElement&&(this.be.add(t),this.ye.set(t,!0));var r=this.Fe(t);this.Ke.set(t,r);var e=this.Le(t);if(e.length>0){var s=n;if(!s){var o=t instanceof HTMLCanvasElement?as(t):void 0,u=t instanceof HTMLCanvasElement&&nn(t);s=null!==(i=null==o?void 0:o.mask)&&void 0!==i?i:u}this.De(t,r,e,s)}return this.Ke["delete"](t),r}},t.prototype.Be=function(t,n,i,r,e,s,o){var u;switch(typeof r){case"string":return e?Ze(r):r;case"number":case"boolean":case"bigint":return r;case"undefined":return{undef:!0};case"object":if(!r)return r;try{o.set(r,!0)}catch(t){}var a=null===(u=Object.getPrototypeOf(r))||void 0===u?void 0:u.constructor,c=(null==a?void 0:a.name)||function(t){var n;if(t){var i=t.toString(),r=qa.exec(i);return r||(r=$a.exec(i)),null===(n=null==r?void 0:r[1])||void 0===n?void 0:n.trim()}}(a),h={ctor:c};if(r instanceof Node&&(l=hs(r)))return h.id=l,h;switch(c){case"Array":return this.Me+=r.length,this.We(t,n,i,r,e,s,o);case"CanvasGradient":return h;case"HTMLImageElement":var f=Xo(r.src,{source:"dom",type:"canvas"});return this.Wi.record(f),h.src=f,h;case"HTMLCanvasElement":var v=r,l=this.flush(v,e);return h.srcId=l,h}if(function(t){var n;return!!(null===(n=Object.prototype.toString.call(t))||void 0===n?void 0:n.match(za))}(r))return this.xe.has(r)?this.ze(r,h,e):(h.typedArray="["+r.toString()+"]",this.Me+=r.length,h);if("object"==typeof r&&this.xe.has(r))return this.ze(r,h,e);if(r instanceof WebGLBuffer||r instanceof WebGLTexture){var d=void 0;switch(s){case"bindTexture":d=this.qe(t,"createTexture",n,i,r);break;case"bindBuffer":d=this.qe(t,"createBuffer",n,i,r)}if(void 0!==d)return this.ze(r,h,e)}var p=r;for(var g in h.obj={},p){try{switch(typeof p[g]){case"function":continue;case"object":if(p[g]&&o.has(p[g]))continue}}catch(t){continue}++this.Me,h.obj[g]=this.Be(t,n,i,p[g],e,s,o)}return h;default:return null}},t.prototype.ze=function(t,n,i){var r=this.xe.get(t),e=r[0],s=r[1];return this.flush(e,i),n.ref=s,delete n.ctor,n},t.prototype.qe=function(t,n,i,r,e){var s=this.Pe(i,e),o=(s[0],s[1]);return this.$e(r,[[t,or.Function,n,[],o]]),o},t.prototype.We=function(t,n,i,r,e,s,o){var u=this;return void 0===o&&(o=new WeakMap),this.Me+=r.length+1,r.map(function(r){return u.Be(t,n,i,r,e,s,o)})},t.prototype.De=function(t,n,i,r){var e=this;if(void 0===r&&(r=!1),!this.je){var s=i.map(function(i){var s=i[0],o=i[1],u=i[2],a=i[3],c=i[4];return[s,o,u,e.We(s,t,n,a,r&&Ba.has(u),u),c]});if(!this.me.has(t)&&(this.me.set(t,!0),i.some(function(t){return"2d"===t[0]}))){var o=function(t){var n=t.getContext("2d");if(!n)return[];var i=[];if((n instanceof CanvasRenderingContext2D||window.OffscreenCanvasRenderingContext2D&&n instanceof OffscreenCanvasRenderingContext2D)&&"function"==typeof n.getTransform){var r=n.getTransform();if(!r.isIdentity){var e=r.a,s=r.b,o=r.c,u=r.d,a=r.e,c=r.f;i.push(["2d",or.Function,"transform",[e,s,o,u,a,c],-1])}}return i}(t);if(o.length>0)return o.push.apply(o,s),void this.$e(n,o)}this.$e(n,s)}},t.prototype.$e=function(t,n){if(!this.je){var i=Ha.hasCapacityFor(this.Me),r=i[0];i[1],this.Me=0,r?this.Ut.enqueue({Kind:$n.CANVAS,Args:[t,n]}):this.je=!0}},t.prototype.Ve=function(t,n){t instanceof HTMLCanvasElement?this.pe===ar.ScreenshotCanvas?(this.ye.set(t,!0),this.be.add(t)):this.Ue(t,n):A("detected canvas op but target is not canvas element")},t.prototype.Oe=function(t,n,i,r,e){for(var s=[],o=0;o<r.length;o++)s.push(r[o]);var u=this.Pe(i.canvas,e),a=(u[0],u[1]);this.Ve(i.canvas,[[t,or.Function,n,s,a]])},t.prototype.Ne=function(t,n){var i=this;return function(r,e){i.Ve(r.canvas,[[t,or.Set,n,[e],0]])}},t.prototype.stop=function(){this.Ae=!1,this.ge.forEach(function(t){return t.disable()}),this.we.forEach(function(t){return t()}),this.ge=[],this.we=[],this.Se&&(clearInterval(this.Se),this.Se=0)},t.prototype.screenshotConnectedCanvases=function(){var t=this,n=[],i=[];return this.be.forEach(function(r){var e=hs(r);nn(r)&&e?t.ye.has(r)&&i.push(Yr().then(function(){return t.Ge(r,e)})):n.push(r)}),n.forEach(function(n){return t.be["delete"](n)}),this.ye=new WeakMap,Vr.all(i)},t.prototype.Ge=function(t,n){return r(this,void 0,Vr,function(){var i,r,s,o;return e(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),i=t.toDataURL(),r=this.ke.get(t),[4,this.Ji.uploadDataUrlIfNeeded(i,function(t){var n;return t.url!==r&&!!(null===(n=t.contentType)||void 0===n?void 0:n.match(/^image/i))})];case 1:return(s=e.sent())?(o=s.url,this.ke.set(t,o),s.url===r?[2]:(this.$e(n,[["2d",or.Function,"drawImage",[{ctor:"HTMLImageElement",src:o},0,0],0]]),[3,3])):[2];case 2:return _e("Ex during screenshot",e.sent()),[3,3];case 3:return[2]}})})},t.prototype.Qe=function(){var t=this,n=[];this.Ie.forEach(function(i){i instanceof HTMLCanvasElement&&(hs(i)||!nn(i))||(t._e["delete"](i),n.push(i))});for(var i=0,r=n;i<r.length;i++){var e=r[i];this.Le(e)}},t.prototype.tick=function(){var t=this;if(this.Ae)try{if(this.Qe(),this.pe===ar.ScreenshotCanvas)return;this.Ie.forEach(function(n){var i;n instanceof HTMLCanvasElement&&t.Xe(n);var r=null!==(i=t.Ee.get(n))&&void 0!==i?i:Number.POSITIVE_INFINITY;an()>r&&t.Le(n)})}catch(t){ye.send(t,"error")}},t.prototype.Xe=function(t){var n=hs(t);if(n){var i=as(t),r=this._e.get(t);r&&0!==r.length&&(this.De(t,n,r,!!(null==i?void 0:i.mask)),this.Le(t))}},t}(),za=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,qa=/^\[object ([^\]]+?)(?:Constructor)?\]/,$a=/^function ([^(]+)/,Va=/^\s*at .*(\S+:\d+|native|(<anonymous>))/m,Ga=/^(eval@)?(\[native code\])?$/;function Qa(t,n,i,r,e){return[n||"",t(i||""),parseInt(r||"-1",10),parseInt(e||"-1",10)]}function Xa(t){if(!t||-1===t.indexOf(":"))return["","",""];var n=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return n?[n[1]||"",n[2]||"",n[3]||""]:["","",""]}var Ya=["_fs_debug","assert","debug","error","info","log","trace","warn"],Ja=Ya.filter(function(t){return!/debug/.test(t)});function Za(t,n){return uu(Ot(t)?t.slice(0,n):ds(t,n))}function tc(t,n){return s([(n?n+" ":"")+Za(function(t){if(Kt(t)){try{if("function"==typeof t.toString)return t.toString()}catch(t){}return t.message}}(t.error)||t.message,1e3),Za(t.filename,100),Kt(t.lineno)?-1:t.lineno],function(t,n){if(!Kt(n)||!Ot(n.stack))return[];var i=n;return i.stack.match(Va)?function(t,n){return n.split("\n").filter(function(t){return!!t.match(Va)}).map(function(n){var i=n;i.indexOf("(eval ")>-1&&(i=i.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var r=i.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/\(native code\)/,"").split(/\s+/).slice(1),e=Xa(r.pop()),s=r.join(" "),o=["eval","<anonymous>"].indexOf(e[0])>-1?"":e[0];return Qa(t,s,o,e[1],e[2])})}(t,i.stack):function(t,n){return n.split("\n").filter(function(t){return!t.match(Ga)}).map(function(n){var i=n;if(i.indexOf(" > eval")>-1&&(i=i.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===i.indexOf("@")&&-1===i.indexOf(":"))return[i,"",-1,-1];var r=i.split("@"),e=Xa(r.pop()),s=r.join("@");return Qa(t,s,e[0],e[1],e[2])})}(t,i.stack)}(uu,t.error))}var nc,ic,rc,ec,sc=function(){function t(t,n,i){this.Ut=n,this.hn=!1,this.Ye=!1,this.Je=0,this.dn=[],this.Ze=tr.DefaultOrgSettings.MaxConsoleLogPerPage,this.Si=t.window,this.st=i.createChild()}return t.prototype.initializeMaxLogsPerPage=function(t){this.Ze=t||tr.DefaultOrgSettings.MaxConsoleLogPerPage},t.prototype.ts=function(){return"\"[received more than "+this.Ze+" messages]\""},t.prototype.start=function(t){var n=this;if(t.ConsoleWatcher&&(this.st.add(this.Si,"error",!0,function(t){return n.ns(t)}),this.st.add(this.Si,"unhandledrejection",!0,function(t){var i,r="";t.reason instanceof Error?i=t.reason:r=ds(t.reason,1e3),n.ns({error:i,message:r,filename:"",lineno:0},"Uncaught (in promise)")},!0),!this.hn))if(this.hn=!0,this.Ut.enqueue({Kind:$n.REC_FEAT_SUPPORTED,Args:[_i.Console,!0]}),this.Si.console)for(var i=function(t){var i=Yt(r.Si.console,t);if(!i)return"continue";"assert"===t?i.before(function(i){var r=i.args;r[0]||n.rs(t,Array.prototype.slice.apply(r,[1]))}):i.before(function(i){var r=i.args;return n.rs(t,r)}),r.dn.push(i)},r=this,e=0,s=Ja;e<s.length;e++)i(s[e]);else this.rs("log",["NOTE: Log messages cannot be captured on IE9"])},t.prototype.isEnabled=function(){return this.hn},t.prototype.stop=function(){var t;if(this.st&&this.st.clear(),this.hn)for(this.hn=!1;t=this.dn.pop();)t.disable()},t.prototype.logEvent=function(t,n,i){if(void 0===i&&(i="console"),!this.es())return null;for(var r=-1===Ya.indexOf(t)?[i,"log",Za(t,1e3)]:[i,t],e=0;e<n.length;++e)r.push(Za(n[e],1e3));return{Kind:$n.LOG,Args:r}},t.prototype.rs=function(t,n){var i=this.logEvent(t,n);i&&this.Ut.enqueue(i)},t.prototype.ns=function(t,n){void 0===n&&(n="Uncaught"),(void 0!==t.error||void 0!==t.message||t.filename||t.lineno)&&this.es()&&this.Ut.enqueue({Kind:$n.ERROR,Args:tc(t,n)})},t.prototype.es=function(){return!this.Ye&&(this.Je==this.Ze?(this.Ut.enqueue({Kind:$n.LOG,Args:["console","warn",this.ts()]}),this.Ye=!0,!1):(this.Je++,!0))},t}();(ic=nc||(nc={}))[ic.Ajax=0]="Ajax",ic[ic.Animation=1]="Animation",ic[ic.Canvas=2]="Canvas",ic[ic.Console=3]="Console",ic[ic.CustomElement=4]="CustomElement",ic[ic.Dialog=5]="Dialog",ic[ic.Fullscreen=6]="Fullscreen",ic[ic.Input=7]="Input",ic[ic.Perf=8]="Perf",ic[ic.StyleSheet=9]="StyleSheet",(ec=rc||(rc={}))[ec.Scroll=1]="Scroll",ec[ec.Resize=2]="Resize";var oc=/^\s*((stylesheet)\s*)+$/i,uc=/^\s*((img|picture)\s*)+$/i,ac=function(){function t(t,n,i,r,e,s,o,u,a){this.rt=t,this.Ut=n,this.ss=i,this.os=s,this.us=o,this.Ji=u,this.Wi=a,this.cs=[],this.hs={},this.vs=!1,this.ls=[],this.ds=!1,this.ps={},this.gs=!1,this.Si=t.window,this.t=this.Si.document,this.ws=this.Si.location,this.ys=this.Si.history,this.st=e.createChild(),this.bs=this.ws.href,this.Ss=[new Ju(t,n),new Rs(t,n,this.st),new Wa(t,n,u,this.Wi),new sc(t,this.Ut,this.st),new Pa(t,n),new Oa(t,n),new ja(t,n,this.st),new Is(t,n),new Nu(t,n,this.st,this.Wi),new _a(t,n)],this.ks=function(t,n){void 0===n&&(n=.25);var i=t.window.IntersectionObserver;if(i)return new i(function(n){for(var i,r=0,e=n;r<e.length;r++){var s=e[r],o=s.target,u=s.intersectionRatio,a=hs(o);a&&(null===(i=t.queue())||void 0===i||i.enqueue({Kind:$n.VIEWPORT_INTERSECTION,Args:[a,u]}))}},{threshold:[n,1]})}(t),this.As=new bu(t,r,this.Ln.bind(this),this.ks,this.fi.bind(this)),this.As.acceptVisitor(this)}return t.prototype.getResourceUploader=function(){return this.Ji},t.prototype.start=function(t){this.As.start();for(var n=0,i=this.Ss;n<i.length;n++)i[n].start(t);this._s(t)},t.prototype._s=function(t){var n=this;t.DisableCopyPasteListener||(this.st.add(this.Si,"copy",!1,this.Is.bind(this)),this.st.add(this.Si,"paste",!1,this.Es.bind(this))),this.st.add(this.Si,"mousemove",!0,function(t){dc(t)&&n.Cs(t)}),this.st.add(this.Si,"mousedown",!0,function(t){dc(t)&&n.Ts(t)}),this.st.add(this.Si,"mouseup",!0,function(t){dc(t)&&n.xs(t)}),this.st.add(this.Si,"keydown",!0,function(t){n.Ss[nc.Input].onKeyboardChange(lc(t))}),this.st.add(this.Si,"keyup",!0,function(t){n.Ss[nc.Input].onKeyboardChange(lc(t))}),this.st.add(this.Si,"click",!0,function(t){dc(t)&&n.Rs(t)}),this.st.add(this.Si,"dblclick",!0,function(t){n.Ks(t)}),this.st.add(this.Si,"focus",!0,function(t){n.Ms(t,lc(t))},!0),this.st.add(this.Si,"blur",!0,function(t){n.js(t,lc(t))},!0),this.st.add(this.Si,"change",!0,function(t){n.Ps(t,lc(t))},!0),this.st.add(this.Si,"touchstart",!0,function(t){dc(t)&&(n.Os(t,$n.TOUCHSTART),n.Ns())}),this.st.add(this.Si,"touchend",!0,function(t){dc(t)&&(n.Os(t,$n.TOUCHEND),n.Ns())}),this.st.add(this.Si,"touchmove",!0,function(t){dc(t)&&(n.Os(t,$n.TOUCHMOVE),n.Ns())}),this.st.add(this.Si,"touchcancel",!0,function(t){dc(t)&&n.Os(t,$n.TOUCHCANCEL)}),this.st.add(this.Si,"play",!0,function(t){n.Us(t)}),this.st.add(this.Si,"pause",!0,function(t){n.Ls(t)}),this.st.add(this.Si,"scroll",!0,function(t){t.bubbles?n.Ns():n.Fs(vc(t))}),this.st.add(this.Si,"resize",!1,function(){n.Hs()}),this.st.add(this.Si,"submit",!1,function(t){n.Ds(t)}),this.st.add(this.Si,"focus",!1,function(){n.Bs()}),this.st.add(this.Si,"blur",!1,function(){n.Ws()}),this.st.add(this.Si,"popstate",!1,function(){n.zs()}),this.st.add(this.Si,"selectstart",!0,function(){n.qs()}),this.st.add(this.t,"selectionchange",!0,function(){n.qs()}),this.st.add(this.Si,"visibilitychange",!1,function(t){n.addVisibilityChangeEvent()});var i=this.Si.visualViewport;i?(this.st.add(i,"scroll",!0,function(){return n.Ns()}),this.st.add(i,"resize",!0,function(){return n.Hs()})):this.st.add(this.Si,"mousewheel",!0,function(){n.Ns()}),this.$s=Yt(this.ys,"pushState",!0),this.$s&&this.$s.afterSync(function(){return n.zs()}),this.Vs=Yt(this.ys,"replaceState",!0),this.Vs&&this.Vs.afterSync(function(){return n.zs()});for(var r=function(t){var i=Yt(e.Si,t);if(!i)return"continue";e.ls.push(i),i.before(function(){n.Ut.enqueue({Kind:$n.MODAL_OPEN,Args:[t]})}).afterSync(function(){n.Ut.enqueue({Kind:$n.MODAL_CLOSE,Args:[t]})})},e=this,s=0,o=ir;s<o.length;s++)r(o[s]);if("function"==typeof this.Si.document.hasFocus&&this.Ut.enqueue({Kind:this.Si.document.hasFocus()?$n.WINDOW_FOCUS:$n.WINDOW_BLUR,Args:[]}),z.matchMedia)for(var u=function(t,i,r){var e=z.matchMedia(a.Si,r);if(!e)return"continue";var s=function(){e.matches&&n.Ut.enqueue({Kind:$n.MEDIA_QUERY_CHANGE,Args:[t,i]})};a.st.add(e,"change",!0,s),s()},a=this,c=0,h=[["any-pointer","coarse","not screen and (any-pointer: fine)"],["any-pointer","fine","only screen and (any-pointer: fine)"],["any-hover","none","not screen and (any-hover: hover)"],["any-hover","hover","only screen and (any-hover: hover)"],["pointer","none","(pointer: none)"],["pointer","coarse","(pointer: coarse)"],["pointer","fine","(pointer: fine)"],["prefers-color-scheme","no-preference","(prefers-color-scheme: no-preference)"],["prefers-color-scheme","light","(prefers-color-scheme: light)"],["prefers-color-scheme","dark","(prefers-color-scheme: dark)"]];c<h.length;c++){var f=h[c];u(f[0],f[1],f[2])}this.ds=!0},t.prototype.initResourceUploading=function(){this.Ji.init(),this.vs=!0},t.prototype.onDomLoad=function(){this.Gs(),this.Qs(!0),this.As.Ui(h)},t.prototype.onLoad=function(){var t=this,n=!1,i=ye.wrap(function(){n||(n=!0,t.Ss[nc.Perf].onLoad(),t.Xs(),t.Qs())},"error");new ks(i,0).start(),Jr().then(i)},t.prototype.ajaxWatcher=function(){return this.Ss[nc.Ajax]},t.prototype.consoleWatcher=function(){return this.Ss[nc.Console]},t.prototype.perfWatcher=function(){return this.Ss[nc.Perf]},t.prototype.bundleEvents=function(){var t=this;return this.Ut.enqueueSimultaneousEventsIn(function(n){var i,r=an(),e=t.As.processMutations(n);if(e.length>0){var s=an()-r;e.push({Kind:$n.TIMING,Args:[[Xn.Internal,Jn.Serialization,ti.ProcessMut,n,s]],When:n})}for(var o=0,u=t.Ss;o<u.length;o++){var a=u[o];null===(i=a.tick)||void 0===i||i.call(a)}return t.Qs(),e})},t.prototype.stop=function(t){var n;if(this.ds){this.ds=!1,this.st&&this.st.clear(),this.$s&&this.$s.disable(),this.Vs&&this.Vs.disable();for(var i=0,r=this.ls;i<r.length;i++)r[i].disable();this.ls=[],this.Ss[nc.Perf].onLoad(),this.rt.measurer.flush(),this.Ut.processEvents(),this.rt.taskQueue.flush(),this.Wi.flush(),this.As.stop();for(var e=0,s=this.Ss;e<s.length;e++)s[e].stop(t);null===(n=this.ks)||void 0===n||n.disconnect(),this.Ut.shutdown(t)}},t.prototype.recordingIsDetached=function(){return this.As.recordingIsDetached()},t.prototype.preVisit=function(t){var n=this,i=t.id,r=t.node,e=t.name,s=t.tag;switch(e){case"#document":case"#document-fragment":this.ps[i]=i,"#document-fragment"===e&&(this.st.add(r,"scroll",!0,function(t){return n.Fs(vc(t))}),this.st.add(r,"change",!0,function(t){t.composed||n.Ps(t,lc(t))},!0));var o=r;try{if(!o.adoptedStyleSheets||0===o.adoptedStyleSheets.length)break}catch(t){break}this.Ss[nc.StyleSheet].onSetAdoptedStyleSheets(r);break;case"INPUT":case"TEXTAREA":case"SELECT":this.Ss[nc.Input].addInput(r);break;case"LINK":case"STYLE":var u=r,a=u.sheet;if(!a)break;var c=this.Ss[nc.StyleSheet];c.ensureHook(a),!0===a.disabled&&c.onDisableSheet(a,!0),function(t){var n=t.textContent||"";if(n.length>5e5)return!1;var i=va(fa(t));return!!i&&(!!("style"===$e(t)&&i.length>0&&Ca.test(n))||function(t){var n;try{if((null===(n=t.classList)||void 0===n?void 0:n.contains("fs-css-in-js"))||t.hasAttribute("data-fela-type")||t.hasAttribute("data-aphrodite"))return!0}catch(t){ye.send(t,"error")}return!1}(t))}(u)&&(c.snapshotEl(u),"link"===s&&this.st.add(u,"load",!1,function(){c.snapshotEl(u)}));break;case"BODY":this.Qs(),this.qs();break;case"FRAME":case"IFRAME":this.os(r)}},t.prototype.visit=function(t){var n=t[0],i=t[1],r=t[2];this.Ys(n,i),this.Js(n,i,r)},t.prototype.Ys=function(t,n){var i=this,r=n.node,e=n.name,s=n.type;if(t===Ns.New&&10!==s){switch(e){case"VIDEO":case"AUDIO":r.paused||this.Ut.enqueue({Kind:$n.PLAY,Args:[hs(r)]});break;case"DIALOG":var o=r;o.open&&this.Ut.enqueue({Kind:$n.DIALOG,Args:[hs(o),!0,Ua(o)]});break;case"CANVAS":this.Ss[nc.Canvas].flush(r);break;default:e&&"#"!==e[0]&&e.indexOf("-")>-1&&this.Ss[nc.CustomElement].onCustomNodeVisited(r)}"scrollLeft"in r&&"scrollTop"in r&&this.rt.measurer.enqueue(function(){var t=r;0==t.scrollLeft&&0==t.scrollTop||i.Fs(t)})}},t.prototype.Js=function(t,n,i){var r=this,e=n.node,s=n.tag;if(1===n.type&&i&&!function(t,n){return void 0===n&&(n=as(t)),os(t,n)||us(t,n)}(e)){var o="unknown";"link"===s&&oc.test(i.rel)?o="css":uc.test(null!=s?s:"")&&(o="img");var u=function(t,n,i){for(var r,e,s=[],o=0,u=fc;o<u.length;o++){var a=u[o];i[a]&&hc[a][t]&&s.push(i[a])}if("link"===t&&i.href&&(r=i.rel)&&r.indexOf("stylesheet")>-1&&s.push(i.href),("img"===t||"source"===t)&&(e=i.srcset)&&null==e.match(/^\s*$/))for(var c=0,h=e.split(",");c<h.length;c++){var f=h[c];s.push(Xo(f.trim().split(/\s+/)[0],{source:"dom",type:"srcset"}))}var v=n;if(i.style&&v.style){var l=v.style.backgroundImage;if(l&&l.length<=300){var d=void 0;for(Oe.lastIndex=0;d=Oe.exec(l);){var p=d[1];p&&s.push(Xo(p.trim(),{source:"dom",type:"css"}))}}}return s}(s,e,i);if(0===u.length){for(var a=0,c=fc;a<c.length;a++){var h=i[c[a]];h&&u.push(h)}u.length>0&&this.rt.taskQueue.enqueue(function(){return r.Zs(u,!1,o)})}else this.rt.taskQueue.enqueue(function(){return r.Zs(u,!0,o)})}},t.prototype.Ln=function(t){var n,i=t.id,r=t.node;switch(t.name){case"#document":case"#document-fragment":delete this.ps[i];break;case"IFRAME":this.us(t.node);break;case"LINK":case"STYLE":var e=r.sheet;e&&this.Ss[nc.StyleSheet].removeHook(e);break;case"INPUT":case"TEXTAREA":case"SELECT":var s=r;this.Ss[nc.Input].removeInput(s)}if("function"==typeof r.getElementsByTagName)for(var o=null!==(n=r.getElementsByTagName("iframe"))&&void 0!==n?n:[],u=0;u<o.length;u++){var a=o[u];this.us(a)}},t.prototype.fi=function(){var t=this;this.gs||(this.gs=!0,this.rt.measurer.enqueue(function(){for(var n in t.gs=!1,t.ps){var i=cs(t.ps[n]);i&&t.Ss[nc.Animation].snapshot(i.node)}}))},t.prototype.Zs=function(t,n,i){var r;void 0===n&&(n=!1),C(window,P);for(var e=0,s=t;e<s.length;e++){var o=s[e];/^(([a-z\-_]+):|\/\/)/i.test(o)&&(this.vs&&n&&(void 0===r&&(r=Xo(No(this.Si),{source:"page",type:"base"})),this.Ji.uploadIfNeeded(this.Si,Oo(r,o),i)),this.Wi.record(o))}T(window,P)},t.prototype.Cs=function(t){var n=hs(vc(t));this.Ut.enqueue({Kind:$n.MOUSEMOVE,Args:n?[t.clientX,t.clientY,n]:[t.clientX,t.clientY]})},t.prototype.Ts=function(t){this.Ut.enqueue({Kind:$n.MOUSEDOWN,Args:[t.clientX,t.clientY]})},t.prototype.xs=function(t){this.Ut.enqueue({Kind:$n.MOUSEUP,Args:[t.clientX,t.clientY]})},t.prototype.Os=function(t,n){if(void 0!==t.changedTouches)for(var i=0;i<t.changedTouches.length;++i){var r=t.changedTouches[i];isNaN(parseInt(r.identifier,10))&&(r.identifier=0);var e=[r.identifier,r.clientX,r.clientY];this.Ut.enqueue({Kind:n,Args:e})}},t.prototype.Us=function(t){var n=hs(vc(t));n&&this.Ut.enqueue({Kind:$n.PLAY,Args:[n]})},t.prototype.Ls=function(t){var n=hs(vc(t));n&&this.Ut.enqueue({Kind:$n.PAUSE,Args:[n]})},t.prototype.Bs=function(){this.Ut.enqueue({Kind:$n.WINDOW_FOCUS,Args:[]})},t.prototype.Ws=function(){this.Ut.enqueue({Kind:$n.WINDOW_BLUR,Args:[]})},t.prototype.Qs=function(t){var n=this;void 0===t&&(t=!1),this.rt.measurer.enqueue(function(){return n.no(t)})},t.prototype.no=function(t){void 0===t&&(t=!1);var n,i=(n=this.Si.document).scrollingElement||n.body||n.documentElement,r=hs(i);if(r){var e=function(t,n){var i,r=t.documentElement.getBoundingClientRect(),e=null!==(i=t.body)&&void 0!==i?i:{scrollHeight:0,scrollWidth:0};return{width:Math.max(r.width,n.scrollWidth,e.scrollWidth),height:Math.max(r.height,n.scrollHeight,e.scrollHeight)}}(this.Si.document,i);Re(e,this.io)||(this.io=e,this.Ut.enqueue({Kind:$n.RESIZE_DOCUMENT_CONTENT,Args:[e.width,e.height]}));var s,o,u,a,c=We(this.Si,t?void 0:this.ro),h=function(t,n){var i=t.visualViewport;if(i)return i;var r=n;return void 0===r&&(r=We(t)),new ze(t,r)}(this.Si,c);if(c.hasKnownPosition?(xe(c,this.ro)||this.Ut.enqueue({Kind:$n.SCROLL_LAYOUT,Args:[r,c.pageLeft,c.pageTop]}),s=h,(o=this.eo)&&s.offsetLeft==o.offsetLeft&&s.offsetTop==o.offsetTop||this.Ut.enqueue({Kind:$n.SCROLL_VISUAL_OFFSET,Args:[r,h.offsetLeft,h.offsetTop]})):xe(h,this.eo)||this.Ut.enqueue({Kind:$n.SCROLL_LAYOUT,Args:[r,h.pageLeft,h.pageTop]}),!function(t,n){return n&&t.width==n.width&&t.height==n.height&&t.clientWidth==n.clientWidth&&t.clientHeight==n.clientHeight}(c,this.ro)){var f=[c.clientWidth,c.clientHeight];c.width===c.clientWidth&&c.height===c.clientHeight||f.push(c.width,c.height),this.Ut.enqueue({Kind:$n.RESIZE_LAYOUT,Args:f})}Re(h,this.eo)||this.Ut.enqueue({Kind:$n.RESIZE_VISUAL,Args:[h.width,h.height]}),this.ro=((a=Ke(u=c)).clientWidth=u.clientWidth,a.clientHeight=u.clientHeight,a),this.eo=function(t){var n=Ke(t);return n.offsetLeft=t.offsetLeft,n.offsetTop=t.offsetTop,n}(h)}},t.prototype.so=function(t,n){var i=this;t in this.hs||(this.hs[t]=n,new ks(function(){i.rt.measurer.enqueue(function(){if(t in i.hs){var n=i.hs[t];delete i.hs[t],n()}})},tr.ScrollSampleInterval).start())},t.prototype.Ns=function(){var t=this;this.so(rc.Scroll,function(){return t.no(!1)})},t.prototype.Hs=function(){var t=this;this.so(rc.Resize,function(){return t.no(!0)})},t.prototype.Fs=function(t){var n=this,i=hs(t);i&&this.so(i,function(){if(hs(t)===i){var r=t;i&&"number"==typeof r.scrollLeft&&(n.Ut.enqueue({Kind:$n.RESIZE_SCROLLABLE_ELEMENT_CONTENT,Args:[i,r.scrollWidth,r.scrollHeight]}),n.Ut.enqueue({Kind:$n.SCROLL_LAYOUT,Args:[i,r.scrollLeft,r.scrollTop]}),Yr().then(function(){n.As.resizer().isObserved(i)||n.As.resizer().observe(t)}))}})},t.prototype.Gs=function(){this.Ut.enqueue({Kind:$n.DOMLOADED,Args:[]})},t.prototype.Xs=function(){this.Ut.enqueue({Kind:$n.LOAD,Args:[]})},t.prototype.getNavigateEvent=function(t,n){void 0===n&&(n=$n.NAVIGATE);var i={Kind:n,Args:[Xo(t,{source:"event",type:$n.NAVIGATE})]};return n===$n.ENTRY_NAVIGATE?(i.Args.push(this.oo()),i):i},t.prototype.zs=function(){var t=this.ws.href;this.bs!=t&&(this.bs=t,this.ss.onNavigate(t),this.Ut.enqueue(this.getNavigateEvent(t)))},t.prototype.oo=function(){try{var t=this.Si.performance;if(!t||!t.navigation)return"unknown";switch(t.navigation.type){case PerformanceNavigation.TYPE_NAVIGATE:return"navigate";case PerformanceNavigation.TYPE_RELOAD:return"reload";case PerformanceNavigation.TYPE_BACK_FORWARD:return"back_forward";default:return"unknown"}}catch(t){return"unknown"}},t.prototype.Rs=function(t){var n=vc(t),i=hs(n);if(i){var r=0,e=0,s=0,o=0;if(n&&n.getBoundingClientRect){var u=n.getBoundingClientRect();r=u.left,e=u.top,s=u.width,o=u.height}var a=as(n);this.ss.onClick(a),this.Ut.enqueue({Kind:$n.CLICK,Args:[i,t.clientX,t.clientY,r,e,s,o]})}},t.prototype.Ks=function(t){var n=hs(vc(t));n&&this.Ut.enqueue({Kind:$n.DBL_CLICK,Args:[n]})},t.prototype.Ds=function(t){var n=hs(vc(t));n&&this.Ut.enqueue({Kind:$n.FORM_SUBMIT,Args:[n]})},t.prototype.Ms=function(t,n){var i=hs(vc(t));i&&this.Ut.enqueue({Kind:$n.FOCUS,Args:[i,n]})},t.prototype.js=function(t,n){var i=hs(vc(t));i&&this.Ut.enqueue({Kind:$n.BLUR,Args:[i,n]})},t.prototype.Ps=function(t,n){this.Ss[nc.Input].onChange(vc(t),n)},t.prototype.qs=function(){var t=this;this.rt.measurer.enqueue(function(){var n;try{n=t.selectionArgs()}catch(t){return}for(var i=!1,r=0;r<4;r++)if(t.cs[r]!==n[r]){i=!0;break}i&&(t.cs=n,t.Ut.enqueue({Kind:$n.SELECT,Args:n}))})},t.prototype.selectionArgs=function(){if(!this.Si.getSelection)return[];var t=this.Si.getSelection();if(!t)return[];if("None"==t.type)return[];if("Caret"==t.type){var n=hs(t.anchorNode);return n?[n,t.anchorOffset]:[]}if(!t.anchorNode||!t.focusNode)return[];var i=cc(t.anchorNode,t.anchorOffset),r=i[0],e=i[1],s=cc(t.focusNode,t.focusOffset),o=s[0],u=s[1],a=Boolean(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING),c=a?[r,o]:[o,r],h=c[0],f=c[1],v=a?[e,u]:[u,e],l=v[0],d=v[1];for(hs(h)||(l=0);h&&!hs(h)&&h!=f;)h=It(h)||Et(h);for(hs(f)||(d=0);f&&!hs(f)&&f!=h;)f=Ct(f)||Et(f);if(h==f&&l==d)return[];var p=hs(h),g=hs(f);return h&&f&&p&&g?[p,l,g,d,a]:[]},t.prototype.Is=function(){this.Ut.enqueue({Kind:$n.COPY,Args:[]})},t.prototype.Es=function(){this.Ut.enqueue({Kind:$n.PASTE,Args:[]})},t.prototype.addVisibilityChangeEvent=function(){this.Ut.enqueue({Kind:$n.VISIBILITY_STATE,Args:[document.visibilityState]}),"hidden"===document.visibilityState&&this.Ut.singSwanSong(di.Hidden)},t}();function cc(t,n){var i=t,r=St(i);if(!r)return[i,n];i=r;for(var e=0;e<n-1;e++){var s=It(i);if(!s)return[i,0];i=s}return[i,0]}var hc={src:{img:!0,embed:!0},href:{use:!0,image:!0},data:{object:!0}},fc=z.objectKeys(hc);function vc(t){if(t.composed&&t.target){var n=t.target;if(1==n.nodeType&&n.shadowRoot){var i=t.composedPath();if(i.length>0)return i[0]}}return t.target}function lc(t){var n;return!!(null!==(n=t._fs_trust_event)&&void 0!==n&&n||t.isTrusted)}function dc(t){var n=vc(t);return!!hs(n)&&!os(n)}var pc,gc,wc=function(){function t(t,n){this.ie=t,this.uo=n,this.ao=[],this.co=0}return t.prototype.add=function(t){this.ao.length>0&&this.ao[this.ao.length-1].When===t.When&&this.ao.pop(),0===this.ao.length?(this.ie.push(t),this.co=t.When):t.When>this.co&&(this.co=t.When),this.ao.push(t)},t.prototype.finish=function(t,n){void 0===n&&(n=[]);var i=this.ao.length;if(i<=1)return!1;for(var r=[],e=this.ao[0].When,o=this.ao[i-1].When,u=o-e!=0?o-e:1,a=0;a<this.uo.length;++a){var c=this.uo[a],h=this.ao[0].Args[c],f=(this.ao[1].When-e)/u,v=(this.ao[1].Args[c]-h)/f,l=this.ao[i-2].Args[c],d=(o-this.ao[i-2].When)/u,p=this.ao[i-1].Args[c],g=(p-l)/d;r.push(h,p,v,g)}return this.ao[0].Kind=t,this.ao[0].Args=s(s([this.co],n),r),!0},t.prototype.evts=function(){return this.ao},t}();(gc=pc||(pc={}))[gc.rageWindowMillis=2e3]="rageWindowMillis",gc[gc.defaultRageThreshold=5]="defaultRageThreshold",gc[gc.rageThresholdIfPageChanges=8]="rageThresholdIfPageChanges",gc[gc.thresholdChangeQuiescenceMillis=2e3]="thresholdChangeQuiescenceMillis";var mc=function(){function t(t,n){var i,r;void 0===n&&(n=cn),this.rt=t,this.ho=n,this.fo=new Bs,this.vo=pc.defaultRageThreshold,this.lo=-1,this["do"]=new WeakMap;var e=t.recording.pageResponse();if(!e)throw new Error("Attempt to construct EasyBake before rec/page response is set.");for(var s=[".fs-ignore-rage-clicks",".fs-ignore-rage-clicks *"],o=0,u=null!==(r=null===(i=e.BehaviorSignalSettings)||void 0===i?void 0:i.ElementBlocks)&&void 0!==r?r:[];o<u.length;o++){var a=u[o];a.Signals.indexOf(Bi.SignalRageClick)>-1&&(s.push(a.Selector),s.push(a.Selector+" *"))}var c=s.join(", ");uo(c)?this.po=[c]:this.po=s}return t.prototype.wo=function(t){var n=this["do"].get(t);if(void 0!==n)return n;for(var i=0,r=this.po;i<r.length;i++){var e=r[i];if(z.elMatches(t,e))return this["do"].set(t,!0),!0}return this["do"].set(t,!1),!1},t.prototype.onEvent=function(t){var n;if(function(t){switch(t){case $n.VALUECHANGE:case $n.SCROLL_LAYOUT:case $n.SCROLL_LAYOUT_CURVE:case $n.SCROLL_VISUAL_OFFSET:case $n.SCROLL_VISUAL_OFFSET_CURVE:case $n.MUT_INSERT:case $n.MUT_REMOVE:case $n.MUT_ATTR:case $n.MUT_SHADOW:case $n.MUT_TEXT:case $n.NAVIGATE:case $n.LOAD:case $n.FOCUS:case $n.BLUR:case $n.SELECT:case $n.FORM_SUBMIT:case $n.PLAY:case $n.PAUSE:case $n.MODAL_OPEN:case $n.MODAL_CLOSE:return!0}return!1}(t.Kind)&&this.vo!==pc.rageThresholdIfPageChanges)return this.vo=pc.rageThresholdIfPageChanges,void(this.lo=this.ho());if(t.Kind===$n.CLICK){var i=this.ho(),r=null===(n=cs(t.Args[0]))||void 0===n?void 0:n.node;if(r){var e=1===r.nodeType?r:Et(r);if(e&&!this.wo(e)){var s=$e(r);if(!s||"textarea"!==s&&"select"!==s&&("input"!==s||"submit"===r.type)){this.fo.push(i);for(var o=i-pc.rageWindowMillis;;){var u=this.fo.first();if(!(void 0!==u&&u<o))break;this.fo.shift()}if(this.lo<i-pc.thresholdChangeQuiescenceMillis&&(this.vo=pc.defaultRageThreshold),this.fo.size()>=this.vo){var a=this.rt.recording.getCurrentSessionURL;!function(t,n){var i,r="fullstory/rageclick";try{i=new CustomEvent(r,{detail:n,bubbles:!0,cancelable:!0})}catch(t){(i=document.createEvent("customevent")).initCustomEvent(r,!0,!0,n)}z.setWindowTimeout(window,ye.wrap(function(){t.dispatchEvent(i)}),0)}(r,{eventStartTimeStamp:this.fo.first(),eventEndTimeStamp:i,eventReplayUrlAtStart:a(),eventReplayUrlAtCurrentTime:a(!0)}),this.vo=pc.defaultRageThreshold,this.fo=new Bs}}}}}},t}(),yc=function(){function t(t){this.rt=t,this.mo=this.rt.time.wallTime(),this.yo=!1}return t.prototype.getLastUserActivityTS=function(){return this.mo},t.prototype.getMsSinceLastUserActivity=function(){return z.mathFloor(this.rt.time.wallTime()-this.mo)},t.prototype.resetUserActivity=function(){this.mo=this.rt.time.wallTime()},t.prototype.isHibernating=function(){return this.yo},t.prototype.setHibernating=function(){this.yo=!0},t}(),bc=function(){function t(t,n,i,r){void 0===r&&(r=ks),this.rt=t,this.bo=n,this.Ut=i,this.So=!1,this.ko=!1,this.Ao=new r(this._o.bind(this),tr.HeartbeatInterval),this.Io=new r(this.Eo.bind(this),tr.PageInactivityTimeout)}return t.prototype.getUserActivityModel=function(){return this.bo},t.prototype.manualHibernateCheck=function(){this.bo.isHibernating()||this.bo.getMsSinceLastUserActivity()>=tr.PageInactivityTimeout+5e3&&this.Eo()},t.prototype.scanEvents=function(t){if(!this.So){this.manualHibernateCheck();for(var n=!1,i=0,r=t;i<r.length;i++)if(rr(r[i].Kind)){n=!0;break}n&&(this.bo.isHibernating()?this.Co():this.To())}},t.prototype.shutdown=function(){this.Ao.stop(),this.Io.stop()},t.prototype.To=function(){this.bo.resetUserActivity(),this.Ao.start(),this.Io.start()},t.prototype.start=function(){this.To()},t.prototype._o=function(){var t=this.bo.getMsSinceLastUserActivity();t<=tr.PageInactivityTimeout&&this.Ut.enqueue({Kind:$n.HEARTBEAT,Args:[t]}),this.Ao.start()},t.prototype.Eo=function(){if(!this.bo.isHibernating()){var t=!1;this.bo.getMsSinceLastUserActivity()<=2*tr.PageInactivityTimeout?this.Ut.enqueue({Kind:$n.UNLOAD,Args:[di.Hibernation]}):t=!0;try{this.So=!0,this.bo.setHibernating(),this.shutdown(),this.Ut.onHibernate(t)}finally{this.So=!1}}},t.prototype.Co=function(){this.ko||(this.ko=!0,this.rt.recording.splitPage(di.Hibernation))},t}(),Sc=function(){function t(t,n,i,r,e,s){void 0===r&&(r=function(){return[]}),void 0===e&&(e=Ss),void 0===s&&(s=ks),this.rt=t,this.xo=n,this.Ro=r,this.Ko=e,this.Mo=0,this.jo=[],this.Po=!1,this.Oo=!1,this.No=0,this.Uo=-1,this.Lo=!1,this.mn=[],this.Fo=new this.Ko(tr.CurveSamplingInterval),this.Ho=new this.Ko(tr.MutationProcessingInterval),i&&(this.Do=new bc(this.rt,i,this,s))}return t.prototype.startPipeline=function(t){var n;return r(this,void 0,Vr,function(){var i,r=this;return e(this,function(e){switch(e.label){case 0:return this.Oo||this.Po?[2]:(this.Po=!0,t.frameId&&(this.Mo=t.frameId),t.parentIds&&(this.jo=t.parentIds),i=!0,[4,Yr()]);case 1:return e.sent(),this.processEvents(),[4,Yr()];case 2:return e.sent(),C(window,B),this.Ho.start(function(){C(window,M),r.processEvents(),T(window,M)}),this.Fo.start(function(){C(window,K),r.processEvents(i),T(window,K)}),null===(n=this.Do)||void 0===n||n.start(),this.xo.startPipeline(t),T(window,B),[2]}})})},t.prototype.enableEasyBake=function(){this.Bo=new mc(this.rt)},t.prototype.enqueueSimultaneousEventsIn=function(t){if(0===this.No){var n=this.rt.time.now();this.Uo=n>this.Uo?n:this.Uo}try{return this.No++,t(this.Uo)}finally{this.No--,this.No<0&&(this.No=0)}},t.prototype.enqueue=function(t){var n=this.No>0?this.Uo:this.rt.time.now();this.Wo(n,t),bs.checkForBrokenSchedulers()},t.prototype.Wo=function(t,n){var i;if(!this.Oo){var r=t;r<this.Uo&&(r=this.Uo),this.Uo=r;var e=n;e.When=r,this.mn.push(e);try{null===(i=this.Bo)||void 0===i||i.onEvent(e)}catch(t){ye.send(t,"error")}}},t.prototype.enqueueFirst=function(t){if(this.mn.length>0){var n=t;n.When=this.mn[0].When,this.mn.unshift(n)}else this.enqueue(t)},t.prototype.addUnload=function(t){this.Lo||(this.Lo=!0,this.enqueue({Kind:$n.UNLOAD,Args:[t]}),this.singSwanSong(t))},t.prototype.shutdown=function(t){this.addUnload(t),this.zo(),this.Oo=!0,this.qo()},t.prototype.zo=function(){this.processEvents(),this.xo.flush()},t.prototype.singSwanSong=function(t){this.Oo||(C(window,j),this.zo(),t===di.Hidden&&this.Lo||this.xo.singSwanSong(),T(window,j))},t.prototype.rebaseIframe=function(t,n){for(var i=Math.max(0,n),r=this.rt.time.startTime(),e=function(n){var e=r+n-t;return e>=i?e:i},s=0,o=this.mn;s<o.length;s++){var u=o[s];u.When=e(u.When)}-1===this.Uo?this.Uo=i:this.Uo=e(this.Uo)},t.prototype.processEvents=function(t){if(this.Po){var n=this.mn;this.mn=[];var i=function(t){if(0==t.length)return t;for(var n,i=[],r=new wc(i,[0,1]),e={},s={},o={},u=0,a=t;u<a.length;u++){var c=a[u];switch(c.Kind){case $n.MOUSEMOVE:r.add(c);break;case $n.TOUCHMOVE:(v=c.Args[0])in e||(e[v]=new wc(i,[1,2])),e[v].add(c);break;case $n.SCROLL_LAYOUT:(v=c.Args[0])in s||(s[v]=new wc(i,[1,2])),s[v].add(c);break;case $n.SCROLL_VISUAL_OFFSET:(v=c.Args[0])in o||(o[v]=new wc(i,[1,2])),o[v].add(c);break;case $n.RESIZE_VISUAL:n||(n=new wc(i,[0,1])),n.add(c);break;default:i.push(c)}}if(r.finish($n.MOUSEMOVE_CURVE)){var h=r.evts();if(h.length>0){var f=h[h.length-1].Args[2];f&&(h[0].Args[9]=f)}}for(var v in s)s[l=parseInt(v,10)].finish($n.SCROLL_LAYOUT_CURVE,[l]);for(var v in o)o[l=parseInt(v,10)].finish($n.SCROLL_VISUAL_OFFSET_CURVE,[l]);for(var v in e){var l;e[l=parseInt(v,10)].finish($n.TOUCHMOVE_CURVE,[l])}return n&&n.finish($n.RESIZE_VISUAL_CURVE),i}(n);t||(i=i.concat(this.Ro())),this.$o(i),this.sendEvents(this.rt.recording.pageSignature(),i)}},t.prototype.sendEvents=function(t,n){var i;0!=n.length&&(null===(i=this.Do)||void 0===i||i.scanEvents(n),this.xo.enqueueEvents(t,n))},t.prototype.onHibernate=function(t){t||this.zo(),this.xo.singSwanSong(),this.xo.stopPipeline()},t.prototype.$o=function(t){if(this.Mo)for(var n=this.jo,i=n&&n.length>0,r=0;r<t.length;++r){var e=t[r];e.FId||(e.FId=this.Mo),i&&!e.PIds&&(e.PIds=n)}},t.prototype.qo=function(){var t;this.Po&&(this.Fo.stop(),this.Ho.stop(),this.mn=[],null===(t=this.Do)||void 0===t||t.shutdown(),this.xo.stopPipeline())},t.prototype.manualHibernateCheck=function(){var t;null===(t=this.Do)||void 0===t||t.manualHibernateCheck()},t}(),kc=function(){function t(t){void 0===t&&(t=4),this.hashCount=t,this.idx=0,this.hashMask=t-1,this.reset()}return t.prototype.reset=function(){this.idx=0,this.hash=[];for(var t=0;t<this.hashCount;++t)this.hash.push(2166136261)},t.prototype.write=function(t){for(var n=this.hashMask,i=this.idx,r=0;r<t.length;r++)this.hash[i]=this.hash[i]^t[r],this.hash[i]+=(this.hash[i]<<1)+(this.hash[i]<<4)+(this.hash[i]<<7)+(this.hash[i]<<8)+(this.hash[i]<<24),i=i+1&n;this.idx=i},t.prototype.writeAscii=function(t){for(var n=this.hashMask,i=this.idx,r=0;r<t.length;r++)this.hash[i]=this.hash[i]^t.charCodeAt(r),this.hash[i]+=(this.hash[i]<<1)+(this.hash[i]<<4)+(this.hash[i]<<7)+(this.hash[i]<<8)+(this.hash[i]<<24),i=i+1&n;this.idx=i},t.prototype.sum=function(){var t;return t=this.sumAsHex().replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ").map(Number),Ic(String.fromCharCode.apply(window,t))},t.prototype.sumAsHex=function(){for(var t="",n=0;n<this.hashCount;++n)t+=("00000000"+(this.hash[n]>>>0).toString(16)).slice(-8);return t},t}();function Ac(t){var n=new kc(1);return n.writeAscii(t),n.sumAsHex()}function _c(t){var n=new Uint8Array(t);return Ic(String.fromCharCode.apply(null,n))}function Ic(t){var n;return(null!==(n=window.btoa)&&void 0!==n?n:Ec)(t).replace(/\+/g,"-").replace(/\//g,"_")}function Ec(t){for(var n=String(t),i=[],r=0,e=0,s=0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.charAt(0|s)||(o="=",s%1);i.push(o.charAt(63&r>>8-s%1*8))){if((e=n.charCodeAt(s+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|e}return i.join("")}function Cc(t,n,i,s){return void 0===s&&(s=new kc),r(this,void 0,Vr,function(){var r,o,u,a;return e(this,function(e){switch(e.label){case 0:r=t.now(),o=i.byteLength,u=0,e.label=1;case 1:return u<o?t.now()-r>25?[4,n(100)]:[3,3]:[3,5];case 2:e.sent(),r=t.now(),e.label=3;case 3:a=new Uint8Array(i,u,Math.min(o-u,1e4)),s.write(a),e.label=4;case 4:return u+=1e4,[3,1];case 5:return[2,{hash:s.sum(),hasher:s}]}})})}var Tc=6e6,xc="resource-uploader",Rc=function(){function t(t,n,i,r,e){void 0===r&&(r=window.FormData),void 0===e&&(e=ks),this.rt=t,this.Ut=n,this.Vo=i,this.Go=r,this.Qo=e,this.Ae={},this.Xo={},this.Yo=!1,this.Jo=[]}return t.prototype.init=function(){this.Go&&this.Zo()["catch"](function(t){ye.send(t,"error")})},t.prototype.Zo=function(){return r(this,void 0,Vr,function(){var t,n,i,r,s,o,u,a,c,h,f,v,l,d,p,g,w,m,y,b,S,k,_,I;return e(this,function(e){switch(e.label){case 0:t=this.rt.options.orgId,e.label=1;case 1:return[4,this.tu()];case 2:for(n=e.sent(),i={fsnv:{},sha1:{}},r={},s=0,o=n;s<o.length;s++)m=o[s],i[m.hashAlgorithm][m.hash]=!0,(v=r[m.hash])?v.push(m):r[m.hash]=[m];u={fsnv:Object.keys(i.fsnv),sha1:Object.keys(i.sha1)},a=void 0,e.label=3;case 3:return e.trys.push([3,5,,6]),[4,this.Vo.queryResources({OrgId:t,HashesByAlgorithm:u})];case 4:return a=e.sent(),[3,6];case 5:return A("/rec/queryResources failed with status "+e.sent()),[3,1];case 6:c=0,h=a,e.label=7;case 7:if(!(c<h.length))return[3,18];if(f=h[c],!(null==(v=r[f.QueryHash])?void 0:v.length))return _e(xc,"No resource found for hash"),[3,17];if(!f.Found||!f.CanonicalHash)return[3,8];for(l=0,d=v;l<d.length;l++)(m=d[l]).blob=m.stringData=null,"fsnv"===(p=f.CanonicalHash.Algorithm)?this.Ut.enqueue({Kind:$n.SYS_RESOURCEHASH,Args:["url",m.url,f.CanonicalHash.Hash]}):_e(xc,"Unrecognized canonical hash type",{hashAlgorithm:p});return[3,17];case 8:g=0,w=v,e.label=9;case 9:if(!(g<w.length))return[3,17];if(m=w[g],y=m.url,b=m.contentType,(S={}).orgId=t,S.baseUrl=y,"fsnv"===f.QueryAlgorithm)S.fsnvHash=f.QueryHash;else{if("sha1"!==f.QueryAlgorithm)return _e(xc,"Unrecognized hash type from resource query",{hashAlgorithm:f.QueryAlgorithm}),[3,16];S.sha1Hash=f.QueryHash}return m.blob?[4,Mc(m.blob)]:[3,11];case 10:return(k=e.sent())?(S.contents={data:k,contentType:b,filename:"blob"},[3,12]):[3,17];case 11:m.stringData&&(S.contents={data:m.stringData,contentType:b,filename:"blob"}),e.label=12;case 12:if(!S.contents)return _e(xc,"Missing resource contents"),[3,16];m.blob=m.stringData=null,e.label=13;case 13:return e.trys.push([13,15,,16]),[4,this.Vo.uploadResource({type:"FormData",data:S})];case 14:return _=e.sent(),"fsnv"!=(I=JSON.parse(_)).Algorithm&&_e(xc,"Unexpected hash type from resource upload",{hashAlgorithm:I.Algorithm}),this.Ut.enqueue({Kind:$n.SYS_RESOURCEHASH,Args:["url",y,I.Hash]}),[3,16];case 15:return e.sent(),A("Server error uploading resource"),[3,16];case 16:return g++,[3,9];case 17:return c++,[3,7];case 18:return[3,1];case 19:return[2]}})})},t.prototype.tu=function(){var t=this,n=Gr(),i=n.resolve,r=n.promise,e=function(){t.nu=null,t.Yo=!1;var n=t.Jo;t.Jo=[],i(n)};return this.Yo?e():this.nu=e,r},t.prototype.uploadIfNeeded=function(t,n,i){return void 0===i&&(i="unknown"),r(this,void 0,Vr,function(){var r,s,o;return e(this,function(e){switch(e.label){case 0:return this.Go?(r=n.href,this.Ae[r]?[2]:(s="css"===i&&function(t){return!!Rn(t,"_fs_force_local_resources","boolean")}(this.rt.window),s||function(t,n){switch(n.protocol){case"blob:":return!0;case"http:":case"https:":switch(n.hostname){case"localhost":case"127.0.0.1":case"[::1]":return t.location.protocol===n.protocol&&t.location.host===n.host;case"::1":var i=n.port?"[::1]:"+n.port:"[::1]";return t.location.protocol===n.protocol&&t.location.host===i;default:return!1}default:return!1}}(t,n)?(this.Ae[r]=!0,[4,this.iu(r)]):[2])):[2];case 1:return(o=e.sent())?(this.ru(o),[2]):[2]}})})},t.prototype.ru=function(t){var n=this,i=0==this.Jo.length;this.Jo.push(t),i&&new this.Qo(function(){n.Yo=!0,n.nu&&n.nu()},50).start()},t.prototype.iu=function(t){return r(this,void 0,Vr,function(){var n,i,r,s,o;return e(this,function(e){switch(e.label){case 0:return this.Xo[t]?[2,this.Xo[t]]:[4,Kc(t)];case 1:return(n=e.sent())?[4,jc(this.rt,n.buffer)]:[2,null];case 2:return i=e.sent(),r=i.hash,s=i.algorithm,o={hash:r,hashAlgorithm:s,url:t,blob:n.blob,contentType:n.contentType},this.Xo[o.url]=o,[2,o]}})})},t.prototype.uploadDataUrlIfNeeded=function(t,n){return void 0===n&&(n=function(){return!0}),r(this,void 0,Vr,function(){var i,r,s,o,u;return e(this,function(e){switch(e.label){case 0:return i=function(t){var n,i=t.indexOf(",");if(-1!==i)try{var r=t.substring(0,i).match(Pc),e=void 0,s=void 0;r&&(e=r[1],s=null===(n=r[2])||void 0===n?void 0:n.substring(1));for(var o=atob(t.substring(i+1)),u=new ArrayBuffer(o.length),a=new Uint8Array(u),c=0;c<o.length;++c)a[c]=o.charCodeAt(c);return{blob:new Blob([u],{type:e}),buffer:u,contentType:e,charset:s}}catch(n){return void ye.send(Oc,"warning",{input:t.substring(0,100),err:n})}else ye.send(Oc,"warning",{input:t.substring(0,100)})}(t),i?[4,jc(this.rt,i.buffer)]:[2,void 0];case 1:return r=e.sent(),s=r.hash,o=r.algorithm,u={hash:s,hashAlgorithm:o,url:"https://data-url.fs.invalid/"+o+"/"+s,blob:i.blob,contentType:i.blob.type||"application/octet-stream"},n(u)?(this.Xo[u.url]=u,this.ru(u),[2,u]):[2,u]}})})},t}();function Kc(t){var n=Gr(),i=n.resolve,r=n.promise,e=new XMLHttpRequest;return"string"!=typeof e.responseType?(i(null),r):(e.open("GET",t,!0),e.responseType="blob",e.onerror=function(){i(null)},e.onload=function(){if(200!=e.status&&0!==e.status)return A("Error loading blob resource "+Xo(t,{source:"log",type:"debug"})),void i(null);var n=e.response;if((n.size||n.length)>Tc){var r=Xo(t,{source:"log",type:"fsbugs"});return ye.send("Size of blob resource exceeds limit","warning",{url:r,MaxResourceSizeBytes:Tc}),void i(null)}Mc(n).then(function(t){i(t?{buffer:t,blob:n,contentType:n.type}:null)})},e.send(),r)}function Mc(t){var n=Gr(),i=n.resolve,r=n.promise,e=new FileReader;return e.readAsArrayBuffer(t),e.onload=function(){i(e.result)},e.onerror=function(t){ye.send(t,"error"),i(null)},r}function jc(t,n){var i,s;return r(this,void 0,Vr,function(){var r;return e(this,function(e){switch(e.label){case 0:return r=t.window,(null===(s=null===(i=r.crypto)||void 0===i?void 0:i.subtle)||void 0===s?void 0:s.digest)?[4,r.crypto.subtle.digest({name:"sha-1"},n)]:[3,2];case 1:return[2,{hash:_c(e.sent()),algorithm:"sha1"}];case 2:return[4,Cc(t.time,Qr,n)];case 3:return[2,{hash:e.sent().hash,algorithm:"fsnv"}]}})})}var Pc=/^data:([^;,]*)(;?charset=[^;]+)?(?:;base64)?$/i,Oc="Could not parse data url",Nc=function(){function t(t,n,i){void 0===i&&(i=new Uc),this.rt=t,this.ie=n,this.eu=i}return t.prototype.initialize=function(t){var n;if(t){this.su(t);var i=null===(n=this.rt.window.location)||void 0===n?void 0:n.href;this.onNavigate(i)}},t.prototype.onNavigate=function(t){return!!this.eu.matches(t)&&(this.ie.enqueue({Kind:$n.KEEP_URL,Args:[Xo(t,{source:"page",type:"base"})]}),!0)},t.prototype.onClick=function(t){var n;return!!(null===(n=null==t?void 0:t.watchKind)||void 0===n?void 0:n.has(Ve.Keep))&&(this.ie.enqueue({Kind:$n.KEEP_ELEMENT,Args:[t.id]}),!0)},t.prototype.urlMatches=function(t){return this.eu.matches(t)},t.prototype.su=function(t){this.eu.setRules(t)},t}(),Uc=function(){function t(){this.ou=null}return t.prototype.setRules=function(t){var n=t.map(function(t){return t.Regex}).filter(Lc);n.length>0&&(this.ou=function(t){try{return new RegExp("("+t.join(")|(")+")","i")}catch(n){return ye.send("Browser rejected joining UrlKeep.Regexs","error",{exprs:t,error:n.toString()}),null}}(n))},t.prototype.matches=function(t){return!!this.ou&&this.ou.test(t)},t}();function Lc(t){try{return new RegExp(t),!0}catch(n){return ye.send("Browser rejected UrlKeep.Regex","error",{expr:t,error:n.toString()}),!1}}hr.RequestFrameId,hr.EvtBundle;var Fc=function(t){var n=(void 0===t?{}:t).wnd,i=void 0===n?window:n;!function(t,n,i,r,e,s,o,u){var a,c;function h(t){var n,i=[];function r(){n&&(i.forEach(function(t){var i;try{i=t[n[0]]&&t[n[0]](n[1])}catch(n){return void(t[3]&&t[3](n))}i&&i.then?i.then(t[2],t[3]):t[2]&&t[2](i)}),i.length=0)}function e(t){return function(i){n||(n=[t,i],r())}}return t(e(0),e(1)),{then:function(t,n){return h(function(e,s){i.push([t,n,e,s]),r()})}}}i in t&&(t.console&&t.console.log&&t.console.log("FullStory namespace conflict. Please set window[\"_fs_namespace\"]."),1)||(o=t[i]=function(){var t=function(t,i,r,e){function s(s,o){n(t,i,r,s,o,e)}e=e||2;var o,u=/Async$/;return u.test(t)?(t=t.replace(u,""),"function"==typeof Promise?new Promise(s):h(s)):n(t,i,r,o,o,e)};function n(n,i,r,e,s,o){return t._api?t._api(n,i,r,e,s,o):(t.q&&t.q.push([n,i,r,e,s,o]),null)}return t.q=[],t}(),function(){function t(){}function n(t,n,i){o(t,n,i,1)}function i(t,i,r){n("setProperties",{type:t,properties:i},r)}function r(t,n){i("user",t,n)}function e(t,n,i){r({uid:t},i),n&&r(n,i)}o.identify=e,o.setUserVars=r,o.identifyAccount=t,o.clearUserCookie=t,o.setVars=i,o.event=function(t,i,r){n("trackEvent",{name:t,properties:i},r)},o.anonymize=function(){e(!1)},o.shutdown=function(){n("shutdown")},o.restart=function(){n("restart")},o.log=function(t,i){n("log",{level:t,msg:i})},o.consent=function(t){n("setIdentity",{consent:!arguments.length||t})}}(),a="fetch",c="XMLHttpRequest",o._w={},o._w[c]=t[c],o._w[a]=t[a],t[a]&&(t[a]=function(){return o._w[a].apply(this,arguments)}),o._v="2.0.0")}(i,i.document,i._fs_namespace,0,i._fs_script)};function Hc(t,n){if(t&&t.postMessage)try{t.postMessage(function(t){var n;return qt(((n={}).__fs=t,n))}(n),"*")}catch(t){_e("postMessage",t)}}function Dc(t){try{var n=Gt(t);if("__fs"in n)return n.__fs}catch(t){}return[hr.Unknown]}function Bc(t,n,i,r){var e=Ln(t);if(!e)return!1;try{e.send(n,i,r)}catch(t){e.send(n,i)}return!0}var Wc=new RegExp(/^\s+$/),zc=/^fb\d{18}$/,qc=function(t){var n=t.frame,i=t.orgId,r=t.scheme,e=t.script,s=t.recHost,o=t.cdnHost,u=t.appHost,a=t.namespace,c=t.desc,h=t.snippetVersion;A("Injecting into Frame "+c);try{if(function(t){return t.id==t.name&&zc.test(t.id)}(n))return A("Blocklisted iframe: "+c),ii.BlocklistedFrame;if(function(t){return!(t.contentDocument&&t.contentWindow&&t.contentWindow.location)||function(t){return!!t.src&&"about:blank"!=t.src&&t.src.indexOf("javascript:")<0}(t)&&t.src!=t.contentWindow.location.href&&"loading"==t.contentDocument.readyState}(n))return A("Frame not yet loaded: "+c),ii.PartiallyLoaded;var f=n.contentWindow,v=n.contentDocument;if(!f||!v)return A("Missing contentWindow or contentDocument: "+c),ii.MissingWindowOrDocument;if(!v.head)return A("Missing contentDocument.head: "+c),ii.MissingDocumentHead;if(!v.body||!_t(v.body))return ii.MissingBodyOrChildren;for(var l=!1,d=St(v.body);d;d=It(d)){switch(d.nodeType){case 1:if("SCRIPT"===d.tagName)continue;break;case 3:var p=d.textContent;if(null===p||Wc.test(p))continue;break;case Node.COMMENT_NODE:continue}l=!0;break}if(!l)return ii.NoNonScriptElement;if(An(f))return A("FS already defined in Frame contentWindow: "+c+" Ignoring."),ii.AlreadyDefined;var g=f;return g._fs_org=i,g._fs_script=e,g._fs_rec_host=s,g._fs_rec_settings_host=o,g._fs_app_host=u,g._fs_run_in_iframe=!0,g._fs_namespace=a,g._fs_transport=function(t){return{send:function(n,i,r){if(void 0!==t.parent){var e=An(t.parent);void 0!==e&&"function"==typeof e._withRecorder?e._withRecorder(r,function(e){try{e.onMessageReceived(t,[n,z.jsonParse(i),r])}catch(t){t instanceof SyntaxError&&ye.send(t,"error",{msg:"Received invalid JSON"})}}):A("stateless transport: missing FS or _withRecorder api")}else A("stateless transport: missing window.parent")}}}(g),function(t,n,i,r,e,s){/^2\./.test(s)?Fc({wnd:t}):function(t){var n,i,r,e,s,o=(void 0===t?{}:t).wnd,u=void 0===o?window:o;n=u,u.document,i=u._fs_namespace,r="user",i in n?n.console&&n.console.log&&n.console.log("FullStory namespace conflict. Please set window[\"_fs_namespace\"]."):((e=n[i]=function(t,n,i){e.q?e.q.push([t,n,i]):e._api(t,n,i)}).q=[],e.identify=function(t,n,i){e(r,{uid:t},i),n&&e(r,n,i)},e.setUserVars=function(t,n){e(r,t,n)},e.event=function(t,n,i){e("event",{n:t,p:n},i)},e.anonymize=function(){e.identify(!1)},e.shutdown=function(){e("rec",!1)},e.restart=function(){e("rec",!0)},e.log=function(t,n){e("log",[t,n])},e.consent=function(t){e("consent",!arguments.length||t)},e.identifyAccount=function(t,n){(n=n||{}).acctId=t,e("account",n)},e.clearUserCookie=function(){},e.setVars=function(t,n){e("setVars",[t,n])},e._w={},s="XMLHttpRequest",e._w[s]=n[s],s="fetch",e._w[s]=n[s],n[s]&&(n[s]=function(){return e._w[s].apply(this,arguments)}),e._v="1.3.0")}({wnd:t});var o=n.createElement("script");o.async=!0,o.crossOrigin="anonymous",o.src=i+"//"+r,"testdrive"==e&&(o.src+="?allowMoo=true"),n.head.appendChild(o)}(g,v,r,e,i,h),ii.Successful}catch(t){return A("iFrame no injecty. Probably not same origin."),ii.Exception}};function $c(t){var n=""+hs(t);return t.id&&(n+="#"+t.id),n+"[src="+Xo(t.src,{source:"log",type:"debug"})+"]"}var Vc,Gc,Qc=function(){function t(t,n){var i;this.Si=t,this.Ut=[],this.uu=!1,this.Ct=null!==(i=n.interval)&&void 0!==i?i:1e3,this.au=n.onFlush}return t.prototype.append=function(t){this.schedule(),this.Ut.push(t)},t.prototype.flush=function(){this.uu=!1,this.au(this.Ut),this.Ut=[]},t.prototype.schedule=function(){this.uu||(z.setWindowTimeout(this.Si,Y(this.flush.bind(this)),this.Ct),this.uu=!0)},t}(),Xc="https://fs-obfuscated.invalid",Yc=function(){function t(t,n){var i=this;this.Si=t,this.Ut=n,this.cu=0,this.hu={},this.fu=function(t){var n;try{if("function"==typeof(null===(n=t.crypto)||void 0===n?void 0:n.getRandomValues)){var i="",r=new Uint32Array(2);t.crypto.getRandomValues(r);for(var e=0;e<r.length;e++)i+=r[e].toString(16);return i}}catch(t){}return z.mathFloor(1e20*(z.mathRandom()+.1)).toString(16)}(this.Si),this.Ut.enqueue({Kind:$n.URL_SALT,Args:[this.fu]}),this.vu=new Qc(this.Si,{interval:500,onFlush:function(t){return i.au(t)}})}return t.prototype.flush=function(){this.vu.flush()},t.prototype.au=function(t){0!==t.length&&this.Ut.enqueue({Kind:$n.URL_ID,Args:t})},t.prototype.record=function(t){if(/^(file|http)/i.test(t)){var n=this.lu(t,!0),i=n[0];n[1]&&this.vu.append([t,i])}},t.prototype.seen=function(t){return this.lu(t,!1)[0]},t.prototype.lu=function(t,n){var i=t.substring(0,5e3);if(void 0===this.hu[i]){var r=this.cu++;return this.hu[i]={id:r,record:n},[r,n]}var e=!1;return n&&(e=!1===this.hu[i].record,this.hu[i].record=!0),[this.hu[i].id,e]},t.prototype.obfuscateUrl=function(t,n){return"css"===n?this.du(t):this.pu(t)},t.prototype.du=function(t){var n=Ac(t.substring(0,5e3)+this.fu);return Xc+"?hash="+n+"&algorithm=fnv32"},t.prototype.pu=function(t){var n=this.seen(t);return Xc+"?url-id="+n},t}();(Gc=Vc||(Vc={}))[Gc.NoInfoYet=1]="NoInfoYet",Gc[Gc.Enabled=2]="Enabled",Gc[Gc.Disabled=3]="Disabled";var Jc,Zc,th=function(){function t(t,n,i,r,e){var s=this;this.rt=t,this.gu=e,this.wu=tr.DefaultOrgSettings,this.mu=!1,this.Mo=null,this.jo=[],this.yu=tr.DefaultBundleUploadInterval,this.bu=[],this.Su=new WeakMap,this.ku=[],this.st=new Te,this.Au=Vc.NoInfoYet,this._u=!1,this.Iu=!1,this.Eu={},this.Ut=new Sc(t,r,i,function(){return s.Cu.bundleEvents()},n);var o=new Rc(t,this.Ut,new ie(t)),u=new Yc(t.window,this.Ut);this.On=new go,this.ss=new Nc(t,this.Ut),this.Cu=new ac(t,this.Ut,this.ss,this.On,this.st,function(t){return s.os(t)},function(t){return s.us(t)},o,u),this.nt=t.options.scheme,this.Tu=t.options.script,this.xu=t.options.recHost,this.it=t.options.cdnHost,this.Ru=t.options.appHost,this.Ku=t.options.orgId,this.Si=t.window}return t.prototype.getPageResponse=function(){return this.Mu},t.prototype.bundleUploadInterval=function(){return this.yu},t.prototype.setInitConfig=function(t){this.ju=t},t.prototype.start=function(t,n,i){var r=this;this.Pu=n,this.Ou=i,this._s();var e=this.Si.Document?this.Si.Document.prototype:this.Si.document;this.Nu=Yt(e,"close"),this.Nu&&this.Nu.afterAsync(function(){r.st.refresh()})},t.prototype._s=function(){var t=this;"onpageshow"in this.Si&&this.st.add(this.Si,"pageshow",!1,function(n){t.Ut.manualHibernateCheck(),(null==n?void 0:n.persisted)&&t.Ut.enqueue({Kind:$n.BFCACHE_STATE,Args:[oi.Restored]})}),"onpagehide"in this.Si?this.st.add(this.Si,"pagehide",!1,function(n){(null==n?void 0:n.persisted)?(t.Ut.enqueue({Kind:$n.BFCACHE_STATE,Args:[oi.Entering]}),t.Ut.singSwanSong(di.Unload)):t.Uu()}):this.st.add(this.Si,"unload",!1,function(){t.Uu()}),this.st.add(this.Si,"message",!1,function(n){var i=n.data;if("string"==typeof i){var r=n.source;t.onMessageReceived(r,Dc(i))}})},t.prototype.tellAllFramesTo=function(t){for(var n=0,i=this.bu;n<i.length;n++){var r=i[n];r.contentWindow&&Hc(r.contentWindow,t)}},t.prototype.queue=function(){return this.Ut},t.prototype.eventWatcher=function(){return this.Cu},t.prototype.console=function(){return this.Cu.consoleWatcher()},t.prototype.onDomLoad=function(){this.Cu.onDomLoad()},t.prototype.onLoad=function(){this.Cu.onLoad()},t.prototype.shutdown=function(t){this.Iu=!0,this.tellAllFramesTo([hr.ShutdownFrame]),this.Cu.stop(t),this.st&&this.st.clear(),this.Nu&&this.Nu.disable()},t.prototype.getCurrentSessionURL=function(t){var n=this.Au;if(n==Vc.NoInfoYet)return null;if(n==Vc.Disabled)return this.nt+"//"+this.Ru+"/opt/upgrade";var i=this.getCurrentSession();return i?(t&&(i+=":"+this.rt.time.wallTime()),this.nt+"//"+this.Ru+"/ui/"+this.rt.options.orgId+"/"+(this.mu?"client-":"")+"session/"+encodeURIComponent(i)):null},t.prototype.getCurrentSession=function(){return this.getIsSessionReady()?this.Lu+":"+this.Fu:null},t.prototype.getIsSessionReady=function(){var t=this.Au;return!(t==Vc.NoInfoYet||t==Vc.Disabled||!this.Lu||!this.Fu)},t.prototype.setConsent=function(t){var n,i=this;null===(n=this.rt.recording.identity)||void 0===n||n.getConsentStore().setConsentState(t);var r=function(){i.On.setConsent(t),i.Ut.processEvents()},e=function(){i.Ut.enqueue({Kind:$n.SYS_SETCONSENT,Args:[t,vi.Document]})};switch(t){case hi.GrantConsent:e(),r();break;case hi.RevokeConsent:r(),e()}this.tellAllFramesTo([hr.SetConsent,t])},t.prototype.pageSignature=function(){return this.Lu+":"+this.Fu+":"+this.Hu},t.prototype.getBundleApiVersion=function(){return this.mu?"v2":"v1"},t.prototype.Du=function(t){void 0===t&&(t=!1);var n=Rn(this.Si,"_fs_ready","function");if(n)try{t?n(!0):n()}catch(t){A("exception in _fs_ready(): "+t)}},t.prototype.Uu=function(){this.Ut.addUnload(di.Unload),bs.stopAll()},t.prototype.Bu=function(t,n){var i,r,e,s,o=t.Flags,u=o.AjaxWatcher,a=o.ClientSideRageClick,c=o.GetCurrentSession,h=o.ResourceUploading,f=o.UseClientSideId,v=o.UseTreeWalker;this.Mu=t,this.Lu=t.UserIntId,this.Fu=t.SessionIntId,this.Hu=t.PageIntId,this.Wu=t.PageStart,this.Au=c?Vc.Enabled:Vc.Disabled,this.wu=t.OrgSettings,nu(null!==(i=this.wu.UrlPrivacyConfig)&&void 0!==i?i:tr.DefaultOrgSettings.UrlPrivacyConfig,this.wu.MaxUrlLength);var l=null!==(r=this.wu.AttributeBlocklist)&&void 0!==r?r:[];(null===(s=null===(e=this.ju)||void 0===e?void 0:e.privacy)||void 0===s?void 0:s.attributeBlocklist)&&(A("adding "+this.ju.privacy.attributeBlocklist.length+" client defined attribute block rules."),l.push.apply(l,this.ju.privacy.attributeBlocklist.map(lu))),hu(l),v&&(bt=!0),this.Cu.consoleWatcher().initializeMaxLogsPerPage(this.wu.MaxConsoleLogPerPage),this.Cu.ajaxWatcher().initialize({requests:this.wu.HttpRequestHeadersAllowlist,responses:this.wu.HttpResponseHeadersAllowlist,maxAjaxPayloadLength:this.wu.MaxAjaxPayloadLength}),this.Cu.perfWatcher().initialize({resourceUploader:this.Cu.getResourceUploader(),recTimings:!!this.wu.RecordPerformanceResourceTiming,recImgs:!!this.wu.RecordPerformanceResourceImg,maxPerfMarksPerPage:this.wu.MaxPerfMarksPerPage}),this.On.initialize({canvasWatcherMode:t.Flags.CanvasWatcherMode,blocks:t.ElementBlocks,deferreds:t.ElementDeferreds,keeps:t.ElementKeeps,watches:t.ElementWatches}),this.ss.initialize(t.UrlKeeps),this.On.initializeConsent(n),"number"==typeof t.BundleUploadInterval&&(this.yu=t.BundleUploadInterval),h&&this.zu(),u&&t.AjaxWatches&&this.Cu.ajaxWatcher().setWatches(t.AjaxWatches),a&&this.Ut.enableEasyBake(),f&&(this.mu=!0),this.Cu.start(t.Flags)},t.prototype.qu=function(){var t;this.Pu&&this.Pu({sessionUrl:null!==(t=this.getCurrentSessionURL())&&void 0!==t?t:"",settings:this.wu})},t.prototype.$u=function(){this.Ou&&this.Ou()},t.prototype.zu=function(){this._u=!0,this.Cu.initResourceUploading()},t.prototype.Vu=function(){if(this.ku.length>0){for(var t=0;t<this.ku.length;t++)this.ku[t]();this.ku=[]}},t.prototype.Gu=function(t){var n=this;this.rt.measurer.enqueue(function(){A("Injecting into a "+("none"!==getComputedStyle(t,null).display?"hidden":"visible")+" iframe: "+$c(t));var i=$c(t),r=n.gu({frame:t,orgId:n.Ku,scheme:n.nt,script:n.Tu,recHost:n.xu,cdnHost:n.it,appHost:n.Ru,namespace:Sn(n.Si),desc:i,snippetVersion:Bn(n.Si)});r!==ii.MissingDocumentHead&&r!==ii.MissingBodyOrChildren&&r!==ii.NoNonScriptElement||!t.contentDocument||new MutationObserver(function(i,r){n.Gu(t),r.disconnect()}).observe(t.contentDocument,{childList:!0,subtree:!0}),n.Ut.enqueue({Kind:$n.FRAME_STATUS,Args:[hs(t),i,r]})})},t.prototype.Qu=function(){var t,n;(null===(t=this.ju)||void 0===t?void 0:t.privacy)&&this.Ut.enqueue({Kind:$n.INIT_API,Args:["privacy",["attributeBlocklist",(null!==(n=this.ju.privacy.attributeBlocklist)&&void 0!==n?n:[]).map(function(t){return[t.target,t.tag,t.name,t.action,t.type]})]]})},t.prototype.os=function(t){var n=hs(t);if(n){this.bu.push(t);var i=!1;if(t.contentWindow)try{i=!!An(t.contentWindow)}catch(t){i=!0}var r=function(t){var n=t.src,i=location.protocol+"//"+location.host;return!n||"about:blank"==n||Ut(n,"javascript:")||Ut(n,i)}(t),e=t.contentWindow&&t.contentWindow.postMessage;r&&!i||!e?r?this.Xu(t):A("Frame Doesn't need injecting. Probably cross domain "+$c(t)):this.Yu(t,n)}else A("fsid missing or invalid for iFrame "+$c(t))},t.prototype.Yu=function(t,n){var i=this;t.contentWindow&&t.contentWindow.postMessage?(A("Cross-origin iframe "+$c(t)),Hc(t.contentWindow,[hr.GreetFrame,n]),this.Eu[n]=!0,setTimeout(function(){i.Eu[n]&&A("iframe "+t.src+" is unresponsive")},5e3)):A("No content window on init of cross-origin iframe "+$c(t))},t.prototype.Xu=function(t){var n=this;A("Attempting to setup Frame "+$c(t)),this.Gu(t);var i=this.st.add(t,"load",!1,ye.wrap(function(){A("onload for frame "+$c(t)),n.Gu(t)}));this.Su.set(t,i)},t.prototype.us=function(t){if(hs(t)){var n=this.Su.get(t);void 0!==n&&(Ce(n),this.Su["delete"](t)),this.bu=this.bu.filter(function(n){return n!==t})}},t.prototype.onMessageReceived=function(t,n){if(!t||t.parent==this.Si)switch(n[0]){case hr.EvtBundle:var i=n[1],r=n[2],e=this.pageSignature();if(e!==r)return A(ds({msg:"Page signature mismatch",pageSignature:e,messageSignature:r},1024)),void(t&&Hc(t,[hr.ShutdownFrame]));i.length>0&&this.Ut.sendEvents(e,i);break;case hr.RequestFrameId:if(!t)return void A("No MessageEvent.source, iframe may have unloaded.");var s=this.Ju(t);void 0===s?A("No FrameId found. Hoping to send one later."):(A("Responding to FID request for frame "+s),this.Eu[s]=!1,this.Zu(t,s));break;case hr.Unknown:A("Received unknown message.")}},t.prototype.Ju=function(t){for(var n=0,i=this.bu;n<i.length;n++){var r=i[n];if(r.contentWindow===t)return hs(r)}},t.prototype.Zu=function(t,n){var i=this,r=function(){var r,e=[];0!=i.Mo&&null!==i.Mo&&(e=i.jo?i.jo.concat(i.Mo):[i.Mo]);var s=i.rt.time.startTime();Hc(t,[hr.SetFrameId,n,e,s,i.nt,i.Tu,i.Ru,i.Ku,i.ju,i.Mu,null!==(r=i.On.getConsent())&&void 0!==r?r:hi.RevokeConsent,i.rt.time.now()])};null==this.Mo?this.ku.push(r):r()},t.prototype.ta=function(t){var n=this;this.rt.measurer.enqueue(function(){n.Ut.enqueue({Kind:$n.DOCUMENT_PROPERTIES,Args:[hs(t.scrollingElement),t.compatMode]})})},t}();function nh(t){var n,i,r,e,s,o,u,a,c=(null!==(i=null===(n=t.ElementBlocks)||void 0===n?void 0:n.length)&&void 0!==i?i:0)>0&&(null!==(s=null===(e=null===(r=t.OrgSettings)||void 0===r?void 0:r.UrlPrivacyConfig)||void 0===e?void 0:e.length)&&void 0!==s?s:0)>0&&(null!==(a=null===(u=null===(o=t.OrgSettings)||void 0===o?void 0:o.AttributeBlocklist)||void 0===u?void 0:u.length)&&void 0!==a?a:0)>0;if(!c){var h="Invalid page response";ye.send(h,"error",{rsp:t}),A(h)}return c}(Zc=Jc||(Jc={})).START="start",Zc.SHUTDOWN="shutdown",Zc.INTERNAL_BUNDLE="internal/bundle",Zc.INTERNAL_ERROR="internal/error",Zc.INTERNAL_FS_INIT="internal/fs-init";var ih,rh=[Jc.START,Jc.SHUTDOWN,Jc.INTERNAL_BUNDLE,Jc.INTERNAL_ERROR,Jc.INTERNAL_FS_INIT],eh=function(){function t(t,n,i){void 0===i&&(i=ks),this.rt=t,this.Vo=n,this.na=i,this.sing()}return t.prototype.store=function(t){A("Saving "+t.bundles.length+" bundles in swan-song.");var n=qt({Bundles:t.bundles,IsNewSession:t.isNewSession,LastBundleTime:t.lastBundleTime,OrgId:t.orgId,PageId:t.pageId,PageStartTime:this.rt.time.startTime(),RecHost:ve(this.rt),ServerBundleTime:t.serverBundleTime,ServerPageStart:t.serverPageStart,SessionId:t.sessionId,UserId:t.userId,Version:t.version});if(!(n.length>2e6))try{localStorage._fs_swan_song=n}catch(t){}},t.prototype.sing=function(){try{var t=function(){try{if("_fs_swan_song"in localStorage){var t=localStorage._fs_swan_song;return delete localStorage._fs_swan_song,Gt(t)}}catch(t){A("Error purging swan-song: "+t)}}();if(void 0===t)return;if(!(t.Bundles&&t.UserId&&t.SessionId&&t.PageId))return void A("Malformed swan song found. Ignoring it.");t.Bundles.length>0&&(A("Sending "+t.Bundles.length+" bundles as prior page swan song"),this.ia(t))}catch(t){A("Error recovering swan-song: "+t)}},t.prototype.ia=function(t,n){return void 0===n&&(n=0),r(this,void 0,Vr,function(){var r,s,o,u;return e(this,function(e){switch(e.label){case 0:if(r=null,!Tt(t.Bundles)||0===t.Bundles.length||void 0===t.Bundles[0])return[2];1==t.Bundles.length&&(r=this.rt.time.wallTime()-(t.LastBundleTime||0)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.Vo.bundle({bundle:t.Bundles[0],deltaT:r,isNewSession:t.IsNewSession,orgId:t.OrgId,pageId:t.PageId,recHost:t.RecHost,serverBundleTime:t.ServerBundleTime,serverPageStart:t.ServerPageStart,sessionId:t.SessionId,userId:t.UserId,version:t.Version})];case 2:return s=e.sent(),o=s[1],A("Sent "+t.Bundles[0].Evts.length+" trailing events from last session as Seq "+t.Bundles[0].Seq),t.Bundles.shift(),t.Bundles.length>0?this.ia(i(i({},t),{ServerBundleTime:o.BundleTime})):A("Done with prior page swan song"),[3,4];case 3:return(u=e.sent())instanceof ei&&si(u.status)?(A("Fatal error while sending events, giving up"),[2]):(A("Failed to send events from last session, will retry while on this page"),this.ra=new this.na(this.ia,this.Vo.exponentialBackoffMs(n,!0),this,t,n+1).start(),[3,4]);case 4:return[2]}})})},t}(),sh=function(){function t(){}return t.prototype.encode=function(t){return t},t}(),oh=function(){function t(){this.dict={idx:-1,map:{}},this.nodeCount=1,this.startIdx=0}return t.prototype.encode=function(n){if(0==n.length)return[];var i,r,e=n[0],s=Object.prototype.hasOwnProperty.call(this.dict.map,e)?this.dict.map[e]:void 0,o=[],u=1;function a(){s?u>1?o.push([s.idx,u]):o.push(s.idx):o.push(e)}for(i=1;i<n.length;i++)if(r=n[i],s&&Object.prototype.hasOwnProperty.call(s.map,r))u++,e=r,s=s.map[r];else{a();var c=this.startIdx+i-u;null==s&&this.nodeCount<t.MAX_NODES&&(s={idx:c,map:{}},this.dict.map[e]=s,this.nodeCount++),s&&this.nodeCount<t.MAX_NODES&&(s.map[r]={idx:c,map:{}},this.nodeCount++),u=1,e=r,s=Object.prototype.hasOwnProperty.call(this.dict.map,r)?this.dict.map[r]:void 0}return a(),this.startIdx+=n.length,o},t.MAX_NODES=1e4,t}();function uh(t){for(var n=0;n<t.length;n++){var i=t[n];switch(i.Kind){case $n.DEFERRED_MUT_SHADOW:t[n].Args[1]=ah(i.Args[1]),t[n].Kind=$n.MUT_SHADOW;break;case $n.DEFERRED_MUT_INSERT:t[n].Args[2]=ah(i.Args[2]),t[n].Kind=$n.MUT_INSERT}ke(i.Kind!==$n.DEFERRED_MUT_SHADOW&&i.Kind!==$n.DEFERRED_MUT_INSERT,"client only event escaped")}return t}function ah(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];if("function"==typeof e)for(var s=0,o=e();s<o.length;s++){var u=o[s];n.push(u)}else n.push(e)}return n}var ch=((ih={})[$n.AJAX_REQUEST]=!0,ih[$n.PERF_ENTRY]=!0,ih[$n.RESOURCE_TIMING_BUFFER_FULL]=!0,ih),hh=function(){function t(t,n,i,r,e,s){void 0===r&&(r=!0),void 0===e&&(e=Ss),void 0===s&&(s=ks),this.rt=t,this.Vo=n,this.bo=i,this.ea=r,this.Ko=e,this.sa=!1,this.oa=0,this.ua=0,this.aa=0,this.ca=!1,this.ha={},this.fa=16e6,this.va=0,this.la=new fh,this.da=[],this.nt=t.options.scheme,this.pa=t.time.wallTime(),this.ga=new eh(t,this.Vo,s)}return t.prototype.setPageData=function(t){this.wa=t},t.prototype.onShutdown=function(t){this.ma=t},t.prototype.scheme=function(){return this.nt},t.prototype.enqueueEvents=function(t,n){for(var i=0,r=n;i<r.length;i++){var e=r[i];this.la.pushEvent(e)}},t.prototype.initUploadTicker=function(){this.ya=new this.Ko(this.rt.recording.bundleUploadInterval())},t.prototype.startPipeline=function(t){var n,i=this;this.Ku=t.orgId,this.Lu=t.userId,this.Fu=t.sessionId,this.Hu=t.pageId,this.Wu=t.serverPageStart,this.ca=t.isNewSession,Qr(this.rt.recording.bundleUploadInterval()/5).then(function(){return i.ba()}),this.ya||this.initUploadTicker(),null===(n=this.ya)||void 0===n||n.start(function(){i.ba()})},t.prototype.stopPipeline=function(){this.ya&&this.ya.stop(),this.la=new fh,this.da=[],this.ha={},this.Ku=void 0,this.Lu=void 0,this.Fu=void 0,this.Hu=void 0,this.Wu=void 0,this.ca=!1},t.prototype.flush=function(){return r(this,void 0,Vr,function(){return e(this,function(t){switch(t.label){case 0:return this.Sa(),[4,this.ka()];case 1:return t.sent(),[2]}})})},t.prototype.singSwanSong=function(){if(this.Ku&&this.Lu&&this.Fu&&this.Hu){this.Sa();var t=[];this.Aa&&t.push(this.Aa);for(var n=0,i=this.da;n<i.length;n++){var r=i[n];t.push(r)}if(0!==t.length){void 0!==this.Wu&&this.ga.store({bundles:t,isNewSession:this.ca,lastBundleTime:this.pa,orgId:this.Ku,pageId:this.Hu,serverBundleTime:this.va,serverPageStart:this.Wu,sessionId:this.Fu,userId:this.Lu,version:this.rt.recording.bundleApiVersion()});for(var e=0,s=t;e<s.length&&(r=s[e],this.Vo.bundleBeacon({bundle:r,deltaT:null,isNewSession:this.ca,orgId:this.Ku,pageId:this.Hu,serverBundleTime:this.va,serverPageStart:this.Wu,sessionId:this.Fu,userId:this.Lu,version:this.rt.recording.bundleApiVersion()}));e++);}}else A("unable to sing swan song. one or more of orgId:"+this.Ku+" | userId:"+this.Lu+" | sessionId:"+this.Fu+" | pageId:"+this.Hu+" are undefined")},t.prototype.ba=function(){return r(this,void 0,Vr,function(){return e(this,function(t){switch(t.label){case 0:return this.Aa?(this.sa&&this._a(),[2]):(this.la.hasActiveEvents()&&this.Sa(),[4,this.ka()]);case 1:return t.sent(),[2]}})})},t.prototype.Sa=function(){if(this.la.hasAnyEvents()){var t=this.Ia(function(t){return 0===t.Evts.length||uh(t.Evts),t}(this.la.bundle));return this.la=this.la.createNext(),this.da.push(t),t}},t.prototype.ka=function(){return r(this,void 0,Vr,function(){return e(this,function(t){switch(t.label){case 0:return this.Hu&&this.Wu&&!this.Aa&&0!=this.da.length?(this.Aa=this.da.shift(),[4,this._a()]):[2];case 1:return t.sent(),[2]}})})},t.prototype._a=function(){return r(this,void 0,Vr,function(){var t,n,i,r;return e(this,function(e){switch(e.label){case 0:if((t=this.rt.time.wallTime())<this.ua)return[2];if(!(n=this.Aa))return[2];this.sa=!1,this.aa=this.pa=t,e.label=1;case 1:return e.trys.push([1,5,,6]),[4,this.Ea(n)];case 2:return(i=e.sent())?(A("Sent bundle "+n.Seq+" with "+n.Evts.length+" events"),this.va=i.BundleTime,this.Aa=void 0,this.ua=0,this.oa=0,this.rt.time.wallTime()-this.aa>this.rt.recording.bundleUploadInterval()?[4,this.ka()]:[3,4]):[2];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:if((r=e.sent())instanceof ei){if(A("Failed to send events."),si(r.status))return 206===r.status?A("Failed to send bundle, probably because of its large size"):r.status>=500&&ye.send("Failed to send bundle, recording outage likely","error"),this.ma&&this.ma(),[2]}else ye.send("Failed to send bundle, unknown err","error",{err:r});return this.sa=!0,this.ua=this.aa+this.Vo.exponentialBackoffMs(this.oa++,!1),[3,6];case 6:return[2]}})})},t.prototype.Ea=function(t){var n;return r(this,void 0,Vr,function(){var i,r,s,o;return e(this,function(e){switch(e.label){case 0:return this.Ku&&this.Lu&&this.Fu&&this.Hu?(C(window,H),i=this.bo.getMsSinceLastUserActivity(),[4,this.Vo.bundle({bundle:t,deltaT:null,isNewSession:this.ca,lastUserActivity:i,orgId:this.Ku,pageId:this.Hu,serverBundleTime:this.va,serverPageStart:this.Wu,sessionId:this.Fu,userId:this.Lu,version:this.rt.recording.bundleApiVersion()})]):(A("unable to send bundle. one or more of orgId:"+this.Ku+" | userId:"+this.Lu+" | sessionId:"+this.Fu+" | pageId:"+this.Hu+" are undefined"),[2]);case 1:return r=e.sent(),s=r[0],o=r[1],null===(n=this.rt.recording.observer)||void 0===n||n.addEvent({type:Jc.INTERNAL_BUNDLE,data:{size:s}}),s>this.fa&&this.la.bundle.Seq>16&&(A("splitting large page: "+s),this.rt.recording.splitPage(di.Size)),T(window,H),[2,o]}})})},t.prototype.Ia=function(t){if(0===t.Evts.length)return t;for(var n=[],r=0,e=t.Evts;r<e.length;r++){var o=e[r];switch(o.Kind){case $n.SET_FRAME_BASE:var u=vh(o.PIds,o.FId);delete this.ha[u];break;case $n.MUT_INSERT:var a=an();o.Args[2]=this.Ca(o.PIds,o.FId,o.Args[2]),n.push(an()-a);break;case $n.MUT_SHADOW:a=an(),o.Args[1]=this.Ca(o.PIds,o.FId,o.Args[1]),n.push(an()-a)}}var c=t.Evts[t.Evts.length-1];if(this.wa&&t.Evts.push(i(i({},c),this.wa)),0===n.length)return t;var h=n[0],f=n.slice(1);return t.Evts.push(i(i({},c),{Kind:$n.TIMING,Args:[s([Xn.Internal,Jn.Serialization,ti.LzEncoding,c.When,h],f.map(function(t){return[ti.LzEncoding,t]}))]})),t},t.prototype.Ca=function(t,n,i){void 0===t&&(t=[]),void 0===n&&(n=0);var r=vh(t,n);return this.ha[r]||(this.ha[r]=this.ea?new oh:new sh),this.ha[r].encode(i)},t}(),fh=function(){function t(t){void 0===t&&(t=1),this.Ta=!1,this.xa={Seq:t,When:-1,Evts:[]}}return Object.defineProperty(t.prototype,"bundle",{get:function(){return this.xa},enumerable:!1,configurable:!0}),t.prototype.createNext=function(){return new t(this.xa.Seq+1)},t.prototype.hasAnyEvents=function(){return this.xa.Evts.length>0},t.prototype.hasActiveEvents=function(){return this.Ta},t.prototype.pushEvent=function(n){!t.forceActive&&ch[n.Kind]||(this.Ta=!0),this.xa.When<0&&(this.xa.When=n.When),this.xa.Evts.push(n)},t.forceActive=!1,t}();function vh(t,n){void 0===t&&(t=[]),void 0===n&&(n=0);for(var i="",r=0,e=t;r<e.length;r++)i+="/"+e[r];return i+"/"+n}var lh=new RegExp("(^\\?|&)_fs_preview=(?:true|false)(&|$)"),dh=function(){function t(t,n,i){this.Si=n,this.Ra=i,this.Ka="fs_preview_"+t}return t.prototype.isPreviewMode=function(){return this.Ma()||this.ja()},t.prototype.clear=function(){this.Ra.setValue(this.Ka,"",new Date(1970,1,1).toUTCString())},t.prototype.write=function(){var t=this.Ma(),n=this.Pa();(t||n)&&(t?this.Ra.setValue(this.Ka,"true",new Date(an()+432e5).toUTCString()):this.clear(),this.Oa())},t.prototype.Oa=function(){if(this.Si.history){var t=location.search.replace(lh,function(t,n,i){return i?n:""});this.Si.history.replaceState({},"",this.Si.location.href.replace(location.search,t))}},t.prototype.Ma=function(){return this.Si.document.location.search.indexOf("_fs_preview=true")>-1},t.prototype.Pa=function(){return this.Si.document.location.search.indexOf("_fs_preview=false")>-1},t.prototype.ja=function(){var t=this.Ra.getValue(this.Ka),n=t.cookieValue,i=t.localStorageValue;return!(!n&&!i)},t}();function ph(t){var n,i,r;return{Kind:$n.CAPTURE_SOURCE,Args:[t.type,t.entrypoint,"dom",null===(i=null===(n=t.source)||void 0===n?void 0:n.integration)||void 0===i?void 0:i.slice(0,1024),!!(null===(r=t.source)||void 0===r?void 0:r.userInitiated)]}}function gh(t){return r(this,void 0,Vr,function(){var n,i,r,s;return e(this,function(e){if(n=function(t){return"msCrypto"in t?t.msCrypto:t.crypto}(t),"function"==typeof(null==n?void 0:n.randomUUID))return[2,n.randomUUID()];for(i=new Uint8Array(16),n.getRandomValues(i),i[6]=15&i[6]|64,i[8]=63&i[8]|128,r=[],s=0;s<i.length;s++)r.push(function(t,n,i){for(var r=t;r.length<2;)r="0"+r;return r}(i[s].toString(16)));return[2,[""+r[0]+r[1]+r[2]+r[3],""+r[4]+r[5],""+r[6]+r[7],""+r[8]+r[9],""+r[10]+r[11]+r[12]+r[13]+r[14]+r[15]].join("-")]})})}var wh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function mh(t){return 36===t.length&&wh.test(t)}var yh=void 0,bh=18e5,Sh=function(){function t(t,n,i,r){void 0===r&&(r=ks),this.rt=t,this.bo=n,this.Na=i,this.Ua=0,this.La=new r(this.Fa.bind(this))}return t.prototype.createUserSessionPage=function(){var t;return r(this,void 0,Vr,function(){var n,i,r,s,o,u,a,c;return e(this,function(e){switch(e.label){case 0:return n=this.Ha(),i=n[0],r=n[1],s=i===yh,o=this.rt.time.wallTime(),s?[4,this.Da()]:[3,3];case 1:return u=e.sent(),[4,gh(this.rt.window)];case 2:return a=e.sent(),this.Na.create({userId:u,sessionId:a,sessionStartTime:o,lastUserActivityTime:o,pageCount:1}),[3,4];case 3:this.Na.setLastUserActivityTimeMS(o),this.Na.setPageCount((null!==(t=this.Na.getPageCount())&&void 0!==t?t:0)+1),e.label=4;case 4:return[4,gh(this.rt.window)];case 5:return c=e.sent(),[2,{userId:this.Na.getUserId(),sessionId:this.Na.getSessionId(),pageId:c,isNewSession:s,reason:r}]}})})},t.prototype.Ha=function(){var t,n,i,r=this.Na.getUserId();if(!r||!mh(r))return[yh,"uid "+r];var e=this.Na.getSessionId();if(!e||!mh(e))return[yh,"sid "+e];var s=this.rt.time.wallTime(),o=null!==(t=this.Na.getSessionStartTimeMS())&&void 0!==t?t:0,u=z.mathAbs(s-o);if(0===o||u>=864e5)return[yh,"exp sid: "+o+"ms "+u+"ms"];var a=null!==(n=this.Na.getLastUserActivityTimeMS())&&void 0!==n?n:o,c=z.mathMax(a,o),h=z.mathAbs(s-c);if(h>=bh)return[yh,"exp lua: "+a+"ms "+h+"ms"];var f=null!==(i=this.Na.getPageCount())&&void 0!==i?i:0;return f>=250?[yh,"pages: "+f]:[e]},t.prototype.start=function(){this.La.start(3e5)},t.prototype.stop=function(){this.La.stop()},t.prototype.Da=function(){return r(this,void 0,Vr,function(){var t;return e(this,function(n){return(t=this.Na.getUserId())&&mh(t)?[2,t]:[2,gh(this.rt.window)]})})},t.prototype.Fa=function(){var t=this.bo.getLastUserActivityTS();t!==this.Ua&&(this.Ua=t,this.Na.setLastUserActivityTimeMS(t)),this.start()},t}(),kh=function(t){function s(n,i,r,e,s,o,u){void 0===r&&(r=!0),void 0===e&&(e=new yc(n)),void 0===s&&(s=new hh(n,i,e,r)),void 0===o&&(o=Ss),void 0===u&&(u=qc);var a,c=t.call(this,n,o,e,s,u)||this;c.Vo=i,c.xo=s,c.Ba=!1,c.Oo=!1,c.Wa=!1,s.onShutdown(function(){return c.shutdown(di.SettingsBlocked)}),c.t=c.Si.document,c.Mo=0,c.za=n.recording.identity,c.qa=new dh(c.Ku,c.Si,c.za.getClientStore()),c.Au=Vc.NoInfoYet,c.$a=new Sh(n,e,c.za),a=function(t){if(c.Cu.stop(di.Api),t){var n=c.t.getElementById(t);n&&c.Va&&n.setAttribute("_fs_embed_token",c.Va)}},c.Si._fs_shutdown=a;var h=c.qa.isPreviewMode();return c.Ga=c.Vo.settings({orgId:c.Ku,previewMode:h})["catch"](function(){}),c}return n(s,t),s.prototype.onDomLoad=function(){var n=this;t.prototype.onDomLoad.call(this),this.Ba=!0,this.Qa(function(){n.Du(n.Oo)})},s.prototype.Xa=function(){var t=Rn(this.Si,"_fs_replay_flags");if(/[?&]_fs_force_session=true(&|#|$)/.test(location.search)&&(t+=",forceSession",this.Si.history)){var n=location.search.replace(/(^\?|&)_fs_force_session=true(&|$)/,function(t,n,i){return i?n:""});this.Si.history.replaceState({},"",this.Si.location.href.replace(location.search,n))}return t},s.prototype.start=function(n,i,s){var o,u,a,c,h;return r(this,void 0,Vr,function(){var r,f,v,l,d,p,g,w,m,y,b,S,k,_,I,E,x,R,K,M,j,P;return e(this,function(e){switch(e.label){case 0:return t.prototype.start.call(this,n,i,s),[4,this.Ga];case 1:if(!(r=e.sent()))return A("missing static settings"),this.Ya(),[2];nu(null!==(o=r.OrgSettings.UrlPrivacyConfig)&&void 0!==o?o:tr.DefaultOrgSettings.UrlPrivacyConfig,r.OrgSettings.MaxUrlLength),f=this.Xa(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,Vr.race([te(this.Si),Qr(250)])];case 3:case 4:return e.sent(),[3,5];case 5:v=He(this.t),l=v[0],d=v[1],N=this.Si,U=0,L=0,p=null==N.screen?[U,L]:(U=parseInt(String(N.screen.width),10),L=parseInt(String(N.screen.height),10),[U=isNaN(U)?0:U,L=isNaN(L)?0:L]),g=p[0],w=p[1],m="",n||(m=this.za.getUserId()),y=this.qa.isPreviewMode(),b=null!==(c=null===(a=null===(u=this.rt)||void 0===u?void 0:u.recording)||void 0===a?void 0:a.preroll)&&void 0!==c?c:-1,S=Xo(No(this.Si),{source:"page",type:"base"}),k=Xo(this.Si.location.href,{source:"page",type:"url"}),_=""===this.t.referrer?"":Xo(this.t.referrer,{source:"page",type:"referrer"}),I=Vt(this.t),E=function(t){var n,i="_fs_tab_id";try{var r=t.sessionStorage.getItem(i);if(r)return r;var e=Math.floor(1e17*Math.random()).toString(16);return t.sessionStorage.setItem(i,e),null!==(n=t.sessionStorage.getItem(i))&&void 0!==n?n:void 0}catch(t){return}}(this.Si),x={OrgId:this.Ku,UserId:m,Url:k,Base:S,Width:l,Height:d,ScreenWidth:g,ScreenHeight:w,SnippetVersion:Bn(this.Si),Referrer:_,Preroll:b,Doctype:I,CompiledVersion:"f4c87f3a9eb9197fc451a1867d4d2b41fee48ed1",CompiledTimestamp:1704278514,AppId:this.za.getAppId(),TabId:E,PreviewMode:y||void 0},f&&(x.ReplayFlags=f),e.label=6;case 6:return e.trys.push([6,12,,13]),[4,this.Vo.page(x)];case 7:return R=e.sent(),y||!R.PreviewMode?[3,9]:[4,this.Vo.settings({orgId:this.Ku,previewMode:!0})["catch"](function(){})];case 8:if(!(r=e.sent()))return A("missing static settings"),this.Ya(),[2];nu(null!==(h=r.OrgSettings.UrlPrivacyConfig)&&void 0!==h?h:tr.DefaultOrgSettings.UrlPrivacyConfig,r.OrgSettings.MaxUrlLength),e.label=9;case 9:return[4,this.Ja(R,r)];case 10:return nh(P=e.sent())?this.Iu?[2]:(C(window,O),K=this.za.getConsentStore().getConsentState(),this.Bu(P,K),T(window,O),this.Za(P.CookieDomain,P.UserIntId,P.SessionIntId,P.PageIntId,P.EmbedToken),this.tc(),P.PreviewMode&&this.nc(),M=function(t){return Rn(t,"_fs_pagestart","function")}(this.Si),M&&M(),this.Ut.enqueueFirst(ph({type:"default"})),this.Ut.enqueueFirst(this.Cu.getNavigateEvent(this.Si.location.href,$n.ENTRY_NAVIGATE)),this.Ut.enqueueFirst({Kind:$n.SYS_REPORTCONSENT,Args:[K,vi.Document]}),this.Ut.enqueueFirst({Kind:$n.SET_FRAME_BASE,Args:[Xo(No(this.Si),{source:"event",type:$n.SET_FRAME_BASE}),I,k,_]}),this.xo.setPageData({Kind:$n.PAGE_DATA,Args:[k,S,l,d,g,w,Bn(this.Si),_,I,b,m,P.PageStart,tn(this.Si),this.Si.navigator.userAgent,E,!!P.IsNewSession,!!P.PreviewMode]}),P.Flags.DisableInertBundles&&(fh.forceActive=!0),this.Ut.enqueue({Kind:$n.SCRIPT_COMPILED_VERSION,Args:["f4c87f3a9eb9197fc451a1867d4d2b41fee48ed1"]}),this.Cu.addVisibilityChangeEvent(),this.Qu(),[4,this.Ut.startPipeline({isNewSession:!!P.IsNewSession,orgId:this.Ku,pageId:P.PageIntId,serverPageStart:P.PageStart,sessionId:P.SessionIntId,userId:P.UserIntId})]):[2,this.Ya()];case 11:return e.sent(),this.ta(this.t),this.qu(),[3,13];case 12:return(j=e.sent())instanceof ei&&(P=j.data)&&P.user_id&&P.cookie_domain&&P.reason_code===zi.ReasonBlockedTrafficRamping&&m!==P.user_id&&this.Za(P.cookie_domain,P.user_id,"","",""),this.Ya(),[3,13];case 13:return[2]}var N,U,L})})},s.prototype.tc=function(){var t=this;this.Wa=!0,this.Qa(function(){t.Du(t.Oo)})},s.prototype.Za=function(t,n,i,r,e){var s=this.za;s.setIds(this.Si,t,n,i),this.Va=e,this.qa.write(),A("/User,"+s.getUserId()+"/Session,"+s.getSessionId()+"/Page,"+r)},s.prototype.Qa=function(t){var n,i,r;if(this.Ba&&this.Wa)if(null===(i=null===(n=this.Mu)||void 0===n?void 0:n.Flags)||void 0===i?void 0:i.FetchIntegrations){"string"!=typeof Rn(r=this.rt.window,"_fs_rec_settings_host")&&(r._fs_rec_settings_host=En(Wn(r)));var e=this.t.createElement("script");e.addEventListener("load",t),e.addEventListener("error",t),e.async=!0,e.src=this.nt+"//"+this.xu+"/rec/integrations?OrgId="+this.Ku,this.t.head.appendChild(e)}else t()},s.prototype.nc=function(){var t="FullStory-preview-script";if(!this.t.getElementById(t)){var n=this.t.createElement("script");n.id=t,n.async=!0,n.src=this.nt+"//"+this.Ru+"/s/fspreview.js",this.t.head.appendChild(n)}},s.prototype.Ya=function(){this.$u(),this.shutdown(di.SettingsBlocked),A("Disabling FS."),this.Oo=!0,this.Du(this.Oo)},s.prototype.Ja=function(t,n){var s;return r(this,void 0,Vr,function(){var r,o,u;return e(this,function(e){switch(e.label){case 0:return(r=i(i({},t),n)).Flags.UseClientSideId?(this.za.setCookieDomain(this.Si,r.CookieDomain),mh(o=null!==(s=r.UserUUID)&&void 0!==s?s:"")&&this.za.setUserId(o),[4,this.$a.createUserSessionPage()]):[3,2];case 1:u=e.sent(),this.$a.start(),r=i(i({},r),{UserIntId:u.userId,SessionIntId:u.sessionId,PageIntId:u.pageId,IsNewSession:u.isNewSession,PageStart:an()}),u.reason&&this.Ut.enqueue({Kind:$n.SESSION_INFO,Args:[u.reason]}),e.label=2;case 2:return[2,r]}})})},s.prototype.onMessageReceived=function(n,i){t.prototype.onMessageReceived.call(this,n,i),(null==n?void 0:n.parent)==this.Si&&i[0]===hr.EndPreviewMode&&this.qa.clear()},s}(th),Ah=function(){function t(t,n){void 0===n&&(n=new _h(t)),this.Si=t,this.ic=n}return t.prototype.enqueueEvents=function(t,n){var i=null!=t?t:void 0;this.ic.postMessage(this.Si.parent,[hr.EvtBundle,uh(n),i],i)},t.prototype.startPipeline=function(){},t.prototype.stopPipeline=function(){},t.prototype.flush=function(){return r(this,void 0,Vr,function(){return e(this,function(t){return[2]})})},t.prototype.singSwanSong=function(){},t.prototype.onShutdown=function(t){},t.prototype.setPageData=function(t){},t}(),_h=function(){function t(t){this.Si=t}return t.prototype.postMessage=function(t,n,i){switch(n[0]){case hr.EvtBundle:Bc(this.Si,n[0],qt(n[1]),i)||Hc(t,n);break;case hr.RequestFrameId:Bc(this.Si,n[0],"[]",i)||Hc(t,n);break;default:A("Unknown message type: "+n[0])}},t}(),Ih=function(t){function i(n,i,r,e,s){void 0===i&&(i=new _h(n.window)),void 0===r&&(r=new Ah(n.window,i)),void 0===e&&(e=Ss),void 0===s&&(s=qc);var o=t.call(this,n,e,void 0,r,s)||this;return o.ic=i,o}return n(i,t),i.prototype.start=function(n,i,r){var e=this;t.prototype.start.call(this,n,i,r),this.rc(),this.st.add(this.Si,"load",!1,function(){e.Cu.recordingIsDetached()&&(A("Recording wrong document. Restarting recording in iframe."),e.rt.recording.splitPage(di.FsShutdownFrame))}),this.Cu.addVisibilityChangeEvent()},i.prototype.onMessageReceived=function(n,i){var r;if(t.prototype.onMessageReceived.call(this,n,i),n===this.Si.parent||n===this.Si)switch(i[0]){case hr.GreetFrame:this.rc(i[1]);break;case hr.SetFrameId:try{var e=i[1];if(!e)return void A("Outer page gave us a bogus frame Id! Iframe: "+Xo(location.href,{source:"log",type:"debug"}));this.ec({frameId:e,parentIds:i[2],outerStartTime:i[3],scheme:i[4],script:i[5],appHost:i[6],orgId:i[7],initConfig:i[8],pageRsp:i[9],consented:i[10],minimumWhen:i[11]})}catch(t){A("Failed to parse frameId from message: "+qt(i))}break;case hr.SetConsent:this.setConsent(i[1]);break;case hr.InitFrameMobile:try{var s=JSON.parse(i[1]),o=s.StartTime,u=void 0;if(i.length>2&&i[2]){var a=i[2];Object.prototype.hasOwnProperty.call(a,"ProtocolVersion")&&a.ProtocolVersion>=20180723&&Object.prototype.hasOwnProperty.call(a,"OuterStartTime")&&(o=a.OuterStartTime),Object.prototype.hasOwnProperty.call(a,"MobileScriptPath")&&(u=a.MobileScriptPath)}var c=s.Host;this.ec({frameId:0,parentIds:[],outerStartTime:o,scheme:"https:",script:null!=u?u:qn(c),appHost:zn(c),orgId:s.OrgId,initConfig:void 0,pageRsp:s.PageResponse,consented:null!==(r=this.On.getConsent())&&void 0!==r?r:hi.RevokeConsent})}catch(t){A("Failed to initialize mobile web recording from message: "+qt(i))}}},i.prototype.rc=function(t){this.Mo&&this.Mo===t||(0!=this.Mo?this.Si.parent?(A("Asking for a frame ID."),this.ic.postMessage(this.Si.parent,[hr.RequestFrameId])):A("Orphaned window."):A("For some reason the outer window attempted to request a frameId"))},i.prototype.ec=function(t){var n,i=this;if(this.Mo)this.Mo!==t.frameId?(A("Updating frame id from "+this.Mo+" to "+t.frameId),this.rt.recording.splitPage(di.FsShutdownFrame)):A("frame Id is already set to "+this.Mo);else if(A("FrameId received within frame "+Xo(location.href,{source:"log",type:"debug"})+":"+t.frameId),this.nt=t.scheme,this.Tu=t.script,this.Ru=t.appHost,this.Ku=t.orgId,this.ju=t.initConfig,this.Mo=t.frameId,this.jo=t.parentIds,t.pageRsp&&nh(t.pageRsp)){if(!this.Iu){var r=t.consented;this.Bu(t.pageRsp,r),this.Du(),this.Ut.enqueueFirst(ph({type:"default"})),this.Ut.enqueueFirst({Kind:$n.SYS_REPORTCONSENT,Args:[r,vi.Document]}),this.Ut.enqueueFirst({Kind:$n.SET_FRAME_BASE,Args:[Xo(No(this.Si),{source:"event",type:$n.SET_FRAME_BASE}),Vt(this.Si.document)]}),this.Ut.enqueue({Kind:$n.SCRIPT_COMPILED_VERSION,Args:["f4c87f3a9eb9197fc451a1867d4d2b41fee48ed1"]}),this.Qu(),this.Ut.rebaseIframe(t.outerStartTime,null!==(n=t.minimumWhen)&&void 0!==n?n:0),this.rt.time.setStartTime(t.outerStartTime),this.Lu&&this.Fu&&this.Hu?this.Ut.startPipeline({frameId:t.frameId,isNewSession:!!t.pageRsp.IsNewSession,orgId:this.Ku,pageId:t.pageRsp.PageIntId,parentIds:t.parentIds,serverPageStart:t.pageRsp.PageStart,sessionId:t.pageRsp.SessionIntId,userId:t.pageRsp.UserIntId}).then(function(){i.Vu(),i.ta(i.Si.document),i.qu()}):A("one or more of userId:"+this.Lu+" | sessionId:"+this.Fu+" | pageId:"+this.Hu+" are undefined")}}else this.shutdown(di.FsShutdownFrame)},i}(th),Eh="fs_cid",Ch=1,Th=function(){function t(t){this.Na=t;var n=this.Na.getValue(Eh,lr),i=n.cookieValue,r=n.localStorageValue,e=i||r;this.sc=function(t){var n={consent:hi.RevokeConsent};if(!t)return n;var i=t.split(".");return i.length<1?n:(i[0],"1"===i[1]?{consent:hi.GrantConsent}:n)}(e)}return t.prototype.getConsentState=function(){return this.sc.consent},t.prototype.setConsentState=function(t){var n;this.sc.consent=t,t!==hi.RevokeConsent?this.Na.setValue(Eh,(n=this.sc.consent,[Ch,n===hi.GrantConsent?1:0].join(".")),new Date(1e3*mn()).toUTCString(),lr):this.Na.clearCookie(Eh,lr)},t}(),xh="fs_lua",Rh=1,Kh=function(){function t(t){this.Na=t;var n=this.Na.getValue(xh,dr),i=n.cookieValue,r=n.localStorageValue;this.sc=function(t,n){var i;return null!==(i=a(t,n,Mh,function(t,n){return(n.lastUserActivityTime||0)>(t.lastUserActivityTime||0)?n:t}))&&void 0!==i?i:{lastUserActivityTime:void 0}}(i,r)}return t.prototype.getLastUserActivityTimeMS=function(){return this.sc.lastUserActivityTime},t.prototype.setLastUserActivityTimeMS=function(t){this.sc.lastUserActivityTime=t,this.Na.setValue(xh,function(t){return[Rh,t].join(".")}(t),new Date(an()+bh).toUTCString(),dr)},t}();function Mh(t){var n={lastUserActivityTime:void 0};if(!t)return n;var i=t.split(".");return i.length<1?n:(i[0],{lastUserActivityTime:Rt(i[1])})}var jh,Ph,Oh="fs_uid",Nh=function(){function t(t,n,i,r){void 0===n&&(n=window),void 0===i&&(i=function(){}),void 0===r&&(r=!1),this.oc=void 0;var e=Rn(n,"_fs_clientstore","object");this.Ra=null!=e?e:new o(n.document,i,r),this.uc=new Th(this.Ra),this.ac=new Kh(this.Ra),this.sc=this.cc(t)}return t.prototype.cc=function(t){var n=this.Ra.getValue(Oh,vr),i=function(t,n,i){return a(t,n,yn,function(t,n){return t.orgId!==i&&n.orgId!==i?null:t.orgId!==i?n:n.orgId!==i?t:n.expirationAbsTimeSeconds>t.expirationAbsTimeSeconds?n:t})}(n.cookieValue,n.localStorageValue,t);return i||{expirationAbsTimeSeconds:mn(),orgId:t,userId:"",sessionId:"",appKeyHash:""}},t.prototype.getConsentStore=function(){return this.uc},t.prototype.clear=function(){this.ac.setLastUserActivityTimeMS(void 0),this.sc.sessionStartTime=this.sc.pageCount=void 0,this.sc.userId=this.sc.sessionId=this.sc.appKeyHash=this.oc="",this.sc.expirationAbsTimeSeconds=mn(),this.hc()},t.prototype.create=function(t){this.ac.setLastUserActivityTimeMS(t.lastUserActivityTime),this.sc=i(i({},this.sc),t),this.hc()},t.prototype.getOrgId=function(){return this.sc.orgId},t.prototype.getUserId=function(){return this.sc.userId},t.prototype.setUserId=function(t){this.sc.userId=t,this.hc()},t.prototype.getSessionId=function(){return this.sc.sessionId},t.prototype.getAppKeyHash=function(){return this.sc.appKeyHash},t.prototype.getCookies=function(){return this.Ra.cookies},t.prototype.setAppId=function(t){this.oc=t,this.sc.appKeyHash=Ac(t),this.hc()},t.prototype.getAppId=function(){return this.oc},t.prototype.setSessionStartTimeMS=function(t){this.sc.sessionStartTime=t,this.hc()},t.prototype.getSessionStartTimeMS=function(){return this.sc.sessionStartTime},t.prototype.setLastUserActivityTimeMS=function(t){this.ac.setLastUserActivityTimeMS(t)},t.prototype.getLastUserActivityTimeMS=function(){return this.ac.getLastUserActivityTimeMS()},t.prototype.setPageCount=function(t){this.sc.pageCount=t,this.hc()},t.prototype.getPageCount=function(){return this.sc.pageCount},t.prototype.getClientStore=function(){return this.Ra},t.prototype.setCookie=function(t,n,i){void 0===i&&(i=new Date(an()+6048e5).toUTCString()),this.Ra.setCookie(t,n,i)},t.prototype.setCookieDomain=function(t,n){var i=n;(_n(i)||i.match(/^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/g))&&(i="");var r=function(t){return Rn(t,"_fs_cookie_domain")}(t);"string"==typeof r&&(i=r),this.Ra.setDomain(i)},t.prototype.setIds=function(t,n,i,r){this.setCookieDomain(t,n),this.sc.userId=i,this.sc.sessionId=r,this.hc()},t.prototype.clearAppId=function(){return!!this.sc.appKeyHash&&(this.oc="",this.sc.appKeyHash="",this.hc(),!0)},t.prototype.encode=function(){var t,n,i,r=[this.sc.userId,null!==(t=this.sc.sessionId)&&void 0!==t?t:"",""+(null!==(n=this.sc.sessionStartTime)&&void 0!==n?n:""),"",""+(null!==(i=this.sc.pageCount)&&void 0!==i?i:"")].join(":"),e=["",this.sc.orgId,r];return this.sc.appKeyHash&&e.push(encodeURIComponent(this.sc.appKeyHash)),e.push("/"+this.sc.expirationAbsTimeSeconds),e.join("#")},t.prototype.hc=function(){var t=this.encode(),n=new Date(1e3*this.sc.expirationAbsTimeSeconds).toUTCString();this.Ra.setValue(Oh,t,n,vr)},t}();function Uh(t,n,i,r,e){if(t&&"object"==typeof t){var s=0,o={};for(var u in t)if(!(u in e)){var a=t[u];e[u]={value:a,apiSource:n,apiVersion:i,schema:r},o[u]=a,s++}if(0!==s)return o}}function Lh(t,n){var i,r,e={},s={};for(var o in n)if(z.objectHasOwnProp(n,o)){if(t()<=0)break;var u=n[o];if(void 0!==u){var a=Fh(o),c=a[0],h=a[1],f=u,v=h;if(Mt(u))f=(i=Lh(t,u))[0],v=i[1];else if(Tt(r=u)&&r.length>0&&r.every(Mt)){f=[],v=[];for(var l=0,d=u;l<d.length;l++){var p=Lh(t,d[l]),g=p[0],w=p[1];f.push(g),v.push(w)}}else"date"===h||Wh(u)?f=Bh(u):Tt(u)&&("dates"===h||u.every(Wh))&&(f=u.map(Bh));e[c]=f,v&&(s[c]=v)}}return[e,s]}function Fh(t){var n=function(t){return /^[a-zA-Z][a-zA-Z0-9_]*$/.test(t)?t:t.replace(/^[^a-zA-Z_]+|[^a-zA-Z0-9_]/g,"")||t}(t),i=n.lastIndexOf("_");if(-1===i)return[n,null];var r,e=n.substring(0,i),s=n.substring(i+1);return r=s,Dh.test(r)?[e,s]:[n,null]}(Ph=jh||(jh={})).TrackEvent="trackEvent",Ph.GetSession="getSession",Ph.Init="init",Ph.Log="log",Ph.Source="source",Ph.Observe="observe",Ph.Restart="restart",Ph.SetIdentity="setIdentity",Ph.SetConfig="setConfig",Ph.SetPage="setPage",Ph.SetProperties="setProperties",Ph.Shutdown="shutdown",Ph.Start="start",Ph.Stat="stat";var Hh,Dh=/^(?:bool|date|int|obj|real|str)s?$/;function Bh(t){if(null!=t){var n=Wh(t)?t:new Date(t);try{return n.toISOString()}catch(n){if("string"==typeof t)return t}}return null}function Wh(t){return null!=t&&t.constructor===Date}function zh(t,n,i,r,e,s){var o,u,a,c,h=1500,f=function(){return--h};return i?(a=(o=qh(f,n,i))[0],c=o[1]):(a=(u=Lh(f,n))[0],c=u[1]),h<0&&A("Too many properties for ["+t+"] API call"),t===Ri.Document?{properties:Uh(a,r,e,c,s),schema:c}:{properties:a,schema:c}}function qh(t,n,i){var r={},e={};function s(t,n,i){r[t]=n,i&&(e[t]=i)}for(var o in n)if(z.objectHasOwnProp(n,o)){if(t()<=0)break;var u=n[o],a=i[o];if(Mt(u)){var c=qh(t,u,a||{}),h=c[0],f=c[1];r[o]=h,a&&(e[o]=f)}else Pt(u)?s(o,jt(u),a):Tt(u)&&xt(u,Pt)?s(o,u.map(jt),a):s(o,u,a)}return[r,e]}function $h(t,n,i,r,e,s){var o=qt(n),u=r?qt(r):void 0,a="fs"!==i?i:void 0;switch(t){case Ri.Event:return{Kind:$n.SYS_CUSTOM,Args:[s,o,a,e,u]};case Ri.Document:case Ri.Page:case Ri.User:return{Kind:$n.SYS_SETVAR,Args:[t,o,a,e,u]};default:oo(0,"Unsupported")}}var Vh=function(){function t(){this.fc={}}return t.prototype.unloadCrossPageVars=function(t){switch(t){case di.Hibernation:case di.Size:break;default:this.vc=void 0}},t.prototype.getCrossPageVars=function(){return this.vc},t.prototype.getDocumentVars=function(){var t,n={};for(var r in this.fc){var e=this.fc[r],s=e.value,o=e.apiSource,u=e.schema,a=e.apiVersion;(l=null!==(t=n[h=(null!=o?o:"")+"$$$"+(null!=a?a:"")])&&void 0!==t?t:{properties:{}}).properties[r]=s,u&&(l.schema=i(i({},l.schema),u)),n[h]=l}var c=[];for(var h in n){var f=h.split("$$$"),v=(o=f[0],f[1]),l=n[h];Gh(c,$h(Ri.Document,l.properties,""===o?void 0:o,l.schema,Rt(v)))}return c},t.prototype.api=function(t,n){var i,r={events:[],reidentify:!1},e=[];try{var s=function(t){switch(t.operation){case jh.TrackEvent:return Ri.Event;case jh.SetPage:return Ri.Page;case jh.SetProperties:var n=t.option.type;switch(n){case Ri.Document:case Ri.Page:case Ri.User:return n;default:return oo(0,"Invalid scope: "+n)}default:oo(0,"Unsupported")}}(t),o=null===(i=t.source)||void 0===i?void 0:i.integration;if(!function(t,n){switch(t){case Ri.Event:var i=n.option.name;return"string"==typeof i||(A("Custom event name invalid: "+i),!1);case Ri.Document:case Ri.Page:return!0;case Ri.User:var r=n.option.properties;return"object"==typeof r||(A("Expected argument of type 'object' instead got type: '"+typeof r+"', value: "+qt(r)),!1);default:oo(0,"Unsupported")}}(s,t))return r;var u=function(t,n,i){var r=n.option.properties,e=function(t,n){var i=n.option.schema;if(2===n.apiVersion){var r=Kt(i)&&"properties"in i?i.properties:{};return Kt(r)?r:{}}}(0,n);if(t===Ri.Event)return{rawProps:r,eventName:n.option.name,rawSchema:e};if(t!==Ri.User||!("uid"in r))return{rawProps:r,rawSchema:e};var s=r.uid;if(!1===s)return delete r.uid,{rawProps:r,rawSchema:e,reidentify:!!i,nextAppId:""};var o=function(t,n){var i=t;if("number"==typeof i&&z.mathFloor(i)==i&&(A("Expected appId of type 'string' instead got value: "+i+" of type: "+typeof i),i=""+i),"string"!=typeof i)return A("blocking FS.identify API call; uid value ("+i+") must be a string"),[void 0,Mi.FsId];var r=i.trim();if(pn.indexOf(r.toLowerCase())>=0)return A("blocking FS.identify API call; uid value ("+r+") is illegal"),[void 0,Mi.FsId];var e=Ac(r),s=void 0;return n&&n!==e&&n!==r&&(A("user re-identified; existing uid hash ("+n+") does not match provided uid ("+r+")"),s=Mi.NewUid),[r,s]}(s,i),u=o[0],a=o[1];if(u)return r.uid=u,{rawProps:r,rawSchema:e,nextAppId:u,reidentify:a===Mi.NewUid};switch(a){case Mi.FsId:case void 0:break;default:A("unexpected failReason returned from setAppId: "+a)}}(s,t,n);if(!u)return r;var a=u.rawProps,c=u.rawSchema,h=u.reidentify,f=u.nextAppId,v=u.eventName,l=zh(s,null!=a?a:{},c,o,t.apiVersion,this.fc),d=l.properties,p=l.schema;if(!d&&s===Ri.Document)return r;var g=$h(s,null!=d?d:{},o,p,t.apiVersion,v);return Gh(e,function(t,n){var i=Qh[t];if(i)return ph({source:n,type:"api",entrypoint:i})}(s,t.source)),Gh(e,g),s===Ri.Page&&(this.vc=g),{events:e,reidentify:!!h,appId:f}}catch(n){return A("unexpected exception handling "+t.operation+" API call: "+n.message),r}},t}();function Gh(t,n){n&&t.push(n)}var Qh=((Hh={})[Ri.User]="setVars",Hh[Ri.Event]="event",Hh),Xh=ma||ya;function Yh(t,n){return r(this,void 0,Vr,function(){var r,s,o,u,a,c;return e(this,function(e){switch(e.label){case 0:if(e.trys.push([0,2,,3]),function(t){return!!Rn(t,"_fs_use_polyfilled_apis","boolean")}(t))return[2,i(i({},n),{status:x.Clean})];if(!t.document||n.status!==x.Unknown)return[2,n];if(r=function(t,n){var r,e,s=n.functions,o={},u=i({},n.helpers);if(u.functionToString=function(t,n){var i,r,e=null===(i=t["__core-js_shared__"])||void 0===i?void 0:i.inspectSource;if(e){var s=function(){return e(this)};if(Zh(s,2))return s}var o=null===(r=t["__core-js_shared__"])||void 0===r?void 0:r["native-function-to-string"];if(Zh(o))return o;var u=n.__zone_symbol__OriginalDelegate;return Zh(u)?u:Zh(n)?n:void 0}(t,u.functionToString),!u.functionToString)return n;var a=!1;for(var c in s)if(s[c]){if(o[c]=rf(u.functionToString,null===(r=W[c])||void 0===r?void 0:r.call(W,t),s[c]),o[c]||(o[c]=ef(u.functionToString,null===(e=W[c])||void 0===e?void 0:e.call(W,t),u,c)),!o[c])return n;o[c]!==s[c]&&(a=!0)}else o[c]=void 0;return{status:x.Clean,functions:a?o:s,helpers:u,errors:[]}}(t,n),r.status===x.Clean)return[2,r];A("The window is dirty; rebuilding Windex from a fresh global."),(s=t.document.createElement("iframe")).id="FullStory-iframe",s.className="fs-hide",s.style.display="none",o=t.document.body||t.document.head||t.document.documentElement||t.document;try{o.appendChild(s)}catch(t){return A("windex iframe failed to be added to page, skipping snapshot."),[2,i(i({},n),{status:x.Clean})]}return s.contentWindow?(u=q(s.contentWindow,x.Clean),a=Et(s),Xh&&a&&a.removeChild(s),u.status===x.UnrecoverableFailure?(A("windex iframe is unrecoverable, using original snapshot."),[2,i(i({},n),{status:x.Clean})]):[4,Jh(u,n)]):(A("windex iframe has no contentWindow, skipping snapshot."),[2,i(i({},n),{status:x.Clean})]);case 1:return[2,e.sent()];case 2:return c=e.sent(),ye.send(c,"error"),[2,i(i({},n),{status:x.Clean})];case 3:return[2]}})})}function Jh(t,n){var r,e=new Vr(function(t){return r=t});return setTimeout(function(){try{t.functions.jsonParse("[]").push(0)}catch(t){r(i(i({},n),{status:x.Clean}))}r(t)}),e}function Zh(t,n){var i;if(void 0===n&&(n=0),!t)return!1;try{t.call(function(){})}catch(t){return!1}var r=function(t){try{return void t.call(null)}catch(t){return(t.stack||"").replace(/__fs_nomangle_check_stack(.|\n)*$/,"")}},e=void 0;0!==n&&"number"==typeof Error.stackTraceLimit&&(e=Error.stackTraceLimit,Error.stackTraceLimit=Number.POSITIVE_INFINITY);var s=[function(){throw new Error("")},t],o=function __fs_nomangle_check_stack(){return s.map(r)}(),u=o[0],a=o[1];if(void 0!==e&&(Error.stackTraceLimit=e),!u||!a)return!1;for(var c="\n".charCodeAt(0),h=u.length>a.length?a.length:u.length,f=1,v=f;v<h;v++){var l=u.charCodeAt(u.length-v),d=a.charCodeAt(a.length-v);if(l!=d)break;d!=c&&v!=h-1||(f=v)}return(null!==(i=a.slice(0,a.length-f+1).match(/\.js:\d+([:)]|$)/gm))&&void 0!==i?i:[]).length<=n}function tf(t,n,i){var r="[native code]";try{return t.call(n).indexOf(r)>=0}catch(n){if(i)return t.call(i).indexOf(r)>=0;throw n}}var nf=["__zone_symbol__OriginalDelegate","nr@original"];function rf(t,n,i){if(i){for(var r=0,e=nf;r<e.length;r++){var s=i[e[r]];if("function"==typeof s&&tf(t,s,n))return s}return tf(t,i,n)?i:void 0}}function ef(t,n,i,r){if("arrayIsArray"===r){var e=rf(t,n,i.objectToString);if(!e)return;return i.objectToString=e,function(t){return"[object Array]"==e.call(t)}}}var sf=function(){function t(t,n){void 0===n&&(n=function(t){return new WebSocket(t)}),this.lc=n,this.dc=!1,this.gc=!1,this.Ut={},this.wc=1,this.rt=t,this.nt=t.options.scheme,this.it=t.options.cdnHost}return t.isSupported=function(){return"WebSocket"in window},t.prototype.page=function(t){var n=this;return new Vr(function(i,r){n.mc({Cmd:Xi.Page,Page:t},ve(n.rt),function(t){t.Cmd===Ji.Page?i(t.Page):(A("socket: unexpected page response: "+t.Cmd),r(t.Cmd))},r)})},t.prototype.settings=function(t){var n=Fn(this.rt.window);if(n)return Vr.resolve(n);var i=t.previewMode?ve(this.rt):this.it;return fe(this.rt.window,this.nt,i,t)},t.prototype.bundle=function(t){return r(this,void 0,Vr,function(){var n,i,r,s=this;return e(this,function(e){switch(e.label){case 0:return[4,Yr()];case 1:return e.sent(),n=t.deltaT,i=t.serverPageStart,r=t.serverBundleTime,[2,new Vr(function(e,o){var u=ve(s.rt);of(t.recHost,u);var a=s.mc({Cmd:Xi.Bundle,Bundle:{Bundle:t.bundle,DeltaT:null===n?void 0:n,OrgId:t.orgId,PageId:t.pageId,PageStart:null==i?void 0:i,PrevBundleTime:null==r?void 0:r,Seq:t.bundle.Seq,SessionId:t.sessionId,UserId:t.userId}},u,function(t){t.Cmd===Ji.Bundle?e([null!=a?a:0,t.Bundle]):A("socket: unexpected bundle response: "+t.Cmd)},o)})]}})})},t.prototype.bundleBeacon=function(t){var n=ve(this.rt);return of(t.recHost,n),ae(this.nt,n,t)},t.prototype.exponentialBackoffMs=function(t,n){var i=z.mathMin(tr.BackoffMax,5e3*z.mathPow(2,t));return n?i+.25*z.mathRandom()*i:i},t.prototype.mc=function(t,n,i,r){var e=t;e.Seq=this.wc++;var s=qt(e);return this.Ut[e.Seq]={payload:s,win:i,lose:r},this.yc(n),s.length},t.prototype.bc=function(t){var n;try{n=Gt(t)}catch(t){return void A("socket: error parsing frame: "+t)}var i=this.Ut[n.Seq];delete this.Ut[n.Seq],i?n.Cmd===Ji.Error?(A(n.Fail.Error),i.lose(new ei(n.Fail.Status,n.Fail.Error))):i.win(n):A("socket: mismatched request seq "+n.Seq+"; ignoring")},t.prototype.Sc=function(){if(this.gc){if(this.kc)for(var t in this.Ut){var n=this.Ut[t];n.sent||(this.kc.send(n.payload),n.sent=!0)}else A("socket: attempt to drain queue when no socket connection.");}else A("socket: attempt to drain queue when disconnected.")},t.prototype.Ac=function(){for(var t in this.Ut){var n=this.Ut[t];n.sent&&(delete this.Ut[t],n.lose(new ei(0,"Pending request")))}},t.prototype.yc=function(t){var n=this;if(this.gc)this.Sc();else if(!this.dc){this.dc=!0;var i=("https:"==this.nt?"wss:":"ws:")+"//"+t+"/rec/sock";this.kc=this.lc(i),this.kc.onopen=function(t){n.dc=!1,n.gc=!0,n.Sc()},this.kc.onmessage=function(t){n.bc(t.data),n.Sc()},this.kc.onclose=function(t){A("socket: closed; reconnecting"),n.dc=n.gc=!1,n.Ac()},this.kc.onerror=function(t){A("socket: error; reconnecting"),n.dc=n.gc=!1,n.Ac()}}},t}();function of(t,n){t&&ke(n===t,"sock recHost mismatch")}var uf=function(){function t(t){this._c=!1,this.au=t}return t.prototype.flush=function(){this.au(),this._c=!1},t.prototype.schedule=function(){var t=this;this._c||(this._c=!0,Vr.resolve().then(function(){t.flush()})["catch"](function(t){return ye.send(t,"error")}))},t}(),af=function(){function t(){this.Ic={start:[],shutdown:[],"internal/bundle":[],"internal/error":[],"internal/fs-init":[]}}return t.prototype.registerListener=function(t,n){var i;if(-1===rh.indexOf(t)||!n)throw new Error("Invalid event type or missing callback.");var r={disconnected:!1,callback:n},e=(null!==(i=this.Ic[t])&&void 0!==i?i:[]).filter(function(t){return!t.disconnected});return e.push(r),this.Ic[t]=e,{disconnect:function(){r.disconnected=!0}}},t.prototype.hasListeners=function(t){var n;return(null!==(n=this.Ic[t])&&void 0!==n?n:[]).length>0&&this.Ic[t].some(function(t){return!t.disconnected})},t.prototype.takeRecords=function(t){var n,i=null!==(n=this.Ic[t.type])&&void 0!==n?n:[];if(0!==i.length)for(var r=0,e=i;r<e.length;r++){var s=e[r],o=s.disconnected,u=s.callback;if(!o)try{u(t.data)}catch(t){ye.send("Recording observer callback error","error",{err:t})}}},t}(),cf=function(){function t(t){var n=this;this._i=t,this.Ut=[],this.vu=new uf(function(){n.au()})}return t.prototype.addEvent=function(t){this._i.hasListeners(t.type)&&(this.Ut.push(t),this.vu.schedule())},t.prototype.au=function(){for(var t=0,n=this.Ut;t<n.length;t++){var i=n[t];this._i.takeRecords(i)}this.Ut=[]},t}();function hf(t){if(t===top||Un(t)||function(t){return!!Rn(t,"_fs_run_in_iframe","boolean")}(t)||Ln(t))return!0;try{return t.parent.document,hf(t.parent)}catch(t){}return!1}function ff(t){return!S&&t.postMessage&&t.MutationObserver&&z.mutationObserver&&vf(t.Map)&&vf(t.Set)&&vf(t.WeakMap)&&z.snapshot.status!==x.UnrecoverableFailure?!!hf(t)||(A("FullStory recording for this page is NOT allowed within an iFrame."),!1):(function(t){try{t.snapshot.status===x.UnrecoverableFailure&&(l||ye.send(t.snapshot.errors[0],"error"),t.snapshot.errors.forEach(A))}catch(t){}}(z),A("missing required browser features"),!1)}function vf(t){try{if(t)return new t,!0}catch(t){}return!1}var lf=function(t,n){var i,r,e;switch(n){case"url.now":return null!==(i=t.getCurrentSessionURL(!0))&&void 0!==i?i:null;case"id":return null!==(r=t.getCurrentSession())&&void 0!==r?r:null;default:return null!==(e=t.getCurrentSessionURL())&&void 0!==e?e:null}};function df(t,n){switch(t){case"getSession":case"init":case"observe":case"restart":case"setConfig":case"setIdentity":case"shutdown":case"source":case"start":case"trackEvent":return{operation:t,option:n};case"setPage":return{operation:t,option:{properties:e=(i=n).properties||i}};case"stat":return{operation:t,option:{event_type:(i=n).eventType||i.event_type,properties:i.payload||i.properties}};case"log":var i=n;return z.arrayIsArray(n)&&(i={level:n[0],msg:n[1]}),{operation:t,option:i};case"setVars":case"setProperties":var r=jh.SetProperties;return i=n,z.arrayIsArray(n)&&(i={type:n[0],properties:e=n[1]}),{operation:r,option:i};case"event":return i=n,n&&"object"==typeof n&&"n"in n&&(i={name:n.n,properties:n.p}),{operation:r=jh.TrackEvent,option:i};case"user":var e=n;return{operation:r=jh.SetProperties,option:{type:"user",properties:e}};case"consent":var s=n;return{operation:r=jh.SetIdentity,option:{consent:s}};case"rec":return n?{operation:jh.Restart}:{operation:r=jh.Shutdown};default:A("Unrecognized api: "+t)}}var pf="must be an object";function gf(t){return!!t&&"object"==typeof t}function wf(t,n){return n in t}function mf(t,n){return"Init Api - invalid "+t+" config, "+n}function yf(t){var n;if(!t||"object"!=typeof t)return!1;var i=t;return bf(i.target,["any","exclude","mask"])&&bf(i.tag)&&bf(i.action,["erase","maskText","scrubUrl","scrubCss"])&&bf(null!==(n=i.type)&&void 0!==n?n:"static",["static","prefix"])}function bf(t,n){return void 0===n&&(n=[]),"string"==typeof t&&(0===n.length||-1!==n.indexOf(t))}function Sf(t,n){return t("function"==typeof n?n():n)}function kf(t,n,i,r){return void 0===r&&(r=tr.DefaultRecDisabledMessage),{commit:function(n){if(t)return Sf(Y(t),null!=n?n:i)},discard:function(t){if(n)return Af(Y(n),null!=t?t:r)}}}function Af(t,n){if(void 0===n&&(n=tr.DefaultRecDisabledMessage),t){var i=n;try{i=new Error(n)}catch(t){}Sf(Y(t),i)}}function _f(t,n,i){void 0===n&&(n=!1);for(var r=0,e=t.commit;r<e.length;r++){var s=e[r];n?s.discard(i):s.commit()}for(var o=0,u=t.discard;o<u.length;o++)(s=u[o]).discard(i);t.commit=[],t.discard=[]}var If=[jh.GetSession,jh.Observe,jh.SetProperties,jh.Source,jh.TrackEvent],Ef=[jh.Observe];function Cf(t,n){try{var i=t[1],r=t[3],e=void 0===r?tt:r,s=i,o=s.type,u=s.callback;e(n.registerListener(o,u))}catch(t){}}var Tf=function(t){function i(n){void 0===n&&(n=250);var i=t.call(this)||this;return i.Ec=z.mathMax(0,n),i}return n(i,t),i.prototype.Pn=function(){var t=this;(function(t){return r(this,void 0,Vr,function(){var n;return e(this,function(i){switch(i.label){case 0:return(n=z.requestWindowIdleCallback)?[2,new Vr(function(i){n(window,i,{timeout:t})})]:[4,Qr(t)];case 1:return i.sent(),[2,Zr(42)]}})})})(this.Ec).then(function(n){n.didTimeout?Yr().then(function(){return t.jn(Zr(32))}):t.jn(n)})},i}(Gs),xf=function(t){function i(n){var i=t.call(this)||this;return i.Si=n,i}return n(i,t),i.prototype.Pn=function(){var t=this;Jr().then(function(){te(t.Si).then(function(){var n=Zr(32);t.jn(n)})})},i}(Gs),Rf=function(){function t(){}return t.prototype.createTopRecorder=function(t){var n=Rn(t.window,"_fs_use_socket","boolean")&&sf.isSupported()?new sf(t):new ne(t);return new kh(t,n)},t.prototype.createInnerRecorder=function(t){return new Ih(t)},t}(),Kf=function(){function t(t,n){void 0===t&&(t=window),void 0===n&&(n=new Rf),this.Si=t,this.Cc=n,this.nt="https:",this.Tc=!1,this.xc=!0,this.Rc=new Vh,this.Kc=er.Shutdown,this.Mc={commit:[],discard:[]},this.jc=new af,this.Pc=new cf(this.jc)}return t.prototype.init=function(){var t,n;kn(this.Si)||(C(this.Si,N),t=this.Si,n=Sn(this.Si),t._fs_loaded=n,n in t||(t[n]={}),function(t){r(this,void 0,Vr,function(){var n;return e(this,function(i){switch(i.label){case 0:return[4,Yh(t,z.snapshot)];case 1:return n=i.sent(),z.rebuildFromSnapshot(n),[2]}})})}(this.Si),this.Oc(),this.Nc(),T(this.Si,N),this.Pc.addEvent({type:Jc.INTERNAL_FS_INIT,data:{}}))},t.prototype.Uc=function(){var t=function(t){var n={orgId:On(t)||"",script:Kn(t)||"",recHost:jn(t)||"",cdnHost:Mn(t)||"",appHost:Pn(t)||"",captureOnStartup:Nn(t)};return n.orgId&&-1===n.orgId.indexOf("FULLSTORY_KEY")?n.script?n.recHost?n.cdnHost?n.appHost?(A("\n    script: "+n.script+"\n    recording host: "+n.recHost+"\n    cdn host: "+n.cdnHost+"\n    orgid: "+n.orgId+"\n    captureOnStartup: "+n.captureOnStartup+"\n  "),n):(A("Missing global _fs_host or _fs_app_host. Recording disabled."),null):(A("Missing global _fs_host or _fs_rec_settings_host. Recording disabled."),null):(A("Missing global _fs_host or _fs_rec_host. Recording disabled."),null):(A("Missing global _fs_host or _fs_script. Recording disabled."),null):(A("Missing global _fs_org. Recording disabled."),null)}(this.Si);if(null===t)return!1;var n=t.appHost,i=t.cdnHost,r=t.orgId,e=t.recHost,s=t.script,o=t.captureOnStartup;return this.Ru=n,this.it=i,this.Ku=r,this.xu=e,this.Tu=s,this.Lc=o,"localhost:8080"==this.xu&&(this.nt="http:"),this.Fc=function(t,n){var i,r=Ln(n);return Un(n)?i=!1:n!==top?i=!0:r?t&&r.init&&r.init(t)&&(i=!0):i=!1,i}(r,this.Si),void 0===this.Fc?(A("Iframe Status could not be determined. Recording disabled."),!1):ff(this.Si)},t.prototype.getCurrentSessionURL=function(t){return this.Hc(t?"url.now":"url")},t.prototype.getCurrentSession=function(){return this.Hc("id")},t.prototype.Hc=function(t){return this.Dc?lf(this.Dc,t):null},t.prototype.enableConsole=function(){this._api(jh.SetConfig,{console:!0})},t.prototype.disableConsole=function(){this._api(jh.SetConfig,{console:!1})},t.prototype.restart=function(){this._api(jh.Restart)},t.prototype.shutdown=function(){this._api(jh.Shutdown)},t.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._api(jh.Log,t)},t.prototype.Bc=function(t){void 0===t&&(t=di.Api),this.Kc=er.Shutdown,this.Dc&&!this.Wc?(this.Dc.shutdown(t),this.Dc=null,this.Fc||this.Rc.unloadCrossPageVars(t),this.Pc.addEvent({type:Jc.SHUTDOWN,data:{reason:t}})):A("Recording already shut down.")},t.prototype.zc=function(){if(this.xc)return this.Wc?(this.Wc(),void(this.Wc=null)):void(this.Dc?A("Recording already started."):this.qc(!0));A("Recording is not supported.")},t.prototype.Co=function(t,n){return r(this,void 0,Vr,function(){return e(this,function(i){switch(i.label){case 0:return n&&null==this.za?(A("Can't re-identify from an iframe"),[2]):this.Kc===er.Starting?(this.$c=[t,n],[2]):(this.Bc(t),[4,Qr(0)]);case 1:return i.sent(),[4,Qr(0)];case 2:return i.sent(),n&&this.za&&jf(this.za),this.zc(),[2]}})})},t.prototype._api=function(t,n,i,r,e,s){if(this.xc&&this.Kc!==er.Fatal){var o,u="start"===t||"restart"===t,a=[t,n,i,r||function(t){o=t},e,s];if(!e||this.Kc!==er.Shutdown||u)return!this.Dc||this.$c?(Dn(this.Si,a),void(u&&this.zc())):(this.Vc(a),o);Af(e,tr.ShutdownMessage)}else Af(e)},t.prototype.Vc=function(t){var n;if(this.Dc){var i=null!==(n=this.Gc(this.Dc,[t]))&&void 0!==n?n:{reidentified:!1,applyApi:function(){}},r=i.applyApi,e=i.sideEffects,s=i.initConfig,o=i.recordingShouldBeEnabled,u=i.reidentified,a=i.nextAppId;Mf(this.za,u,a),u?(Dn(this.Si,t),this.Co(di.Reidentify,!0)):this.Qc(this.Dc,{applyApi:r,sideEffects:e,initConfig:s,recordingShouldBeEnabled:o}),void 0!==o&&(o?this.zc():this.Bc(di.Api))}},t.prototype.Gc=function(t,n){var i;return function(t,n){for(var i,r,e,s,o,u,a,c,h=n.inFrame,f=n.initConfig,v=n.recorder,l=n.recordingObserver,d=n.state,p=n.vars,g=n.appHashKey,w=function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i],s=e[0],o=e[1],u=e[2],a=e[3],c=e[4],h=e[5],f=df(s,o);f&&(f.source="string"==typeof u?{integration:u}:u,f.resolve=a,f.reject=c,f.apiVersion=2===h?2:1,n.push(f))}return n}(t),m=[],y=!1,b=!1,S=[],k=[],_=function(t){if(p){var n=function(t,n){switch(n){case"":return"";case void 0:return t;default:return Ac(n)}}(g,a),i=p.api(t,n),r=i.events,e=i.reidentify,s=i.appId;e&&(m=[],y=!0,k.push.apply(k,S),S=[]),void 0!==s&&(a=s),m.push.apply(m,r)}},I=function(t,n){!1!==s||-1!==Ef.indexOf(t.operation)?S.push(kf(t.resolve,t.reject,n)):k.push(kf(t.resolve,t.reject,n))},E=function(t,n){k.push(kf(t.resolve,t.reject,void 0,n))},C=function(t){try{if(A("Processing api: "+t.operation),h&&(O=t,-1===If.indexOf(O.operation)||O.operation===jh.SetProperties&&O.option.type!==Ri.Document)){var n="FS."+t.operation+"() is not available in an inner frame";return b||(b=!0,A(n)),E(t,n),"continue"}switch(t.operation){case jh.Restart:case jh.Start:s=!0,I(t);break;case jh.Shutdown:I(t),s=!1;break;case jh.Log:var a=t.option,p=a.level,g=(n=a.msg,v.console().logEvent(null!=p?p:"log",n?[n]:[],"fs"));g&&m.push(g),I(t);break;case jh.SetIdentity:var w=function(n){_({operation:jh.SetProperties,option:n,source:t.source,resolve:t.resolve,reject:t.reject,apiVersion:t.apiVersion})};t.option&&"object"==typeof t.option?(Object.prototype.hasOwnProperty.call(t.option,"consent")&&(u=null!==(i=t.option.consent)&&void 0!==i&&i),Object.prototype.hasOwnProperty.call(t.option,"uid")&&w({type:"user",properties:{uid:t.option.uid}}),Object.prototype.hasOwnProperty.call(t.option,"properties")&&w({type:"user",properties:null!==(r=t.option.properties)&&void 0!==r?r:{}}),(null===(e=t.option)||void 0===e?void 0:e.anonymous)&&w({type:"user",properties:{uid:!1}})):w({type:"user",properties:{uid:t.option}}),I(t);break;case jh.TrackEvent:case jh.SetPage:case jh.SetProperties:_(t),I(t);break;case jh.GetSession:I(t,function(){var n;return lf(v,null===(n=t.option)||void 0===n?void 0:n.format)});break;case jh.SetConfig:var y=t.option.console;o=y,I(t);break;case jh.Stat:var S=t.option,k=S.event_type,C=S.properties;m.push(function(t,n){var i=tr.DefaultStatsSettings,r=i.MaxEventTypeLength,e=i.MaxPayloadLength,s="string"==typeof t?t.trim().slice(0,r):"";return{Kind:$n.STATS,Args:[s,uu(ds(n,e))]}}(k,C)),I(t);break;case jh.Observe:var T=t.option,x=T.type,R=T.callback;I(t,null==l?void 0:l.registerListener(x,R));break;case jh.Source:var K=ph({source:t.option.source,type:"default",entrypoint:"source"});m.push(K),I(t);break;case jh.Init:if(d!==er.Shutdown){A(n="Capture already started - init rejected."),E(t,n);break}if(void 0!==c||void 0!==f){A(n="Multiple calls to init - init rejected."),E(t,n);break}var M=function(t){var n,i={recoverable:[],unrecoverable:[]};if(!gf(t))return i.unrecoverable.push(mf("options",pf)),[i,null];var r={};if(wf(t,"privacy")){var e=function(t){var n="privacy.attributeBlocklist",i=[];if(!gf(t))return i.push(mf("privacy",pf)),[i,void 0];if(!wf(t,"attributeBlocklist"))return[i,void 0];if(!Tt(t.attributeBlocklist))return i.push(mf(n,"must be an array")),[i,void 0];for(var r={attributeBlocklist:[]},e=0,s=t.attributeBlocklist;e<s.length;e++){var o=s[e];yf(o)?r.attributeBlocklist.push(o):i.push(mf(n,"invalid rule: "+ds(o)))}return[i,r]}(t.privacy),s=e[0],o=e[1];(n=i.recoverable).push.apply(n,s),r.privacy=o}return[i,r]}(t.option),j=M[0],P=M[1];if(j.unrecoverable.length>0||null===P){A(n="Init config rejected: "+j.unrecoverable.join(",\n")),E(t,n);break}j.recoverable.length>0&&A(n="Init config partially rejected: "+j.recoverable.join(",\n")),c=P,I(t);break;default:oo(0,"invalid operation")}}catch(i){ye.send(i,"error"),A((n="unknown error evaluating API")+" "+i),E(t,n)}var O},T=0,x=w;T<x.length;T++)C(x[T]);return{applyApi:function(){for(var t=v.queue(),n=0,i=m;n<i.length;n++){var r=i[n];t.enqueue(r)}void 0!==u&&v.setConsent(u),void 0!==c&&v.setInitConfig(c),"boolean"==typeof o&&(o?v.console().start({ConsoleWatcher:!0}):v.console().stop())},initConfig:c,recordingShouldBeEnabled:s,reidentified:y,nextAppId:a,sideEffects:{commit:S,discard:k}}}(n,{appHashKey:null===(i=this.za)||void 0===i?void 0:i.getAppKeyHash(),inFrame:this.Fc,initConfig:this.ju,recorder:t,recordingObserver:this.jc,state:this.Kc,vars:this.Rc})},t.prototype.Qc=function(t,n){var i,r,e=n.applyApi,s=n.sideEffects,o=n.initConfig,u=n.recordingShouldBeEnabled;e(),t.getIsSessionReady()||!1===u?_f(s,!1,!1===u?tr.ShutdownMessage:void 0):((i=this.Mc.commit).push.apply(i,s.commit),(r=this.Mc.discard).push.apply(r,s.discard)),void 0!==o&&(this.ju=o)},t.prototype._cookies=function(){return this.za?this.za.getCookies():(A("Error in FS integration: Can't get cookies from inside an iframe"),null)},t.prototype._setCookie=function(t,n){this.za?this.za.setCookie(t,n):A("Error in FS integration: Can't set cookies from inside an iframe")},t.prototype._withEventQueue=function(t,n){if(this.Dc){var i=this.Dc.queue(),r=this.Dc.pageSignature();null!=i&&null!=r?t===r?n(i):A(ds({msg:"Error in _withEventQueue: Page Signature mismatch",pageSignature:r,callerSignature:t},1024)):A("Error getting event queue or page signature: Recorder not initialized")}else A("Error in FS integration: Recorder not initialized")},t.prototype._withRecorder=function(t,n){if(this.Dc){var i=this.Dc.pageSignature();null!==i?void 0===t||t===i?n(this.Dc):A(ds({msg:"Error in _withRecorder: Page Signature mismatch",pageSignature:i,callerSignature:t},1024)):A("Error getting page signature: Recorder not initialized")}else A("Error in FS integration: Recorder not initialized")},t.prototype.Oc=function(){var t=An(this.Si);if(t)for(var n=0,i=["disableConsole","enableConsole","getCurrentSession","getCurrentSessionURL","log","restart","shutdown","_api","_withEventQueue","_withRecorder","_cookies","_setCookie"];n<i.length;n++){var r=i[n];t[r]=zt(this[r],this,Wt)}else A("Missing browser API namespace; couldn't initialize API.")},t.prototype.Nc=function(){var t=this;A("script version f4c87f3a9eb9197fc451a1867d4d2b41fee48ed1 (compiled at 1704278514)"),this.xc=this.Uc(),this.xc?(this.qc(!1),this.Xc(),this.Si.addEventListener("message",ye.wrap(function(n){return t.Yc(n)}))):function(t,n,i){A("Shutting down recorder.");for(var r=0,e=Hn(t);r<e.length;r++){var s=e[r],o=s[0],u=s[4];-1!==Ef.indexOf(o)?o===jh.Observe&&Cf(s,n):Af(u)}i.addEvent({type:Jc.SHUTDOWN,data:{reason:di.SettingsBlocked}})}(this.Si,this.jc,this.Pc)},t.prototype.Jc=function(){var t=this;this.Ku&&(this.za=new Nh(this.Ku,this.Si,function(n){for(var i,r=0,e=n;r<e.length;r++){var s=e[r];null===(i=t.Dc)||void 0===i||i.queue().enqueue({Kind:$n.STORAGE_WRITE_FAILURE,Args:s})}},this.Fc))},t.prototype.Yc=function(t){if("string"==typeof t.data&&(t.source==this.Si.parent||t.source==this.Si))switch(Dc(t.data)[0]){case hr.ShutdownFrame:this.Bc(di.FsShutdownFrame);break;case hr.RestartFrame:this.zc()}},t.prototype.Zc=function(t,n){var i,r=this,e=z.mathRound(null!==(i=Y(function(){var t;return null===(t=window.performance)||void 0===t?void 0:t.now()})())&&void 0!==i?i:-1);return{window:this.Si,time:new _s,measurer:new xf(this.Si),taskQueue:new Tf(2e3),options:{appHost:this.Ru,orgId:this.Ku,recHost:this.xu,cdnHost:this.it,scheme:this.nt,script:this.Tu},recording:{bundleApiVersion:function(){var n,i;return null!==(i=null===(n=t())||void 0===n?void 0:n.getBundleApiVersion())&&void 0!==i?i:"v1"},bundleUploadInterval:function(){var n,i;return null!==(i=null===(n=t())||void 0===n?void 0:n.bundleUploadInterval())&&void 0!==i?i:tr.DefaultBundleUploadInterval},flags:function(){var n,i;return(null===(i=null===(n=t())||void 0===n?void 0:n.getPageResponse())||void 0===i?void 0:i.Flags)||{}},getCurrentSessionURL:function(n){var i,r;return null!==(r=null===(i=t())||void 0===i?void 0:i.getCurrentSessionURL(n))&&void 0!==r?r:null},identity:this.za,inFrame:n,observer:this.Pc,pageResponse:function(){var n;return null===(n=t())||void 0===n?void 0:n.getPageResponse()},pageSignature:function(){var n,i;return null!==(i=null===(n=t())||void 0===n?void 0:n.pageSignature())&&void 0!==i?i:null},preroll:e,splitPage:function(t){return r.Co(t,!1)},vars:this.Rc},queue:function(){var n;return null===(n=t())||void 0===n?void 0:n.queue()}}},t.prototype.th=function(t,n){if(n){for(var i=0,r=this.Rc.getDocumentVars();i<r.length;i++){var e=r[i];t.enqueue(e)}var s=this.Rc.getCrossPageVars();void 0!==s&&t.enqueue(s)}},t.prototype.Pu=function(t,n){var i=this;return function(r){var e=r.sessionUrl,s=r.settings;i.Kc=er.Started,n&&t.tellAllFramesTo([hr.RestartFrame]),i.$c&&(i.Co(i.$c[0],i.$c[1]),i.$c=null),i.Pc.addEvent({type:Jc.START,data:{sessionUrl:e,settings:s}}),_f(i.Mc)}},t.prototype.Ou=function(){var t=this;return function(){t.Kc=er.Fatal,t.Pc.addEvent({type:Jc.SHUTDOWN,data:{reason:di.SettingsBlocked}}),_f(t.Mc,!0)}},t.prototype.nh=function(t,n,i){void 0===i&&(i=!1),this.Kc=er.Starting,t.start(i,this.Pu(t,n),this.Ou())},t.prototype.qc=function(t){var n;this.Jc();var i=this.Fc,r=this.Zc(function(){return n},!!i);n=i?this.Cc.createInnerRecorder(r):this.Cc.createTopRecorder(r),this.ih(n,t),this.Dc=n},t.prototype.ih=function(t,n){var i,r=this;void 0===n&&(n=!1);var e,s=!1,o=[],u=Rn(this.Si,"_fs_asset_map_id");u&&o.push([ln.Vars,[Ri.Document,{assetMapId:u}]]),this.Fc||(this.th(t.queue(),n),t.queue().enqueue({Kind:$n.REC_FEAT_SUPPORTED,Args:[_i.CaptureOnStartupEnabled,!1===this.Lc]})),o.push.apply(o,Hn(this.Si));var a=null!==(i=this.Gc(t,o))&&void 0!==i?i:{applyApi:function(){}},c=a.applyApi,h=a.sideEffects,f=a.initConfig,v=a.recordingShouldBeEnabled,l=a.reidentified,d=a.nextAppId;this.Fc?(s=!1,e=!1):(void 0!==v?s=!v:!1===this.Lc&&(s=!0),this.Lc=!0,e=!!l),Mf(this.za,e,d),this.Qc(t,{applyApi:c,sideEffects:h,initConfig:f,recordingShouldBeEnabled:v}),s?this.Wc=function(){return r.nh(t,n,e)}:this.nh(t,n,e)},t.prototype.Xc=function(){var t=this,n=function(){t.Tc||(t.Tc=!0,t.Dc&&t.Dc.onDomLoad())},i=!1,r=function(){i||(i=!0,t.Dc&&t.Dc.onLoad())};switch(document.readyState){case"interactive":n();break;case"complete":n(),r()}this.Tc||document.addEventListener("DOMContentLoaded",ye.wrap(n)),i||this.Si.addEventListener("load",ye.wrap(function(t){n(),r()}))},t}();function Mf(t,n,i){t&&(n?jf(t,i):""===i?t.clearAppId():void 0!==i&&t.setAppId(i))}function jf(t,n){t.clear(),n&&t.setAppId(n)}!function(){try{new Kf().init()}catch(t){ye.send(t,"error"),A("Failed to initialize FullStory. "+t)}}()}();